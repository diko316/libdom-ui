!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("libdom-ui",[],t):"object"==typeof exports?exports["libdom-ui"]=t():e["libdom-ui"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/assets/",t(0)}([function(e,t,n){e.exports=n(2)},,function(e,t,n){"use strict";var r=n(3),o=n(5),i=n(39),a=i.register,s=o.rehash,u={};if(r.env.browser){r.ui=u;try{n(41)}catch(e){}s(u,n(45),{createBus:"create",bus:"bus"}),s(u,n(46),{bind:"bind"})}e.exports=u.default=u,a("lib-dom",n(49)),a("lib-template",n(50))},function(e,t,n){"use strict";e.exports=n(4)},function(e,t,n){(function(t){"use strict";var r,o,i,a,s=n(5),u=n(17),c=s.rehash,l={env:s.env,info:u};u&&(c(l,n(24),{xmlEncode:"xmlEncode",xmlDecode:"xmlDecode"}),c(l,n(25),{is:"is",isView:"isView",contains:"contains",select:"select",eachNodePreorder:"eachPreorder",eachNodePostorder:"eachPostorder",eachNodeLevelorder:"eachLevel",add:"add",move:"move",replace:"replace",remove:"remove"}),c(l,r=n(27),{addClass:"add",removeClass:"remove",computedStyle:"computedStyle",stylize:"style"}),c(l,o=n(26),{on:"on",un:"un",purge:"purge",dispatch:"fire",destructor:"ondestroy"}),c(l,i=n(35),{offset:"offset",size:"size",box:"box",scroll:"scroll",screen:"screen"}),c(l,a=n(36),{highlight:"select",noHighlight:"unselectable",clearHighlight:"clear"}),c(l,n(28),{parseColor:"parse",formatColor:"stringify"}),c(l,n(37),{eachDisplacement:"each",animateStyle:"style"}),r.chain=o.chain=i.chain=a.chain=l),e.exports=t.libdom=l.default=l}).call(t,function(){return this}())},function(e,t,n){"use strict";e.exports=n(6)},function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(12),a={env:r};o.assign(a,n(10)),o.assign(a,o),o.assign(a,n(13)),o.assign(a,n(11)),o.assign(a,i),o.assign(a,n(14)),o.assign(a,n(15)),i.chain=a,a.Promise=n(16),e.exports=a.default=a},function(e,t,n){(function(t){"use strict";function r(){var e=n(8),t=p,r=["Node ",t.node,"(",e.platform,"; V8 ",t.v8||"unknown","; arch ",e.arch,")"];return r.join("")}function o(){}var i,a,s=t,u=s.document,c=s.window,l=Object.prototype.toString,f="[object Object]",d=!!u&&!!c&&c.self===(u.defaultView||u.parentWindow),p=!d&&function(){return n(8).versions||!1}(),h={},m=["log","info","warn","error","assert"],g={browser:d,nodejs:p&&!!p.node,userAgent:d?s.navigator.userAgent:p?r():"Unknown",validSignature:l.call(null)!==f||l.call(void 0)!==f,ajax:s.XMLHttpRequest,indexOfSupport:"indexOf"in Array.prototype};if(!s.console)for(i=0,a=m.length;a--;i++)h[m[i]]=o;e.exports=g,s=c=u=null}).call(t,function(){return this}())},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,m=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(){}function o(e,t,n){var r=i,o=c;return n&&o(n,r,e),o(t,r,e),e}function i(e,t){this[t]=e}function a(e,t,n){var r=[e,t];return c(n,s,r),r=r[0]=r[1]=null,e}function s(e,t){var n=this;n[0][t]=n[1][e],n=null}function u(e,t,n){var r=i,o=c;return n&&o(n,r,e,!1),o(t,r,e),e}function c(e,t,n,r){var o,i=S,a=r===!1;void 0===n&&(n=null);for(o in e)if((a||i.call(e,o))&&t.call(n,e[o],o,e)===!1)break;return e}function l(e,t){return S.call(e,t)}function f(e){return c(e,d,null,!0),e}function d(){delete arguments[2][arguments[1]]}function p(e,t,n){return c(t,h,e,n),e}function h(e,t){var n=this;l(n,t)||(n[t]=e),n=null}function m(e,t,n,r){var i,a,s,u,c,f,d,p=C.jsonPath(t),h=T,m=h.object,g=h.array,v=l,y=o,b=j,w=e,x=t;if(p)for(x=p[0],p.splice(0,1),s=-1,u=p.length;u--;)a=p[++s],i=b.test(a),v(w,x)?(c=w[x],d=g(c),d||m(c)?d&&!i&&(c=y({},c),delete c.length):i?c=[c]:(f=c,c={},c[""]=f)):c=i?[]:{},w=w[x]=c,a||(g(w)?a=w.length:0 in w&&(a="0")),x=a;return r!==!0&&v(w,x)&&(c=w[x],g(c)?(w=c,x=w.length):(w=w[x]=[c],x=1)),w[x]=n,w=n=c=f=null,e}function g(e,t){return r.prototype=e.prototype,T.object(t)?o(new r,t):new r}function v(e,t){return y(e,t,[])}function y(e,t,n){var r,o,i=T,a=i.object,s=i.array,u=i.regex,c=i.date,l=y,f=n.length;switch(!0){case e===t:return!0;case a(e):if(!a(t))return!1;if(n.lastIndexOf(e)!==-1&&n.lastIndexOf(t)!==-1)return!0;n[f]=e,n[f+1]=t;for(r in e)if(!(r in t&&l(e[r],t[r],n)))return!1;for(r in t)if(!(r in e&&l(e[r],t[r],n)))return!1;return n.length=f,!0;case s(e):if(!s(t))return!1;if(n.lastIndexOf(e)!==-1&&n.lastIndexOf(t)!==-1)return!0;if(o=e.length,o!==t.length)return!1;for(n[f]=e,n[f+1]=t;o--;)if(!l(e[o],t[o],n))return!1;return n.length=f,!0;case u(e):return u(t)&&e.source===t.source;case c(e):return c(t)&&e.toString()===t.toString()}return!1}function b(e,t){var n=T,r=n.nativeObject(e);return t=t===!0,r||n.array(e)?t?(r?w:x)(e,[],[]):r?u({},e):e.slice(0):n.regex(e)?new RegExp(e.source,e.flags):n.date(e)?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()):e}function w(e,t,n){var r,o,i,a,s=t.length,u=T,c=u.nativeObject,l=u.array,f=x,d=w,p={};t[s]=e,n[s]=p;for(r in e)o=e[r],a=c(o),a||l(o)?(i=t.lastIndexOf(o),o=i===-1?(a?d:f)(o,t,n):n[i]):o=b(o,!1),p[r]=o;return t.length=n.length=s,p}function x(e,t,n){var r,o,i,a=t.length,s=T,u=s.nativeObject,c=s.array,l=x,f=w,d=[],p=0,h=e.length;for(t[a]=e,n[a]=d;h--;p++)r=e[p],i=u(r),i||c(r)?(o=t.lastIndexOf(r),r=o===-1?(i?f:l)(r,t,n):n[o]):r=b(r,!1),d[p]=r;return t.length=n.length=a,d}var E=Object.prototype,T=n(10),C=n(11),S=E.hasOwnProperty,j=/^[0-9]*$/;e.exports={each:c,assign:o,rehash:a,contains:l,instantiate:g,clone:b,compare:v,fillin:p,urlFill:m,clear:f}},function(e,t,n){"use strict";function r(e){return x.call(e)}function o(e){return null===e?"[object Null]":void 0===e?"[object Undefined]":x.call(e)}function i(e,t){return E(e)===t}function a(e){return x.call(e)===y}function s(e){return null!==e&&void 0!==e&&x.call(e)===y}function u(e){var t,n,r=b;return E(e)===y&&(t=e.constructor,r.hasOwnProperty.call(e,"constructor")?(delete e.constructor,n=e.constructor===r,e.constructor=t,n):t===r)}function c(e,t){return"string"==typeof e&&(t===!0||0!==e.length)}function l(e){return"number"==typeof e&&isFinite(e)}function f(e){switch(typeof e){case"number":return isFinite(e);case"boolean":case"string":return!0}return!1}function d(e){return"[object Function]"===x.call(e)}function p(e){return"[object Array]"===x.call(e)}function h(e){return"[object Date]"===x.call(e)}function m(e){return"[object RegExp]"===x.call(e)}var g=n(7),v=g.validSignature,y="[object Object]",b=Object,w=b.prototype,x=w.toString,E=v?r:o;e.exports={signature:E,object:v?a:s,nativeObject:u,string:c,number:l,scalar:f,array:p,method:d,date:h,regex:m,type:i}},function(e,t){"use strict";function n(e){var t,n,r,i,a,s,u=m,c=[],l=0,f=-1,d=!1,p=u.charAt(64);for(e=o(e),t=n=e.length;t--;){switch(r=e.charCodeAt(++f),i=f%3){case 0:s=u.charAt((252&r)>>2),d=(3&r)<<4;break;case 1:s=u.charAt(d|(240&r)>>4),d=(15&r)<<2;break;case 2:s=u.charAt(d|(192&r)>>6),d=63&r}if(c[l++]=s,a=!t,(a||2===i)&&(c[l++]=u.charAt(d)),!t){for(t=l%4,t=t&&4-t;t--;)c[l++]=p;break}}return c.join("")}function r(e){var t,n,r,o,a,s=m,u=p,c=[],l=0,f=-1,d=h;for(e=e.replace(g,""),t=e.length;t--;){switch(n=s.indexOf(e.charAt(++f)),a=f%4){case 0:o=0;break;case 1:o=(r<<2|n>>4)&u;break;case 2:o=(r<<4|n>>2)&u;break;case 3:o=(r<<6|n)&u}if(r=n,!t&&a<3&&o<64)break;a&&(c[l++]=d(o))}return i(c.join(""))}function o(e){for(var t,n=f,r=d,o=h,i=[],a=0,s=-1,u=e.length;u--;)t=e.charCodeAt(++s),t<n?i[a++]=o(t):t<2048?(i[a++]=o(192|t>>6),i[a++]=o(n|t&r)):t<55296||t>57343?(i[a++]=o(224|t>>12),i[a++]=o(n|t>>6&r),i[a++]=o(n|t&r)):(u--,t=65536+((1023&t)<<10|1023&e.charCodeAt(++s)),i[a++]=o(240|t>>18),i[a++]=o(n|t>>12&r),i[a++]=o(n|t>>6&r),i[a++]=o(n|t>>r));return i.join("")}function i(e){for(var t,n,r=f,o=d,i=h,a=[],s=Math,u=s.min,c=s.max,l=0,p=e.length,m=-1;p--;)t=e.charCodeAt(++m),t<r?a[l++]=i(t):t>191&&t<224?(a[l++]=i((31&t)<<6|e.charCodeAt(m+1)&o),n=c(u(p-1,1),0),m+=n,p-=n):t>223&&t<240?(a[l++]=i((15&t)<<12|(e.charCodeAt(m+1)&o)<<6|e.charCodeAt(m+2)&o),n=c(u(p-2,2),0),m+=n,p-=n):(t=((7&t)<<18|(e.charCodeAt(m+1)&o)<<12|(e.charCodeAt(m+2)&o)<<6|e.charCodeAt(m+3)&o)-65536,a[l++]=i(t>>10|55296,1023&t|56320),n=c(u(p-3,3),0),m+=n,p-=n);return a.join("")}function a(e){var t,n,r,o,i=[],a=0,s=[],u=a,c=!0,l=!1,f=l,d=l;for(t=-1,n=e.length;n--;){if(r=e.charAt(++t),o=!n,"["===r){if(f)break;f=c,u&&(d=c)}else if("]"===r){if(!f)break;f=l,d=c}else s[u++]=r,o&&(d=c);if(d&&(i[a++]=s.join(""),s.length=u=0,d=l),o){if(f||a<1)break;return i}}return null}function s(e){return e.replace(v,u)}function u(e){return e.charAt(e.length-1).toUpperCase()}function c(e){return e.replace(y,l)}function l(e){return"-"+e.charAt(e.length-1).toLowerCase()}var f=128,d=63,p=255,h=String.fromCharCode,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=/[^a-zA-Z0-9\+\/]/,v=/[^a-z]+[a-z]/gi,y=/\-*[A-Z]/g;e.exports={encode64:n,decode64:r,utf2bin:o,bin2utf:i,jsonPath:a,camelize:s,uncamelize:c}},function(e,t,n){(function(t){"use strict";function r(e,t){var n,r,o=s(e),i=y;return o&&t instanceof Function&&(e=o[1],n=":"+e,n in i||(i[n]={name:e,before:[],after:[]}),r=i[n][a(o[0])],r[r.length]=t),w.chain}function o(e,t,n){var r,o,a=i(e);if(a)for("undefined"==typeof n&&(n=null),t instanceof Array||(t=[]),r=-1,o=a.length;o--;)a[++r].apply(n,t);return w.chain}function i(e){var t,n=y,r=s(e);if(r&&(t=":"+r[1],t in n))return n[t][a(r[0])]}function a(e){return e===g?"before":"after"}function s(e){var t,n,r=p.string(e)&&e.match(m);if(r)return n=r[1],t="before"===r[4]?g:v,[t,(n||"")+r[5]]}function u(e){var t,n,r,o=b;if(p.string(e))return t=e+".",t in o||(r=c(t),n=l(t),o[t]=n.chain=r.chain={run:r,register:n}),o[t]}function c(e){function t(n,r,i){return o(e+n,r,i),t.chain}return t}function l(e){function t(n,o){return r(e+n,o),t.chain}return t}function f(e){return setTimeout(e,1)}function d(e){return clearTimeout(e)}var p=n(10),h=t,m=/^(([^\.]+\.)*)((before|after)\:)?([a-zA-Z0-9\_\-\.]+)$/,g=1,v=2,y={},b={},w={register:r,run:o,middleware:u,setAsync:h.setImmediate,clearAsync:h.clearImmediate};h.setImmediate instanceof Function||(w.setAsync=f,w.clearAsync=d),e.exports=w.chain=w}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){for(var t=this,n=t.length,r=-1;n--;)if(e===t[++r])return t=null,r;return-1}function o(e){for(var t=this,n=t.length;n--;)if(e===t[n])return t=null,n;return-1}function i(e,t,n){var r,o,i,a;e=n!==!1?e:e.slice(0),e.push.apply(e,t),a=e.length;e:for(o=a;o--;)for(r=e[o],i=a;i--;)if(o!==i&&r===e[i]){a--,e.splice(o,1);continue e}return e}function a(e,t,n){var r,o,i,a=e.length,s=t.length;e=n!==!1?e:e.slice(0);e:for(o=a;o--;){r=e[o];t:for(i=s;i--;)if(r===t[i]){for(i=a;i--;)if(i!==o&&r===e[i])break t;continue e}e.splice(o,1),a--}return e}function s(e,t,n){var r,o,i,a=e.length,s=t.length;e=n!==!1?e:e.slice(0);e:for(o=a;o--;){for(r=e[o],i=s;i--;)if(r===t[i]){e.splice(o,1),a--;continue e}for(i=a;i--;)if(i!==o&&r===e[i]){e.splice(o,1),a--;continue e}}return e}var u=n(7),c=n(9),l=Array.prototype;u.indexOfSupport||c.assign(l,{indexOf:r,lastIndexOf:o}),e.exports={unionList:i,intersectList:a,differenceList:s}},function(e,t,n){"use strict";function r(){return new o}function o(){this.data={}}var i=n(10),a=n(9);o.prototype={constructor:o,get:function(e){var t=this.data;if(a.contains(t,e))return t[e]},set:function(e,t){var n=this.data;return(i.string(e)||i.number(e))&&(n[e]=t),this},unset:function(e){var t=this.data;return a.contains(t,e)&&delete t[e],this},exists:function(e){return a.contains(this.data,e)},clear:function(){return a.clear(this.data),this},clone:function(){var e=this.data;return a.clone(e,!0)}},e.exports={createRegistry:r}},function(e,t,n){"use strict";function r(e,t,n,r,o,i){var a,s,u,c,l,f="\\",d=".",p=[],h=0;for(a=-1,s=e.length;s--;){switch(u=e.charAt(++a),c=!1,l=!s,u){case f:u="",s&&(u=e.charAt(++a),s--);break;case d:u="",c=!0}if(u&&(p[h++]=u),(l||c)&&h){if(t(p.join(""),l,n,r,o,i)===!1)return;p.length=h=0}}}function o(e,t){var n=p;switch(!0){case n.object(e):case n.array(e)&&(!m.test(t)||"length"!==t):if(!h.contains(e,t))return!1}return!0}function i(e,t,n){var r=n[1];return o(r,e)?(n[t?0:1]=r[e],!0):(n[0]=void 0,!1)}function a(e,t){var n=[void 0,t];return r(e,i,n),n[1]=null,n[0]}function s(e,t,n){return h.clone(a(e,t),n)}function u(e,t,n){n[n.length]=e}function c(e,t,n,o){var i,a,s,c,l,f,d,g,v,y=p,b=h.contains,w=y.array,x=y.object,E=y.assign,T=t,C=m;if((x(T)||w(T))&&(r(e,u,i=[]),i.length)){for(l=i[0],i.splice(0,1),a=-1,s=i.length;s--;)c=i[++a],f=C.test(c),b(T,l)?(d=T[l],g=w(d),g||x(d)?g&&!f&&(d=E({},d),delete d.length):f?d=[d]:(v=d,d={},d[""]=v)):d=f?[]:{},T=T[l]=d,l=c;return o!==!0&&b(T,l)&&(d=T[l],w(d)?(T=d,l=T.length):(T=T[l]=[d],l=1)),T[l]=n,T=n=d=v=null,!0}return!1}function l(e,t,n){var r,i=n[0];return!!o(i,e)&&void(t?(p.array(i)?(r="length"===e,i.splice(r?0:e.toString(10),r?i.length:1)):delete i[e],n[1]=!0):n[0]=i[e])}function f(e,t){var n=[t,!1];return r(e,l,n),n[0]=null,n[1]}function d(e,t,n){return h.compare(a(e,t),t,n)}var p=n(10),h=n(9),m=/^([1-9][0-9]*|0)$/;e.exports={jsonFind:a,jsonCompare:d,jsonClone:s,jsonEach:r,jsonSet:c,jsonUnset:f}},function(e,t,n){(function(t){"use strict";function r(e){var t=d;return t.object(e)&&t.method(e.then)}function o(e){var t=s;return e instanceof t||(e=p.instantiate(t)),e.__state=[null,void 0,[],null,null],e}function i(e,t){function n(e){try{t(!0,e)}catch(e){t(!1,e)}}r(e)?e.then(n,function(e){t(!1,e)}):n(e)}function a(e,t,n){var r=e.__state,o=r[b];for(r[v]=t,r[y]=n;o.length;)o[0](t,n),o.splice(0,1)}function s(e){function t(e,t){a(s,e,t)}function n(e){u||(u=!0,i(e,t))}function r(e){u||(u=!0,t(!1,e))}var s=o(this),u=!1;try{e(n,r)}catch(e){r(e)}return s}function u(e){return new s(function(t){t(e)})}function c(e){return new s(function(){arguments[1](e)})}function l(e){var t;return e=m.call(e,0),t=e.length,t?new s(function(n,r){function o(e,t){function o(t,o){var i=f;if(!u){if(!t)return r(o),void(u=!0);i[e]=o,--s||n(i)}}i(t,o)}var a=e,s=t,u=!1,c=s,l=0,f=[];for(f.length=c;c--;l++)o(l,a[l])}):u([])}function f(e){return e=m.call(e,0),new s(function(t,n){function r(e,r){o||(o=!0,(e?t:n)(r))}for(var o=!1,a=i,s=e,u=-1,c=s.length;c--;)a(s[++u],r)})}var d=n(10),p=n(9),h=n(12),m=Array.prototype.slice,g=t,v=0,y=1,b=2;s.prototype={constructor:s,then:function(e,t){function n(n,r){var o=n?e:t;if(d.method(o))try{return r=o(r),void i(r,function(e,t){a(l,e,t)})}catch(e){r=e,n=!1}a(l,n,r)}var r=this,s=r.__state,u=s[v],c=s[b],l=o();return null===u?c[c.length]=n:h.setAsync(function(){n(u,s[y])}),l},catch:function(e){return this.then(null,e)}},p.assign(s,{all:l,race:f,reject:c,resolve:u}),d.method(g.Promise)||(g.Promise=s),e.exports=s,g=null}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(18),o=!1;r&&(o={browser:r,event:n(19),dom:n(20),css:n(21),dimension:n(22),selection:n(23)}),e.exports=o},function(e,t,n){(function(t){"use strict";var r,o,i=t,a=n(5),s=a.env,u=!1;s.browser&&(r=s.userAgent.match(/msie ([0-9]+\.[0-9]+)/i),o=r&&parseInt(r[1],10)||0,u={strict:"CSS1Compat"===i.document.compatMode,ieVersion:o,ie8:8===o}),e.exports=u,i=null}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";var n=t;e.exports={w3c:!!n.addEventListener,ie:!!n.attachEvent,customEvent:!!n.CustomEvent},n=null}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";var n=t.document,r=n.documentElement;e.exports={compare:!!r.compareDocumentPosition,contains:!!r.contains,defaultView:n.defaultView?"defaultView":n.parentWindow?"parentWindow":null,querySelectorAll:!!n.querySelectorAll,listToArray:r.childNodes instanceof Object},n=r=null}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";var r,o,i,a,s=t,u=n(5),c=s.document,l=c.createElement("div"),f=l.style,d="rgba(0,0,0,0.5)",p=["OTransition","webkitTransition","MozTransition","transition"];e.exports=i={w3cStyle:!!s.getComputedStyle,ieStyle:!!c.documentElement.currentStyle,setattribute:!!f.setAttribute,setproperty:!!f.setProperty,transition:!1,opacity:"undefined"!=typeof f.opacity,filterOpacity:"undefined"!=typeof f.filter,alphaColor:!1};try{f.color=d,a=f.color,u.string(a)&&(a=a.replace(/[ \r\n\t\s]+/g,"").toLowerCase()),d===a&&(i.alphaColor=!0)}catch(e){}for(o=p.length;o--;)if(r=p[o],"undefined"!=typeof f[r]){i.transition=r;break}s=c=l=f=null}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";var r=n(18),o=t.window,i=r.ieVersion;e.exports={screensize:"undefined"!=typeof o.innerWidth,pagescroll:"undefined"!=typeof o.pageXOffset,rectmethod:!!o.document.documentElement.getBoundingClientRect,zoomfactor:i>0&&i<8,ie8:8===i},o=null}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";var n=t.document,r=n.documentElement.style,o="undefined";e.exports={range:!!n.createRange,textrange:!!n.createElement("input").createTextRange,cssUnselectable:typeof r.MozUserSelect!==o?"MozUserSelect":typeof r.webkitUserSelect!==o&&"webkitUserSelect"},n=r=null}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";function r(e){return e=l.camelize(e),d.test(e)?e.charAt(0).toUpperCase()+e.substring(1,e.length):e}function o(e,t){var n,r,o=l.string,i=-1,a=t.length;for(e=e.split(f),n=e.length;a--;)r=t[++i],o(r)&&e.indexOf(r)===-1&&(e[n++]=r);return e.join(" ")}function i(e,t){var n,r,o,i=-1,a=t.length;for(e=e.split(f),r=e.length;a--;)for(o=t[++i],n=r;n--;)o===e[n]&&(e.splice(n,1),r--);return e.join(" ")}function a(e){var t=h,n="";return t&&(t.innerHTML=e,n=t.value),t=null,n}function s(e){return e.replace(p,u)}function u(e){var t,n=e.charCodeAt(0).toString(16);switch(n){case"26":t="amp";break;case"22":t="quot";break;case"27":t="apos";break;case"3C":case"3c":t="lt";break;case"3E":case"3e":t="gt";break;default:t="#x"+n}return"&"+t+";"}function c(){h=null}var l=n(5),f=/[ \r\n\t]*[ \r\n\t]+[ \r\n\t]*/,d=/^([Mm]oz|[Ww]ebkit|[Mm]s|[oO])[A-Z]/,p=/[^\u0021-\u007e]|[\u003e\u003c\&\"\']/g,h=t.document.createElement("textarea"),m={camelize:l.camelize,stylize:r,addWord:o,removeWord:i,xmlEncode:s,xmlDecode:a,1001:"Invalid [name] parameter.",1011:"Invalid [handler] parameter.",1101:"Invalid DOM [element] parameter.",1102:"Invalid [dom] Object parameter.",1103:"Invalid DOM [node] parameter.",1104:"Invalid DOM [document] parameter.",1111:"Invalid CSS [selector] parameter.",1112:"Invalid tree traverse [callback] parameter.",1121:"Invalid DOM Element [config] parameter.",1131:"Invalid [observable] parameter.",1132:"Invalid Event [type] parameter.",1133:"Invalid Event [handler] parameter.",1141:"Invalid [style] Rule parameter.",1151:"Invalid Animation [handler] parameter.",1152:"Invalid Animation [displacements] parameter.",2001:"Style Attribute manipulation is not supported",2002:"Computed style is not supported by this browser.",2003:"CSS Selector query form DOM is not supported.",2004:"DOM position comparison is not supported.",2005:"DOM selection not supported.",2006:"CSS Opacity is not supported by this browser"};l.register("libdom.event.global-destroy",c),e.exports=m}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){var n=N[1102],r=j;if(!r(e,1,9,11))throw new Error(n);if(!r(t)||t.nodeType in V)throw new Error(n);switch(e.nodeType){case 9:e=e.documentElement;break;case 11:e=e.firstChild}return H(e,t)}function o(){throw new Error(N[2004])}function i(e,t){return(16&e.compareDocumentPosition(t))>0}function a(e,t){return e.contains(t)}function s(e,t){var n=I;if(!n.string(e))throw new Error(N[1001]);if(!n.method(t))throw new Error(N[1011]);return _.set(e,t),X.chain}function u(e,t,n){var r,o=null,i=U,a=j;if(!j(e,1,11))throw new Error(F);if(a(t))o=t;else if(I.object(t)){if(r=h(t),!r)throw new Error(i);o=e.ownerDocument.createElement(r),v(o,t)}if(!a(o,1,3,4,7,8))throw new Error(i);return e.insertBefore(o,y(e,n)),o}function c(e,t){var n;if(!j(e,1,3,4,7,8))throw new Error(z);return 1===e.nodeType&&t!==!1&&T(e,d),n=e.parentNode,n&&n.removeChild(e),n=null,e}function l(e,t){var n,r,o,i,a=j,s=z,u=!1;if(!a(t,1))throw new Error(F);if(a(e,1,3,4,7,8)&&(e=[e],u=!0),!I.array(e))throw new Error(s);for(o=t.ownerDocument.createDocumentFragment(),n=-1,r=e.length;r--;)i=e[++n],a(i,1,3,4,7,8)&&o.appendChild(i);return t.appendChild(o),i=null,u&&e.splice(0,e.length),o=null,t}function f(e,t,n){var r,o=null,i=U,a=j;if(!a(e,1,3,4,7,8)||!e.parentNode)throw new Error(z);if(a(t))o=t;else if(I.object(t)){if(r=h(t),!r)throw new Error(i);o=e.ownerDocument.createElement(r),v(o,t)}if(!a(o,1,3,4,7,8))throw new Error(i);return n===!0&&1===e.nodeType&&T(e,d),e.parentNode.replaceChild(o,e),o}function d(e){M.purge(e)}function p(e,t){if(!j(e,1,11))throw new Error(F);return y(e,t,1)}function h(e){var t=I;return t.object(e)&&(e=e.tagName||e.nodeNode||e.tag),!!t.string(e)&&e}function m(e,t){var n,r=this,o=I,i=_;switch(t){case"class":t="className";break;case"for":t="htmlFor"}B.test(t)?(n=t.substring("-"===t.charAt(2)?3:2,t.length),"on"===n&&o.object(e)?o.each(e,g,r):g.call(r,e,n)):i.exists(t)?i(t)(r,e):$.test(t)||W.indexOf(t)!==-1?r.setAttribute(t,e):r[t]=e,r=null}function g(e,t){var n=this;I.method(e)&&M.on(n,t,e),n=null}function v(e,t,n){var r,o,i,a,s,u,c,l,f=I,d=f.contains,p=f.object,g=v,y=h,b=m,w=!1,x=null;if(p(t)){x=null;e:for(r in t)if(d(t,r)){switch(o=t[r],r){case"tagName":case"nodeName":case"tag":continue e;case"text":case"childText":case"innerText":w=!0;case"childNodes":case"innerHTML":case"html":x=o;continue e;case"attributes":p(o)&&f.each(o,b,e);continue}b.call(e,o,r)}if(f.string(x))w&&(x=N.xmlEncode(x)),e.innerHTML=x;else if(!w&&(p(x)&&(x=[x]),f.array(x))){for(c=e.ownerDocument,u=n===!0?e:c.createDocumentFragment(),a=-1,s=x.length;s--;)i=x[++a],p(i)&&(l=c.createElement(y(i)||"div"),g(l,i,!0),u.appendChild(l));u!==e&&e.appendChild(u),c=u=l=null}i=null}}function y(e,t,n){var r,o,i,a=I.number;if(j(t,1,3,4,7,8)&&t.parentNode===e)return t;if(a(t)&&t>-1)for(r=t,o=-1,i=!a(n),t=e.firstChild;t;t=t.nextSibling)if((i||n===t.nodeType)&&o++,o===r)return t;return null}function b(e,t){var n,r,o,i;if(!j(e,9,1))throw new Error(z);if(!I.string(t))throw new Error(L);for(n=e.querySelectorAll(t),r=-1,(i=[]).length=o=n.length;o--;)i[++r]=n[r];return n=null,i}function w(e,t){if(!j(e,9,1))throw new Error(z);if(!I.string(t))throw new Error(L);return Array.prototype.slice.call(e.querySelectorAll(t))}function x(){throw new Error(N[2003])}function E(e,t,n){return S(e,t,R,n)}function T(e,t,n){return S(e,t,k,n)}function C(e,t,n){return S(e,t,q,n)}function S(e,t,n,r){var o,i,a,s,u=0,c=0;if(!j(e,1))throw new Error(F);if(!I.method(t))throw new Error(D);switch("undefined"==typeof r&&(r=null),n){case q:for(o=i={node:e,next:null};o;o=o.next)for(a=o.node,o.node=null;a&&(s=a.firstChild,t.call(r,s)!==!1);a=a.nextSibling)s&&(i.next={node:s,next:null},i=i.next);break;case k:c=1;case R:e:for(s=e;s&&(c||1!==s.nodeType||t.call(r,s)!==!1);){if(a=s.firstChild)u++;else{if(c&&1===s.nodeType&&t.call(r,s)===!1)break;for(a=s.nextSibling;!a&&u--&&s;){if(s=s.parentNode,c&&1===s.nodeType&&t.call(r,s)===!1)break e;a=s.nextSibling}}s=a}}return i=o=a=s=null,X.chain}function j(e){var t,n,r,o,i,a,s=I.number;if(e&&"object"==typeof e&&(t=e.nodeType,s(t))){for(o=arguments,r=Math.max(o.length-1,0),a=!r,n=0;r--;)if(i=o[++n],t===i)return!0;return a}return!1}function A(e){var t=typeof e;return!(!e||"object"!==t&&"function"!==t||e.self!==e.window||!e.document)}var O,I=n(5),P=n(17),M=n(26),N=n(24),R=1,k=2,q=3,F=N[1101],z=N[1103],L=N[1111],D=N[1112],U=N[1121],V={9:1,11:1},H=o,$=/(^\_|[^a-zA-Z\_])/,W=["nodeType","nodeValue","ownerDocument","tagName","attributes","parentNode","childNodes","firstChild","lastChild","previousSibling","nextSibling","sourceIndex","type"],B=/^on(\-?[a-zA-Z].+)?$/,_=I.createRegistry(),X={contains:r,is:j,isView:A,eachPreorder:E,eachPostorder:T,eachLevel:C,documentViewAccess:"defaultView",select:x,helper:s,add:u,replace:f,move:l,remove:c,find:p};O=P&&P.dom,O&&(H=O.compare?i:O.contains?a:o,O.querySelectorAll&&(X.select=O.listToArray?w:b)),e.exports=X.chain=X},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){var o,i,a=F,u=R;if(!u.string(t))throw new Error(V);if(!u.method(n))throw new Error(H);if(e=j(e),!e)throw new Error(U);return"undefined"==typeof r&&(r=null),i=[e,t,n,r],L.run("listen",i),e=i[0],t=i[1],n=i[2],r=i[3],i.splice(0,4),i=null,o=A(e,t,n,r),o.unlisten=s(o),o.head=a,o.tail=null,a&&(a.tail=o),F=o,o.unlisten}function o(e,t,n,r){var o,i,a,s=R;if(!s.string(t))throw new Error(V);if(!s.method(n))throw new Error(H);if(e=j(e),!e)throw new Error(U);for("undefined"==typeof r&&(r=null),a=[e,t,n,r],L.run("unlisten",a),e=a[0],t=a[1],n=a[2],r=a[3],a.splice(0,4),a=null,o=u(e,t,n,r),i=o.length;i--;)o[i].unlisten();return _.chain}function i(e,t,n){if(!R.string(t))throw new Error(V);if(e=j(e),!e)throw new Error(U);return I(e,t,n)}function a(){for(var e=u.apply(null,arguments),t=e.length;t--;)e[t].unlisten();return _.chain}function s(e){function t(){var t,r;n||(n=!0,O(e[0],e[1],e[4]),t=e.head,r=e.tail,t&&(t.tail=r),r&&(r.head=t),e===F&&(F=r||t),e[0]=null,e.splice(0,4),delete e.unlisten,delete e.head,delete e.tail,e=t=r=null)}var n=!1;return t}function u(e,t,n,r){var o=F,i=[],a=0,s=arguments.length,u=0,c=0,l=0,f=0;switch(!0){case s>3:f=1;case s>2:l=1;case s>1:c=1;case s>0:u=1}for(;o;o=o.head)u&&o[0]!==e||c&&o[1]!==t||l&&o[2]!==n||f&&o[3]!==r||(i[a++]=o);return i}function c(e,t,n,r){var o=p(n,r);return e.addEventListener(t,o,!1),[e,t,n,r,o]}function l(e,t,n){e.removeEventListener(t,n,!1)}function f(e,n,r){var o,i=R.contains,a=t.document.createEvent("Event");a.initEvent(n,r.bubbles===!0,r.cancelable!==!1);for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return e.dispatchEvent(a),a}function d(e){var t=R.method;return!!(e&&"object"==typeof e&&t(e.addEventListener)&&t(e.removeEventListener)&&t(e.dispatchEvent))&&e}function p(e,t){function n(n){return L.run("dispatch",[n.type,n]),e.call(t,n)}return n}function h(e,t,n,r){var o,i=$;return T(e,t)?(o=b(t,n,r),e.attachEvent(i+W,o),e.attachEvent(i+B,o)):(o=y(n,r),e.attachEvent(i+t,o)),[e,t,n,r,o]}function m(e,t,n){var r=$;n.customType?(e.detachEvent(r+W,n),e.detachEvent(r+B,n)):e.detachEvent(r+t,n)}function g(e,n,r){var o,i=R.contains,a=t.document.createEventObject();for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return T(e,n)&&(a.customType=n,n=r.bubbles===!0?W:B),o=$+n,e.fireEvent(o,a),r.cancelable===!1&&(a.returnValue=!0),a}function v(e){return!!(e&&(e=e.window?e.self:e,e.attachEvent&&e.detachEvent))&&e}function y(e,n){function r(){var r=t.event;return E(r),L.run("dispatch",[r.type,r]),e.call(n,r)}return r}function b(e,n,r){function o(){var o=t.event;if(E(o),o.customType===e)return L.run("dispatch",[e,o]),o.type=e,n.call(r,o)}return o.customType=!0,o}function w(){this.returnValue=!1}function x(){this.cancelBubble=!0}function E(e){e.target=e.target||e.srcElement,"preventDefault"in e||(e.preventDefault=w),"stopPropagation"in e||(e.stopPropagation=x)}function T(e,t){var n,r,o,i=!1,a=D;return 9===e.nodeType&&(e=e.documentElement),1===e.nodeType&&(r=e.tagName+":"+t,r in a?a[r]:(o=$+t,n=e.cloneNode(!1),i=o in n,i||(n.setAttribute(o,"return;"),i="function"==typeof n[o]),n=null,a[r]=!i,!i))}function C(){z||(z=!0,L.run("global-destroy",[]),a())}function S(e){R.method(e)&&L.register("global-destroy",e)}var j,A,O,I,P,M,N,R=n(5),k=n(17),q=n(24),F=null,z=!1,L=R.middleware("libdom.event"),D={},U=q[1131],V=q[1132],H=q[1133],$="on",W="beforeupdate",B="propertychange",_=e.exports={on:r,un:o,fire:i,purge:a,ondestroy:S};if(j=A=O=I,P=k&&k.event){switch(M=!0,!0){case P.w3c:A=c,O=l,I=f,j=d;break;case P.ie:A=h,O=m,I=g,j=v;break;default:M=!1}M&&(N=t,r(N,"beforeunload",C),r(N,"unload",C),N=null)}_.chain=_}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";function r(e){var t;if(!A.is(e,1))throw new Error(K);return t=e.className,e.className=S.addWord(t,te.call(arguments,1)),ee.chain}function o(e){var t;if(!A.is(e,1))throw new Error(K);return t=e.className,e.className=S.removeWord(t,te.call(arguments,1)),ee.chain}function i(e,t,n){var r,o,i,s,u,c=C,l=c.string,f=c.number,d=c.contains,p=O,h=Y,m=J,g=D,v=a,y=B,b=ee.colorUnit,w=S.stylize,x=arguments.length;if(!A.is(e,1))throw new Error(K);if(x>1){if(l(t)&&(x>2?(o={},o[t]=n,t=o):t=v(t)),!c.object(t))throw new Error(S[1141]);o=e.style;e:for(r in t)if(d(t,r)){switch(n=t[r],r=w(r),i="opacity"===r,s=f(n),u=s||l(n),!0){case"opacity"===r:if(u){m(o,n);continue e}h(o,"filter",n=null);break;case s&&y.test(r):n=""+n+"px";break;case s&&g.test(r):n=p.stringify(n,b);break;default:u||(n=null)}h(o,r,n)}return o=null,ee.chain}return v(e.style.cssText)}function a(e){for(var t,n,r=1,o=2,i=r,a=-1,s=e.length,u=0,c=[],l={};s--;)switch(t=e.charAt(++a),i){case r:":"===t?(c=c.join(""),n=[],u=0):c[u++]=t;break;case o:";"!==t&&s?n[u++]=t:(l[c]=n.join(""),c=[],u=0)}return l}function s(e){var t,n=isFinite;switch(typeof e){case"number":if(n(e))return e;break;case"string":if(t=e.length,V.test(e)&&"px"!==e.substring(t-2,t))return e;if("auto"===e||"inherit"===e)return e;if(e=parseFloat(e),n(e))return e}return null===e&&e}function u(){throw new Error(S[2001])}function c(){throw new Error(S[2002])}function l(e,n){var r,o,i,a,s,u,c,l=S.stylize,f=C.string;if(!A.is(e,1))throw new Error(K);for(r=t.getComputedStyle(e),u={},C.array(n)||(n=te.call(arguments,1)),o=-1,i=n.length;i--;)if(a=n[++o],f(a)){switch(c=l(a)){case"opacity":s=Z(r);break;default:s=r[c]}u[a]=s}return r=null,u}function f(e,t){var n,r,o,i,a,s,u,c,l,f=B,h=C,m=W,g=h.string,v=S.stylize,y=Z,b=d;if(!A.is(e,1))throw new Error(K);for(n=e.currentStyle,u=!1,l=!1,c={},h.array(t)||(t=te.call(arguments,1)),r=-1,o=t.length;o--;)if(i=t[++r],g(i)){switch(s=v(i),!0){case"opacity"===s:a=y(n);break;case m.test(s):l||(l=p(e,n)),a=l[s]+"px";break;case f.test(s)&&"auto"!==n[s]:u===!1&&(u=b(e,n,"fontSize",null)),a=b(e,n,s,u)+"px";break;case"float"===s:a=n.styleFloat;break;default:a=n[s]}c[i]=a}return n=a=null,c}function d(e,t,n,r){var o,i=t[n],a=parseFloat(i),s=i.split($)[0];switch(s){case"in":return 96*a;case"pt":return 96*a/72;case"em":case"%":return r||(o=e.parentElement,r=U.test(s)&&o?d(o,o.currentStyle,"fontSize",null):16,o=null),"em"===s?a*r:a/100*("fontSize"==n?r:H.test(n)?e[z]:e[L]);default:return a}}function p(e,t){var n,r,o=e.offsetParent,i=o.currentStyle,a=j.browser.ieVersion<9,s=parseFloat,u=P,c=M,l=I,f=N,d=z,p=L,h=e[R],m=e[k],g=o[d]-e[q],v=o[p]-e[F],y=e[d],b=e[p];switch(t.position){case"relative":if(h-=s(i[c])||0,m-=s(i[u])||0,a){for(n=e.parentNode;n!==o;n=n.parentNode)r=n.currentStyle,"static"===r.position&&(h-=(s(r.paddingLeft)||0)+(s(r.borderLeftWidth)||0),m-=(s(r.paddingTop)||0)+(s(r.borderTopWidth)||0));
o===e.ownerDocument.body&&(h-=s(i.marginLeft)||0,m-=s(i.marginTop)||0)}case"absolute":case"fixed":h-=s(i.borderLeftWidth)||0,m-=s(i.borderTopWidth)||0}return g-=h,v-=m,y-=(s(t[c])||0)+(s(t[f])||0),b-=(s(t[u])||0)+(s(t[l])||0),o=i=null,{left:h,top:m,right:g,bottom:v,width:y,height:b}}function h(){throw new Error(S[2006])}function m(e){var t,n=Math,r=C,o=_,i=e.filter;return r.string(i)&&o.test(i)?(t=i.match(o),t=parseFloat(t[1]),n.max(1,n.min(100,r.number(t)?t:100))/100):1}function g(e,t){var n=Math,r=C;r.string(t)&&(t=parseFloat(t)),r.number(t)&&(e.filter=X.replace(Q,n.min(100,n.max(0,n.round(100*t))).toString(10)))}function v(e){var t=parseFloat(e.opacity);return C.number(t)?t:1}function y(e,t){var n=Math,r=C;r.string(t)&&(t=parseFloat(t)),r.number(t)&&(e.opacity=n.min(1,n.max(0,t)).toFixed(2))}function b(e,t,n){null===n?e.removeProperty(t):e[t]=n}function w(e,t){return e.getPropertyValue(t)}function x(e,t,n){null===n?e.removeAttribute(t):e[t]=n}function E(e,t){return e.getAttribute(t)}var T,C=n(5),S=n(24),j=n(17),A=n(25),O=n(28),I="paddingBottom",P="paddingTop",M="paddingLeft",N="paddingRight",R="offsetLeft",k="offsetTop",q="offsetWidth",F="offsetHeight",z="clientWidth",L="clientHeight",D=/[Cc]olor$/,U=/%|em/,V=/^([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)(em|px|\%|pt|vh|vw|cm|ex|in|mm|pc|vmin)$/,H=/width/i,$=/\d/,W=/(top|bottom|left|right|width|height)$/,B=/([Tt]op|[Bb]ottom|[Ll]eft|[Rr]ight|[wW]idth|[hH]eight|Size|Radius)$/,_=/\(opacity\=([0-9]+)\)/i,X="alpha(opacity=$opacity)",Q=/\$opacity/,Z=h,J=h,Y=u,G=u,K=S[1101],ee={add:r,remove:o,computedStyle:c,style:i,unitValue:s,styleOpacity:h,colorUnit:"hex",boxRe:W,dimensionRe:B,colorRe:D},te=Array.prototype.slice;A.helper("className",r),A.helper("style",i),T=j&&j.css,T&&(ee.computedStyle=T.w3cStyle?l:T.ieStyle?f:c,T.setattribute?(Y=x,G=E):T.setproperty&&(Y=b,G=w),T.opacity?(Z=v,J=y):T.filterOpacity&&(Z=m,J=g),T.alphaColor&&(ee.colorUnit="rgba")),e.exports=ee.chain=ee}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e=o(e),e?i(e)||null:null}function o(e){return"string"==typeof e&&(e=e.replace(d,""),l.test(e))?e:null}function i(e){var t,n,r,o=p,i=e.match(l),a=i[1];return u.contains(o,a)||(a="hex"),t=i[3],n=!t,n?(t=i[2],t.length<6&&(r=t.charAt(2),t=[t.charAt(0),t.substring(0,2),t.charAt(1),r,r].join(""))):t=t.split(","),[a,n,t]}function a(e){var t,n,r,a,s,u,l,d,h,m,g=c,v=g.PERCENT,y=g.NUMBER,b=g.HEX,w=f;if(e=o(e),t=e&&i(e)){for(d=t[0],l=p[d],u=l.itemize,m=[],h=t[1],s=t[2],n=-1,h?(m[3]=100,r=3):r=s.length;r--;){if(a=s[++n],h)a=s.substring(2*n,2*n+2);else if(!w.test(a))return null;m[n]=u(a,n,h?b:"%"===a.charAt(a.length-1)?v:y)}return l.toInteger.apply(l,m)}return null}function s(e,t){var n=p,r=u;return arguments.length<2&&(t="hex"),r.contains(n,t)&&r.number(e)?(e=Math.round(e),n[t].toString(e)):null}var u=n(5),c=n(29),l=/^(\#?|rgba?|hsla?)(\(([^\,]+(\,[^\,]+){2,3})\)|[a-f0-9]{3}|[a-f0-9]{6})$/,f=/^[0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*$/,d=/[ \r\n\t\s]+/g,p={rgb:n(30),rgba:n(31),hsl:n(32),hsla:n(33),hex:n(34)},h={parse:a,parseType:r,stringify:s};e.exports=h},function(e,t){"use strict";function n(e,t){var n=parseFloat,o=r;switch(t){case o.HEX:return parseInt(e,16)||0;case o.NUMBER:return n(e)||0;case o.PERCENT:return Math.round(100*(n(e)||1))}return 0}var r=e.exports={NUMBER:1,HEX:2,PERCENT:3,format:n}},function(e,t,n){"use strict";function r(e){return"rgb("+i.toArray(e).slice(0,3).join(",")+")"}function o(e,t,n){return i.toInteger(e,t,n,100)}var i=n(31),a=n(5),s=e.exports=a.assign({},i);s.toString=r,s.toInteger=o},function(e,t,n){"use strict";function r(e,t,n){switch(n=(n+1)%1,!0){case n<1/6:return e+6*(t-e)*n;case n<.5:return t;case n<2/3:return e+(t-e)*(2/3-n)*6}return e}function o(e,t,n){var r=Math,o=0,i=t>2?p:l;return e=c.format(e,n),r.max(o,r.min(i,e))}function i(e){var t,n,o=Math,i=r,a=l,s=f,u=e&d,c=e>>9&s,p=e>>16&s,v=e>>23&s;return p/=g,0===c?[p,p,p]:(u/=h,c/=m,t=p<.5?p*(1+c):p+c-p*c,n=2*p-t,[o.round(i(n,t,u+1/3)*a),o.round(i(n,t,u)*a),o.round(i(n,t,u-1/3)*a),v])}function a(e,t,n,r){var o,i,a,s,c,v,y=Math,b=l,w=f;if(e/=b,t/=b,n/=b,o=y.max(e,t,n),i=y.min(e,t,n),c=(o+i)/2,o==i)a=s=0;else{switch(v=o-i,s=c>.5?v/(2-o-i):v/(o+i),o){case e:a=(t-n)/v+(t<n?6:0);break;case t:a=(n-e)/v+2;break;case n:a=(e-t)/v+4}a/=6}return u.number(r)||(r=p),(r&w)<<23|(c*g&w)<<16|(s*m&w)<<9|a*h&d}function s(e){var t=i(e),n=t[3]/p;return t[3]=parseFloat(n.toFixed(2)),"rgba("+t.join(",")+")"}var u=n(5),c=n(29),l=255,f=127,d=511,p=100,h=360,m=p,g=p;e.exports={itemize:o,toArray:i,toInteger:a,toString:s}},function(e,t,n){"use strict";function r(e){var t=o.toArray(e).slice(0,3);return t[1]+="%",t[2]+="%","hsl("+t.join(",")+")"}var o=n(32),i=n(5),a=e.exports=i.assign({},o);a.toString=r},function(e,t,n){"use strict";function r(e,t,n){var r=u,o=Math,i=p,a=parseFloat,s=0,l=t<1?d:i;switch(n){case r.HEX:e=parseInt(e,16)/c*l;break;case r.NUMBER:e=a(e),t>2&&(e*=i);break;case r.PERCENT:e=a(e)}return o.max(s,o.min(l,e||0))}function o(e,t,n,r){var o=l;return s.number(r)||(r=p),(r&o)<<23|(n&o)<<16|(t&o)<<9|e&f}function i(e){var t=l;return[e&f,e>>9&t,e>>16&t,e>>23&t]}function a(e){var t=i(e);return t[1]+="%",t[2]+="%",t[3]=(t[3]/p).toFixed(2),"hsla("+t.join(",")+")"}var s=n(5),u=n(29),c=255,l=127,f=511,d=360,p=100;e.exports={itemize:r,toInteger:o,toArray:i,toString:a}},function(e,t,n){"use strict";function r(e){var t=Math;return e=t.max(0,t.min(e,255)),(e<16?"0":"")+e.toString(16)}function o(e){var t=r,n=i.toArray(e).slice(0,3);return n[0]=t(n[0]),n[1]=t(n[1]),n[2]=t(n[2]),"#"+n.join("")}var i=n(31),a=n(5),s=e.exports=a.assign({},i);s.toString=o},function(e,t,n){(function(t){"use strict";function r(e,t,n){if(arguments.length>1)return i(e,t,n);switch(x(e)){case H:return u(e).slice(0,2);case V:return X(e).slice(0,2)}throw new Error(I)}function o(e,t,n){return arguments.length>1?i(e,null,null,t,n):x(e)===H?u(e).slice(2,4):Q(e)}function i(e,t,n,r,o){var i,s,c;if(arguments.length>1)return i=a(e,t,n,null,null,r,o),i&&O.style(e,i),J.chain;if(s=x(e),s===H)return c=u(e),t=c[0],n=c[1],r=c[2],o=c[3],c=l(e),[t,n,r-t-c[2],o-n-c[3],r,o];if(s!==V)throw new Error(I);return c=Q(e),r=c[0],o=c[1],c=X(e),c[4]=r,c[5]=o,c}function a(e,t,n,r,o,i,a,s){var u,c,l,f,d=O,p=d.unitValue,h=parseFloat,m="number",g=!1,v=g,y=g,b=g;if(x(e)!==V)throw new Error(I);switch(C.array(t)&&(s=n,t.length>4?(a=5 in t?t[5]:null,i=4 in t?t[4]:null,o=3 in t?t[3]:null,r=2 in t?t[2]:null):(a=3 in t?t[3]:null,i=2 in t?t[2]:null,o=null,r=null),n=1 in n?t[1]:null,t=t[0]),C.object(s)||(s={}),f=d.computedStyle(e,"position","top","left","right","bottom","width","height"),f.position){case"relative":case"absolute":case"fixed":t=p(t),n=p(n),r=p(r),o=p(o),g=t!==!1,v=n!==!1,y=!g&&r!==!1,b=!b&&o!==!1,(g||y||v||b)&&(l=X(e),g?s.left=typeof t===m?(h(f.left)||0)+(t-l[0])+"px":t:y&&(s.right=typeof r===m?(h(f.right)||0)+(r-l[2])+"px":r),v?s.top=typeof n===m?(h(f.top)||0)+(n-l[1])+"px":n:b&&(s.bottom=typeof r===m?(h(f.bottom)||0)+(o-l[3])+"px":o))}return i=p(i),u=i!==!1,u&&(s.width=typeof i===m?h(f.width||0)+(i-e[R])+"px":i),a=p(a),c=a!==!1,c&&(s.height=typeof a===m?h(f.height||0)+(a-e[k])+"px":a),g||y||v||b||u||c?s:null}function s(e,t,n){var r,o,i=arguments.length>1,a=C.number,s=z,u=L;switch(i&&(a(t)||(t=!1),a(n)||(n=!1)),x(e)){case H:if(o=A.is(e)?e[U]:e,r=_(o),!i)return r;v(o,t===!1?r[0]:t,n===!1?r[1]:n);break;case V:if(!i)return[e[u],e[s]];e[u]=t===!1?e[u]:t,e[s]=n===!1?e[s]:n;break;default:throw new Error(P)}}function u(e){var t=Math,n=A,r=e,o=l();return n.isView(r)&&(r=r.document),9===r.nodeType&&(r=r[W],o[2]=t.max(r.scrollWidth,o[2]),o[3]=t.max(r.scrollHeight,o[3])),r=null,o}function c(e,t,n){var r=null,o=O,i=C.string,a=arguments.length,s=x(e)===V;return a>1?(r={},i(t)?r.visibility=t:"boolean"==typeof visiblity&&(r.visibility=t?"visible":"hidden"),n===!1&&(n="none"),i(n)&&(r.display=n),o.style(e,r),J.chain):!!s&&(r=O.computedStyle(e,"display","visibility"),"none"!==r.display&&"hidden"!==r.visibility)}function l(e){var n,r,o=A,i=e;return o.is(i,1,9)&&(i=(1===i.nodeType?i.ownerDocument:i)[o.documentViewAccess]),o.isView(i)||(i=t.window),n=_(i),r=Z(i),n[2]=r[0],n[3]=r[1],i=null,n}function f(e){return[e.innerWidth,e.innerHeight]}function d(e){var t=$?w(e):1,n=e.document[W],r=[n.clientWidth*t,n.clientHeight*t];return n=null,r}function p(e,t){var n=Math,r=t||e[D](),o=[n.max(0,r.width||0),n.max(0,r.height||0)];return r=null,o}function h(e){var t=Math;return[t.max(0,e[R]||0),t.max(0,e[k]||0)]}function m(e,n){var r=l(e),o=n||e[D](),i=E.zoomfactor?w(t.window.document[W]):1,a=r[0],s=r[1],u=o.left*i+a,c=o.top*i+s,f=[u,c,o.right*i-r[2],o.bottom*i-r[3]];return o=null,f}function g(e){var n=t.document[W],r=n.body,o=O,i=M,a=N,s=q,u=F,c=z,f=L,d=[u,s],p=e.offsetParent,h=o.computedStyle(e,[d]),m=l(e),g=e[a],v=e[i];for(g+=parseFloat(h[u])||0,v+=parseFloat(h[s])||0;p;p=p.offsetParent)1===p.nodeType&&(h=o.computedStyle(p,d),g+=(p[a]||0)+(p.clientLeft||0)+(parseFloat(h[u])||0),v+=(p[i]||0)+(p.clientTop||0)+(parseFloat(h[s])||0));for(p=e.parentNode;p&&p!==r;p=p.parentNode)1===p.nodeType&&p!==n&&(g+=p[f]||0,v+=p[c]||0);return n=p=r=null,[g,v,g+e[R]-m[2],v+e[k]-m[3]]}function v(e,t,n){var r=$?w(e):1;e.scrollTo(t*r,n*r)}function y(e){var t=[e.pageXOffset||0,e.pageYOffset||0];return t}function b(e){var t=Math,n=e.document[W],r=$?w(e):1,o=[t.round(n[L]/r),t.round(n[z]/r)];return n=null,o}function w(){var e=1;return e}function x(e){var t,n,r=A;if(r.is(e)){switch(e.nodeType){case 9:case 11:return H}return t=e.ownerDocument.body,n=(e===t||r.contains(t,e))&&V,t=null,n}return!!r.isView(e)&&H}var E,T,C=n(5),S=n(17),j=n(24),A=n(25),O=n(27),I=j[1101],P=j[1102],M="offsetTop",N="offsetLeft",R="offsetWidth",k="offsetHeight",q="marginTop",F="marginLeft",z="scrollTop",L="scrollLeft",D="getBoundingClientRect",U=null,V=1,H=2,$=!1,W="documentElement",B=!1,_=null,X=null,Q=null,Z=null,J={offset:r,size:o,box:i,scroll:s,screen:l,visible:c,translate:a};E=S&&S.dimension,E&&(S.browser.strict||(W="body"),$=E.zoomfactor,U=S.dom.defaultView,T=S.browser.ieVersion,_=E.pagescroll?y:b,Z=E.screensize?f:d,B=E.rectmethod&&D,X=B?m:g,Q=B?p:h),e.exports=J.chain=J}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";function r(e,t){var n=v;if(g.is(e,9)&&(e=e.body),!n.visible(e))throw new Error(m[1101]);if(arguments.length<2&&(t=null),null!==t&&!n.visible(t))throw new Error(w);return x(e,t),S.chain}function o(e){if(!g.is(e,9)){if(arguments.length>0)throw new Error(m[1104]);e=t.document}return E(e),S.chain}function i(e,t){if(!g.is(e,1))throw new Error(w);return T(e,t===!1),S.chain}function a(e,t){e.style.webkitUserSelect=t?"text":"none"}function s(e,t){e.style.MozUserSelect=t?"text":"none"}function u(e,t){e.unselectable=t?"off":"on"}function c(){throw new Error(m[2005])}function l(e,t){var n,r=e.ownerDocument.body,o=r.createTextRange();o.moveToElementText(e),t&&(n=r.createTextRange(),n.moveToElementText(t),o.setEndPoint("EndToEnd",n)),o.select(),r=n=o=null}function f(e){e.selection.empty()}function d(e,t){var n=e.ownerDocument,r=n.createRange(),o=n.createRange(),i=n[y.defaultView].getSelection();r.selectNodeContents(e),t&&o.selectNodeContents(t),i.addRange(r),t&&i.addRange(o),n=i=r=o}function p(e){e[y.defaultView].getSelection().removeAllRanges()}var h=n(17),m=n(24),g=n(25),v=n(35),y=h.dom,b=h.selection,w=m[1102],x=null,E=null,T=u,C=b.cssUnselectable,S={select:r,clear:o,unselectable:i};b.range?(x=d,E=p):b.textrange?(x=l,E=f):x=E=c,C&&(T="MozUserSelect"===C?s:a),e.exports=S.chain=S}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n,r,o){function a(){var e=a;S&&(x(S),delete b[S],delete e.session,delete e.update,delete e.running,S=null),e=null}function s(e,t,n){var r=l,o=y;if(S){if(!o(e))throw new Error(m[1152]);o(t)||(t=r[3]),i(r,t,e,n),j=0}}function u(){for(var t,n=l,o=n[0],i=n[1],s=n[2],u=c,f=++j,d=o.length,p={},h=r(f,0,1,u),m=f===u;d--;)t=i[d],p[o[d]]=(s[d]-t)*h+t;n[3]=p,e(p,m),m&&a()}var c,l,h=Math,m=f,g=p,v=d,y=v.object,b=E,w=T.interval,x=clearInterval,C=setInterval,S=null,j=0;if(!v.method(e))throw new Error(m[1151]);if(!y(t)||!y(n))throw new Error(m[1152]);return r=v.contains(g,r)?g[r]:g.linear,o=1e3*(v.number(o)&&o>0?o:1),c=h.max(10,h.round(o/w)),l=[[],[],[],t,a],S=C(u,w),a.session=S,a.update=s,a.running=!0,b[S]=l,l=i(l,t,n),a}function o(e){var t=d;return t.string(e)&&(e=parseFloat(e)),t.number(e)&&e}function i(e,t,n){var r,i,a,s,u=d.contains,c=o,l=e[0],f=e[1],p=e[2],h=l.length;for(r in n)if(u(n,r)&&(s=c(n[r]),s!==!1)){if(i=l.indexOf(r),a=u(t,r)&&c(t[r]),i===-1){if(a===!1)continue;i=h++,l[i]=r}else a===!1&&(a=f[i]);f[i]=a,p[i]=s}return e}function a(e){return d.contains(p,e)}function s(e,t,n){var o,i,a,s,f,p,h,g=v,y=[[],{},[],{}];d.each(t,l,y),s=y[0],p=y[1],h=y[3],s.length&&(i=e.getAttribute(g),f=c(e,s),i?(o=E[i][4],o.update(p,f,n)):(a={node:e},o=r(u(a),f,p,n),a.id=i=o.session,e.setAttribute(g,i))),y[2].length&&m.style(e,h)}function u(e){function t(t,n){var r=e,o=r.node;g.translate(o,t.left,t.top,t.right,t.bottom,t.width,t.height,t),m.style(o,t),n&&(o.removeAttribute(v),r.node=null,delete r.node),r=o=null}return t}function c(e,t){for(var n,r,o=m,i=o.computedStyle(e,t),a=g,s=-1,u=t.length,c=o.unitValue,l=w,f=x,d=h.parse,p=b,v=y,E=null;u--;)n=t[++s],r=i[n],p.test(n)?(E||(E=a.box(e)),r=E[v[n]]):l.test(n)?r=c(r):f.test(n)&&(r=d(r)),i[n]=parseFloat(r)||0;return i}function l(e,t){var n=this,r=n[0],o=n[1],i=n[2],a=n[3],s=e;"opacity"===t?e=parseFloat(s):b.test(t)||w.test(t)?e=m.unitValue(s):x.test(t)&&(e=h.parse(s),null===e&&(e=!1)),d.number(e)?(r[r.length]=t,o[t]=e):e!==!1&&(i[i.length]=t,a[t]=e)}var f=n(24),d=n(5),p=n(38),h=n(28),m=n(27),g=n(35),v="__animate_session",y={left:0,top:1,right:2,bottom:3,width:4,height:5},b=m.boxRe,w=m.dimensionRe,x=m.colorRe,E={},T={interval:10,each:r,has:a,style:s};e.exports=T},function(e,t){"use strict";function n(e,t,n,r){return n*e/r+t}function r(e,t,n,r){return e/=r,n*e*e+t}function o(e,t,n,r){return e/=r,-n*e*(e-2)+t}function i(e,t,n,r){return e/=r/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}function a(e,t,n,r){return e/=r,n*e*e*e+t}function s(e,t,n,r){return e/=r,e--,n*(e*e*e+1)+t}function u(e,t,n,r){return e/=r/2,e<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)}function c(e,t,n,r){return e/=r,n*e*e*e*e+t}function l(e,t,n,r){return e/=r,e--,-n*(e*e*e*e-1)+t}function f(e,t,n,r){return e/=r/2,e<1?n/2*e*e*e*e+t:(e-=2,-n/2*(e*e*e*e-2)+t)}function d(e,t,n,r){return e/=r,n*e*e*e*e*e+t}function p(e,t,n,r){return e/=r,e--,n*(e*e*e*e*e+1)+t}function h(e,t,n,r){return e/=r/2,e<1?n/2*e*e*e*e*e+t:(e-=2,n/2*(e*e*e*e*e+2)+t)}function m(e,t,n,r){var o=Math;return-n*o.cos(e/r*(o.PI/2))+n+t}function g(e,t,n,r){var o=Math;return n*o.sin(e/r*(o.PI/2))+t}function v(e,t,n,r){var o=Math;return-n/2*(o.cos(o.PI*e/r)-1)+t}function y(e,t,n,r){return n*Math.pow(2,10*(e/r-1))+t}function b(e,t,n,r){return n*(-Math.pow(2,-10*e/r)+1)+t}function w(e,t,n,r){var o=Math;return e/=r/2,e<1?n/2*o.pow(2,10*(e-1))+t:(e--,n/2*(-o.pow(2,-10*e)+2)+t)}function x(e,t,n,r){return e/=r,-n*(Math.sqrt(1-e*e)-1)+t}function E(e,t,n,r){return e/=r,e--,n*Math.sqrt(1-e*e)+t}function T(e,t,n,r){var o=Math;return e/=r/2,e<1?-n/2*(o.sqrt(1-e*e)-1)+t:(e-=2,n/2*(o.sqrt(1-e*e)+1)+t)}var C=e.exports={linear:n,easeIn:r,easeInQuad:r,easeOut:o,easeOutQuad:o,easeInOut:i,easeInOutQuad:i,easeInCubic:a,easeOutCubic:s,easeInOutCubic:u,easeInQuart:c,easeOutQuart:l,easeInOutQuart:f,easeInQuint:d,easeOutQuint:p,easeInOutQuint:h,easeInSine:m,easeOutSine:g,easeInOutSine:v,easeInExpo:y,easeOutExpo:b,easeInOutExpo:w,easeInCirc:x,easeOutCirc:E,easeInOutCirc:T};e.exports=C},function(e,t,n){"use strict";function r(e){return l.string(e)&&m.exists(e)}function o(e){for(var t,n=m,r=e.split(" "),o=r.length;o--;)t=r[o],n.exists(t)||r.splice(o,1);return r.length?r:null}function i(e){var t;return f.is(e,1)&&(t=e.getAttribute(d),l.string(t))?o(t):null}function a(e,t){var n,r,o=l,i=m,a=h;if(!o.string(e))throw new Error("Invalid [name] parameter.");if(n=o.object(t),!n&&!o.method(t))throw new Error("Invalid [config] parameter.");if(!(n||(r=t.prototype,r.name=e,r instanceof a||r===a.prototype)))throw new Error("[config] Class must be a subclass of Base Component.");return i.set(e,{name:e,created:!n,Class:n?null:t,properties:n?o.assign({},t):r}),g.chain}function s(e,t,n){var r,o,i,a,c,f,d,p=l,h=p.contains,g=s,v=m;if(!v.exists(e))throw new Error("Component do not exist "+e);for(p.object(n)||(n={}),p.array(t)||(t=[]),n[e]=!0,r=v.get(e),r.created||u(e),f=r.Class,o=f.prototype.requires,i=-1,a=o.length;a--;)c=o[++i],h(n,c)||g(c,t,n);return t[t.length]=d=new f,d}function u(e,t){var n,r,o,i,a=l,s=a.string,f=a.contains,d=m,h=d.get(e),g=h.properties,v=g.based,y=g.requires;if(t||(t={}),t[e]=!0,s(v)){if(!d.exists(v))throw new Error("Invalid base Class "+v);if(f(t,v))throw new Error("Cyclic inheritance of "+v+" and "+e+" found.");v=d.get(v)}else v=d.get(p);if(v=v.created?v.Class:u(v.name,t),o=v.prototype,n=f(g,"constructor")?g.constructor:c(v),i=a.assign(a.instantiate(v),g),i.constructor=n,n.prototype=i,a.array(y))for(y=o.requires.concat(y),r=y.length;r--;)s(y[r])||y.splice(r,1);else y=o.requires.slice(0);return i.name=e,i.requires=v.prototype.requires.concat(y),h.Class=n,h.created=!0,n}function c(e){function t(){return e.apply(this,arguments)}return t}var l=n(5),f=n(3),d="role",p="base",h=n(40),m=l.createRegistry(),g={register:a,roles:i,validRoles:o,create:s,registered:r};e.exports=g.chain=g,a(p,h)},function(e,t,n){"use strict";function r(){}var o=n(5);r.prototype={requires:[],constructor:r,set:function(e,t,n){var r=this,i=r.node;return i&&o.jsonSet(e,i.data,t,n!==!1),r},unset:function(e){var t=this,n=t.node;return n&&o.jsonUnset(e,n.data),t},component:function(e){var t=this.node;return t?t.component(e):null},call:function(e,t){var n=this.node;if(n&&(e=n.component(e)))return e.apply(e,t||[])},dispatch:function(e,t){var n=this.node;return n&&!n.destroyed?n.dispatch(e,t):Promise.reject("Node control is currently not available")}},e.exports=r},function(e,t){},,,,function(e,t,n){(function(t){"use strict";function r(){return new u}function o(e,t,n){function r(r){var o=r.busmessage;o[0]===e&&o[1]===t&&n(o[1],o[2])}return r}function i(e,t,n){function r(r){var o=r.busmessage;o[0]===e&&t.test(o[1])&&n(o[1],o[2])}return r}function a(e,t,n){t.item=n,t.before=null,t.next=e.subscriptions,e.subscriptions=t}function s(e,t){var n=e.subscriptions,r=t.before,o=t.next;r&&(r.next=o),o&&(o.before=r),n===t&&(e.subscriptions=r||o),delete t.item,delete t.next,delete t.before}function u(){this.queue=[]}var c=n(3),l=n(5),f="buspublish";u.prototype={subscriptions:null,queue:void 0,publishing:!1,publish:function(e,n){var r,o,i,a,s,u=this,d=l,p=c;if(d.string(e)&&d.object(n)){if(a=t.document,s=f,r=u.queue,r[r.length]=[u,e,n],!u.publishing){for(u.publishing=!0,i=p.dispatch;r.length;)o=r[0],r.splice(0,1),i(a,s,{busmessage:o,bubbles:!1});u.publishing=!1}a=i=r=o=null}return u},subscribe:function(e,n){function r(){v&&(p.un(h.document,m,v),s(u,v),v=null)}var u=this,d=l,p=c,h=t,m=f,g=d.string(e),v=null;return(e instanceof RegExp||g)&&(p.on(h.document,m,v=g?o(u,e,n):i(u,e,n)),a(u,v,r)),r},clear:function(){for(var e,t=this,n=t.subscriptions;n;n=e)e=n.next,n.item();return this}},e.exports={create:r,bus:r()}}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";function r(){}function o(e){var t,n,r=e.nodeType,o=m.string;return 1===r?(n=e.getAttribute(x),o(n)&&E.test(n)?S:(t=e.getAttribute(b),o(t)&&(t=y.validRoles(t))?C:j)):T}function i(e,t){var n,i=h;switch(o(e)){case C:return t?(r.prototype=t,n=new r,i.call(n,e,t)):n=new i(e,t),n;case S:return!0;default:return!1}}function a(e,t,n){var r,o=0,a=e,s=i;for(n!==!1&&s(a),a=a.firstChild,r=a;r;)if(s(a,t)||!(a=r.firstChild)){for(a=r.nextSibling;!a&&o--&&r;)r=r.parentNode,a=r.nextSibling;r=a}else o++,r=a;a=r=null}function s(e){return o(e)===S&&(g.dispatch(e,"node-destroy",{bubbles:!1}),!0)}function u(e){var t,n=0,r=e,o=s;for(r=r.firstChild,t=r;t;)if(o(r)||!(r=t.firstChild)){for(r=t.nextSibling;!r&&n--&&t;)t=t.parentNode,r=t.nextSibling;t=r}else n++,t=r;r=t=null}function c(e,t,n,r){function o(e){var t,o=e.promises,a=!e.isNodeEvent;return m.array(o)||(o=[]),!a&&e.monitored||(a||(e.monitored=!0),i.onBeforeEvent(e)),t=n.call(r,e,i,o),a&&p(i,e,o.length?Promise.all(o):null),t}var i=this;r[t]=o,i.listened[e]=!0,g.on(i.dom,e,o,r)}function l(e,t,n,r){var o=this;g.un(o.dom,e,n,r),o=null}function f(e){e.dispatch("initialize").then(function(){var t=e;t.bindChildren(),t.destroyed||t.dom.setAttribute(x,"interactive"),t=null})}function d(){var e=t,r=y,a=w,s=e.document.documentElement;switch(g.un(e.window,"load",d),e=null,r.registered(a)||r.register(a,n(48)),o(s)){case j:s.setAttribute("role",a);case C:i(s,null)}}function p(e,t,n){function r(){return e.destroyed||e.onAfterEvent(t),t}function o(e){return r(),i.reject(e)}var i=Promise;return(n||Promise.resolve(t)).then(r,o)}function h(e,t){var n,r,o,i=this,a=y,s=a.create,u=a.roles(e),l=v.eachListener,d=c,p=[],h={};for(i.destroyed=!1,i.dom=e,i.data={},i.listened={},t&&(i.parent=t,o=t.lastChild,o?(o.nextSibling=i,i.previousSibling=o):t.firstChild=i,t.lastChild=i),i.components=p,e.setAttribute(x,"uninitialized"),n=-1,r=u.length;r--;)s(u[++n],p,h);for(n=-1,r=p.length;r--;)o=p[++n],o.node=i,l(o,d,i);o=null,g.on(e,"node-destroy",i.destroy,i),f(i)}var m=n(5),g=n(3),v=n(47),y=n(39),b="role",w="app-root",x="data-ui-node",E=/^(uninitialized|interactive|detached)$/,T=0,C=1,S=2,j=3,A={bind:i,destroy:s};h.prototype={dom:null,stateChangeEvent:"state-change",pendingEvents:0,parent:null,firstChild:null,lastChild:null,previousSibling:null,nextSibing:null,data:null,cache:null,destroyed:!0,constructor:h,component:function(e){var t,n,r=this,o=r.components;if(o&&!r.destroyed)for(t=o.length;t--;)if(n=o[t],n.name===e)return n;return null},onBeforeEvent:function(e){var t=this;t.destroyed||e.type===t.stateChangeEvent||0!==t.pendingEvents++||(t.cache=m.clone(t.data,!0))},onAfterEvent:function(e){var t=this,n=t.data,r=t.cache,o=t.stateChangeEvent;t.destroyed||e.type===o||0!==--t.pendingEvents||m.compare(n,r)||(delete t.cache,t.dispatch(o,{bubbles:!1,data:n,cached:r}),r=null)},dispatch:function(e,t){var n,r,o,i=this,a=m,s=Promise,u=p;return a.string(e)?(r=a.contains(i.listened,e),t=a.object(t)?a.assign({},t):{},t.promises=n=[],t.isNodeEvent=!0,e=g.dispatch(i.dom,e,t),t.promises=null,n.length?o=s.all(n).then(function(){return n.splice(0,n.length),e.promises=n=null,e}):(e.promises=n=null,o=s.resolve(e)),r?u(i,e,o):o):s.reject("Invalid [event] parameter.")},bindChildren:function(){var e=this,t=e.dom;return e.destroyed||a(t,e,!1),t=null,e},destroyChildren:function(){var e=this,t=e.dom;return t&&u(t),t=null,e},destroy:function(){var e,t,n,r,o,i,a=this,s=g,u=v.eachListener,c=l;if(!a.destroyed){if(delete a.destroyed,i=a.dom,i&&s.un(i,"node-destroy",a.destroy,a),a.destroyChildren(),i&&s.dispatch(a.dom,"destroy",{bubbles:!1}),e=a.components){for(t=e.length;t--;)u(e[t],c,a);e.length=0}delete a.components,n=a.parent,n&&(r=a.previousSibling,o=a.nextSibling,r&&(r.nextSibling=o),o&&(o.previousSibling=r),n.firstChild===a&&(n.firstChild=r||o),n.lastChild===a&&(n.lastChild=o||r)),i=null,m.clear(a)}return a}},e.exports=A,g.on(t.window,"load",d)}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){var t,n=e.match(c);return n?(t=n[1],u.uncamelize(t.charAt(0).toLowerCase()+t.substring(1,t.length))):null}function o(e){return u.camelize(e.charAt(0).toUpperCase()+e.substring(1,e.length))}function i(e,t,n){var r=[t,n];u.each(e,a,r,!1)}function a(e,t,n){var o=this,i=r(t);return!i||!u.method(e)||o[0].call(o[1],i,t,e,n)}function s(e,t){function n(){return r.apply(e,arguments)}var r=e[t];e[t]=n}var u=n(5),c=/^on([a-zA-Z].*)$/;e.exports={bind:s,eachListener:i,method2name:r,name2method:o}},function(e,t,n){"use strict";function r(){i.apply(this,arguments)}var o=n(5),i=n(40);r.prototype=o.instantiate(i,{requires:["lib-dom"],constructor:r}),e.exports=r},function(e,t,n){"use strict";function r(e,t){switch(t){case"for":return e.htmlFor;case"class":case"className":return e.className;case"css":case"style":return e.style.cssText}return e.getAttribute(t)}function o(e,t,n){switch(t){case"for":e.htmlFor=n;break;case"class":case"className":e.className=n;break;case"css":case"style":e.style.cssText=n}return console.log("get attribute",t,e.getAttribute(t)),e.getAttribute(t)}function i(){}var a=n(5),s=n(40);i.prototype=a.instantiate(s,{constructor:i,dom:function(){var e=this.node;return e?e.dom:null},attribute:function(e,t){var n=this,i=a,s=i.string,u=n.dom(),c=u&&s(e);return arguments.length>1?(i.number(t)&&(t=t.toString()),c&&s(t)&&o(u,e,t),u=n):u=c?r(u,e):"",u}}),e.exports=i},function(e,t,n){"use strict";function r(){}var o=n(5),i=n(51),a=n(40);r.prototype=o.instantiate(a,{requires:["lib-dom"],templateAttr:"data-template",constructor:r,onInitialize:function(){var e=this,t=arguments[2],n=e.component("lib-dom").attribute(e.templateAttr);o.string(n)&&(e.set("template.url",n),t[t.length]=i.get(n).then(function(t){e.applyTemplate(t)}))},applyTemplate:function(e){var t=this.component("lib-dom").dom();t&&(this.node.destroyChildren(t),t.innerHTML=e)},onStateChange:function(e){console.log("state change! ",e.data)}}),e.exports=r},function(e,t,n){"use strict";function r(e,t){var n,r,o=a,i=o.string;return i(e)?(n=!0,o.array(t)&&(t=t.join("\n")),i(t)||(t="",n=!1),r={loaded:n,data:t},u.set(e,r),r):null}function o(e){var t,n=Promise,o=u;return a.string(e)?(t=o.get(e),t||(t=r(e)),t.loaded?n.resolve(t.data):s(e).then(function(t){return i(e,t)})):n.reject("Invalid [url] parameter.")}function i(e,t){var n=u.get(e),r=t.data;return n.loaded=!0,a.string(r)?(n.template=r,r):Promise.reject("Invalid template data")}var a=n(5),s=n(52),u=a.createRegistry(),c={add:r,get:o};e.exports=c},function(e,t,n){"use strict";e.exports=n(53)},function(e,t,n){"use strict";var r=n(5),o=n(54),i=n(55),a=n(56),s=n(63),u=r.rehash,c=i.register,l=a.register,f=s.request;o.xhr&&(c("xhr",n(66)),c("xhr2",n(68))),l("text/plain",!0,n(69)),o.formdata&&l("multipart/form-data",!1,n(70)),r.env.browser&&c("form-upload",n(o.xhr&&o.file&&o.blob?68:71)),u(f,s,{request:"request"}),u(f,i,{driver:"register",use:"use"}),u(f,n(65),{parseHeader:"parse",eachHeader:"each"}),u(f,a,{transformer:"register",transform:"transform"}),a.chain=i.chain=f,e.exports=f.default=f},function(e,t,n){(function(t){"use strict";var r=n(3),o=r.env,i=t,a=i.XMLHttpRequest,s=!!a,u=!1,c=!1,l=!1,f=!1,d=!1,p=!!i.XDomainRequest;o.browser?a&&(a=a.prototype,u="withCredentials"in a,c="overrideMimeType"in a,l="timeout"in a,f="sendAsBinary"in a,d="onprogress"in a):o.node,e.exports={xhr:s,xhrx:u,xhrmime:c,xhrtime:l,xhrbin:f,xhrbytes:d,xdr:p,formdata:!!i.FormData,file:!!i.File,blob:!!i.Blob},i=a=null}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){var n=s;return n.string(e)&&n.method(t)&&(u.set(e,t),t.prototype.type=e,c||(c=e)),l.chain}function o(e){return u.exists(e)}function i(e){return arguments.length>0&&o(e)&&(c=e),c}function a(e){return u.get(e)}var s=n(5),u=s.createRegistry(),c=null,l={register:r,exists:o,use:i,get:a};e.exports=l.chain=l},function(e,t,n){"use strict";function r(e,t,n){var r,o,i,d=a,p=u,h=l;return d.method(n)&&(e=s.parse(e),e&&(i="all"===t,t=t===!0?c:h,r=t+e.root,o=t+e.string,o===r||p.exists(r)||p.set(r,n),p.set(o,n),i&&p.set(h+e.string,n))),f.chain}function o(e,t,n){var r,o=u;if(e=s.parse(e)){if(t=t===!0?c:l,r=t+e.string,o.exists(r))return o.get(r)(n);if(r=t+e.root,o.exists(r))return n=o.get(r)(n),a.array(n)?n:[null,null]}return[null,n]}var i,a=n(5),s=n(57),u=a.createRegistry(),c="request-",l="response-",f={register:r,transform:o};e.exports=f.chain=f,i=n(58),r("application/json",!1,i).register("text/x-json",!1,i),i=n(60),r("application/json",!0,i).register("text/x-json",!0,i),r("application/x-www-form-urlencoded",!1,n(61)).register("multipart/form-data",!1,n(62))},function(e,t,n){"use strict";function r(e){var t,n,r,u,c,l,f,d=i,p=a,h=s,m=o,g="; ",v=null;if(m.string(e)&&d.test(e)){if(t=e.match(d),e=t[1].toLowerCase(),n=t[2].toLowerCase(),r=t[3]||""){for(v={},r=r.split(";"),l=r.length;l--;)t=r[l].match(p),t&&(u=t[1].toLowerCase(),c=t[2],r[l]=u+"="+c,v[u]=h.test(c)?c.substring(1,c.length-1):c);r=r.join(g)}return f=e+"/"+n,{string:f+(r?g+r:""),root:f,type:e,subtype:n,params:v}}}var o=n(5),i=/^([a-z0-9\-\_]+)\/([a-z\-\_0-9]+)(([ \s\t]*\;([^\;]+))*)$/,a=/^[ \t\s]*([a-z0-9\-\_]+)\=(\"([^\"]+)\"|[a-z0-9\-\_]+)[ \t\s]*$/,s=/^\"[^\"]+\"/,u={parse:r};e.exports=u},function(e,t,n){"use strict";function r(e,t,n,r,o){var s=i,u=e.returnValue,c="field"===r;if(c){if("file"===o)return;n=n.value}"number"===n?n=isFinite(n)?n.toString(10):"":s.string(n)||(n=a.jsonify(n)),c||"field-options"===r?s.urlFill(u,t,n):u[t]=n,u=n=null}function o(e){var t=a,n={index:{},returnValue:{}},o=t.each(e,r,n);return[null,t.jsonify(o)]}var i=n(5),a=n(59);e.exports=o},function(e,t,n){(function(t){"use strict";function r(e){return u.is(e,1)&&"FORM"===e.tagName.toUpperCase()}function o(e){if(u.is(e,1))switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":case"BUTTON":case"SELECT":case"OUTPUT":return!0}return!1}function i(e,t,n){var i,s,u,d=c,p=l,h=f,m=null,g=a,v=d.object,y=d.contains,b=v(e);if(r(e)?(e=e.elements,m=h,b=!1):o(e)?(m=h,e=[e]):b?m=p:d.array(e)&&(m=h,b=!1),v(n)||(n={}),y(n,"returnValue")||(n.returnValue=null),b||m===h)if(b)for(u in e)y(e,u)&&g(e[u],u,t,n);else for(i=-1,s=e.length;s--;)g(e[++i],null,t,n);return n.returnValue}function a(e,t,n,r){var i,a,s,u,l,f=c,d=f.string,p=d(t),h="variant";if(o(e)){if(!p&&!d(t=e.name))return;switch(i="field",p=!0,h=e.type,e.tagName.toUpperCase()){case"BUTTON":d(h)||(h="button");break;case"SELECT":for(i="field-options",h="select",u=e.options,a=-1,s=u.length;s--;)l=u[++a],l.selected&&n(r,t,l.value,i,h);return void(u=l=null);case"TEXTAREA":h="text"}switch(h){case"checkbox":case"radio":if(!e.checked)return}}else switch(!0){case f.array(e):i="array";break;case f.date(e):i="date";break;default:i=typeof e}p&&n(r,t,e,i,h)}function s(e){var n=t.JSON,r=null;if(!n)throw new Error("JSON is not supported in this platform");try{r=n.stringify(e)}catch(e){}return"null"===r||null===r?"":r}var u=n(3),c=n(5),l=1,f=2;e.exports={each:i,form:r,field:o,jsonify:s}}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";function r(e){if(!i)throw new Error("JSON is not supported in this platform");if(!o.string(e))return null;try{e=i.parse(e)}catch(e){return null}return[null,e]}var o=n(5),i=t.JSON;i||(i=!1),e.exports=r}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n,r,o){var a=e.returnValue;if("field"===r){if("file"===o)return;n=n.value}"number"==typeof n?n=isFinite(n)?n.toString(10):"":"string"!=typeof n&&(n=i.jsonify(n)),a[a.length]=t+"="+encodeURIComponent(n)}function o(e){var t=i.each(e,r,{returnValue:[]});return[null,t.join("&")]}var i=n(59);e.exports=o},function(e,t,n){"use strict";function r(){for(var e=Math.random().toString().substr(2),t=[],n=0,r=u-e.length;r--;)t[n++]="-";return t[n++]=e,t.join("")}function o(e,t,n,r,o){var i=s,u=e.returnValue;if("field"===r){if("file"===o)return;n=n.value}"number"==typeof n?n=isFinite(n)?n.toString(10):"":"string"!=typeof n&&(n=a.jsonify(n)),u[u.length]=['Content-Disposition: form-data; name="'+t+'"',"Content-type: application/octet-stream",i,n].join(i)}function i(e){var t=s,n=r(),i=a.each(e,o,{returnValue:[]});return i.length||i.splice(0,0,n),[["Content-Type: multipart/form-data; charset=utf-8;","    boundary="+n].join(t),n+t+i.join(t+n+t)+n+"--"+t]}var a=n(59),s="\r\n",u=48;e.exports=i},function(e,t,n){"use strict";function r(e){return c.string(e)&&(e=e.toLowerCase(),h.indexOf(e)!==-1)?e:p.get("method")}function o(e){var t=e.driver,n=l;return c.run("libdom-http.driver.resolve",[e,t]),t=e.driver,n.exists(t)?t:n.use()}function i(e,t){var n,o=c,i=o.string;n=e.getAttribute("enctype")||e.getAttribute("encoding"),i(n)&&t.addHeaders("Content-type: "+n),n=e.action,i(n)&&(t.url=n),n=e.method,i(n)&&(t.method=r(n)),n=e.getAttribute("data-driver"),i(n)&&(t.driver=n),n=e.getAttribute("data-response-type"),i(n)&&(t.responseType=n),t.data=e}function a(e,t){var n,o=c,a=o.string,s=d,u=void 0;
n=e.form||e.data||e.params||e.body,s.form(n)?i(n,t):null===n&&n===u||(t.item=n),n=e.query||e.urlData||e.urlParams,(s.form(n)||null!==n&&n!==u)&&(t.query=n),n=e.url,a(n)&&(t.url=n),n=e.method,a(n)&&(t.method=r(n)),n=e.driver,a(n)&&(t.driver=n),n=e.responseType,a(n)&&(t.responseType=n),t.addHeaders(e.headers),t.config=e,n=null}function s(e,t){var n,r,s=c,u=d,h=s.string,g=s.object,v=a,y=new f,b=Promise;return v(p.clone(),y),h(e)?(g(t)?v(t,y):u.form(t)&&i(t,y),y.url=e):g(e)?v(e,y):u.form(e)&&i(e,y),m.indexOf(y.method)===-1&&(y.allowedPayload=!1),h(y.url)&&(n=o(y))?(n=new(l.get(n))(y),y.driver=n,r=b.resolve(y).then(n.setup).then(n.transport).then(n.success).catch(n.error),y.api=r,y=n=null,r):b.reject("Invalid HTTP request configuration.")}function u(e,t){var n=p;return arguments.length>1?(n.set(e,t),g.chain):n.get(e)}var c=n(5),l=n(55),f=n(64),d=n(59),p=c.createRegistry(),h=["get","post","put","patch","delete","options"],m=["post","put","patch"],g={request:s,defaults:u};e.exports=g,l.use("xhr"),p.set("method","get"),p.set("headers",{accept:"application/json,text/x-json,text/plain,*/*;q=0.8","content-type":"application/json"})},function(e,t,n){"use strict";function r(e,t){var n,r=e.match(b);return r&&l.string(t)?(n=r[2],r[2]=(n?n+"&":"?")+t,r[3]=r[3]||"",r.slice(1).join("")):e}function o(e){var t,n,r,o,i,a=y,s=v;if(!h){for(h=!0,r=(new Date).getTime(),o=g,e=e===!0,t=a.length;t--;)n=a[t],e?n.destroy():n.destroyed||(i=n.createdAt,!i||n.processing?n.createdAt=r:i+o<r&&n.destroy()),n.destroyed&&a.splice(t,1);!a.length&&s&&(clearInterval(s),v=!1),h=!1}}function i(e){var t=v;e===!0?(t&&(clearInterval(t),v=!1),o(e)):t||(v=setInterval(o,m))}function a(){i(!0)}function s(){c.apply(this,arguments)}function u(){c.apply(this,arguments)}function c(){var e=y,t=this;t.destroyed=!1,e[e.length]=t,i()}var l=n(5),f=n(3),d=n(65),p=n(56),h=!1,m=1e3,g=1e4,v=!1,y=[],b=/^([^\?\#]+)(\?[^\?\#]*)?(\#.*)?$/;c.prototype={createdAt:void 0,contentType:"application/octet-stream",headers:null,body:null,data:null,destroyed:!0,processing:!1,constructor:c,begin:function(){var e=this;return e.destroyed||e.processing||(e.processing=!0,delete e.createdAt,i()),e},end:function(){var e=this;return!e.destroyed&&e.processing&&(delete e.processing,delete e.createdAt,i()),e},addHeaders:function(e){var t,n,r=this,o=l;return e=d.parse(e),e&&(t=r.headers,o.object(t)?o.assign(t,e):r.headers=e,n=r.header("content-type"),n?r.contentType=n:delete r.contenType),this},header:function(e){var t=this,n=t.headers,r=l;return r.string(e)&&r.object(n)&&(e=d.headerName(e),r.contains(n,e))?n[e]:null},destroy:function(){var e=this;return e.destroyed||(e.destroyed=!0,l.clear(e)),e}},s.prototype=l.instantiate(c,{url:null,method:"get",constructor:s,response:null,aborted:!1,timeout:0,config:null,queryTransformer:"application/x-www-form-urlencoded",queryAllowed:!0,allowedPayload:!0,getUrl:function(){var e=this,t=l.string,n=p.transform,o=e.url,i=e.query,a=e.data,s=e.queryTransformer,u=r;return e.queryAllowed&&t(o)&&t(s)&&(i=n(s,!1,i)[1],t(i)&&(o=u(o,i)),e.allowedPayload===!1&&(a=n(s,!1,a)[1],t(a)&&(o=u(o,a)))),o},settings:function(e){var t=this.config,n=l;if(n.object(t)&&n.contains(t,e))return t[e]},process:function(){var e=this,t=p.transform(e.header("content-type"),!1,e.data),n=t[0],r=e.responseType,o=e.response;n&&e.addHeaders(n),e.allowedPayload===!1?delete e.body:e.body=t[1],o&&o.destroy(),e.response=o=new u,l.string(r)&&o.addHeaders("Content-type: "+r),o.request=e,o.begin(),t=null}}),u.prototype=l.instantiate(c,{constructor:u,status:0,statusText:"Uninitialized",process:function(){var e=this,t=p.transform(e.header("content-type"),!0,e.body),n=t[0];n&&e.addHeaders(n),e.data=t[1]}}),f.destructor(a),e.exports=s},function(e,t,n){"use strict";function r(e){return e?e.charAt(0).toUpperCase()+e.substring(1,e.length).toLowerCase():""}function o(e,t,n){var o,i,a,s,u,v=e.split(l),y=f,b=d,w=p,x=h,E=m,T=g,C=":",S="$1",j=c.contains,A=r,O=v.length,I=-1,P={},M=[],N=0,R=null;for("undefined"==typeof n&&(n=null);O--;)if(o=v[++I],!I&&w.test(o)||x.test(o))M[N++]="",P[""]=o;else if(y.test(o)){if(i=o.indexOf(C),R=o.substring(0,i),a=o.substring(i+1,o.length).replace(E,S),!a)continue;R=A(R),u=j(P,R),u||(M[N++]=R),T.test(R)?(u||(P[R]=[]),s=P[R],s[s.length]=a):P[R]=a}else R&&b.test(o)&&(a=o.replace(E,S),T.test(R)?(s=P[R],s[s.length-1]+=" "+a):P[R]+=" "+a);for(I=-1,O=M.length;O--;)R=M[++I],t.call(n,R,P[R])}function i(e,t,n,i){var a,s,l,f=c,d=f.string,p=f.number,h=f.array,m=f.contains,v=u,y=g,b=r;if(f.array(e)&&(e=v(e.slice(0)).join("\r\n")),d(e))o(e,t,n,i);else{if(!f.object(e))return!1;"undefined"==typeof n&&(n=null);for(a in e)m(e,a)&&(s=e[a],a=b(a),d(s)||p(s)?t.call(n,a,y.test(a)?[s]:s):h(s)&&(s=v(s.slice(0)),y.test(a)||(l=s.length,s=l?s[l-1]:""),s.length&&t.call(n,a,s)))}return!0}function a(e){var t={};return i(e,s,t)&&t}function s(e,t){this[e]=t}function u(e){for(var t,n=c,r=n.string,o=n.number,i=e.length;i--;)t=e[i],o(t)?e[i]=t.toString(10):r(t)||e.splice(i,1);return e}var c=n(5),l=/\r\n|\r|\n/,f=/^([^ \r\n\t\s\:]+)\:(.+)$/,d=/^([ \r\n\t\s]+.+|[^\:]+)$/,p=/^([a-z]+)[ \t\s]+(\/[^\:]+)[ \t\s]+(HTTP\/[0-9]+\.[0-9]+)$/i,h=/^(HTTP\/[0-9]+.[0-9]+)[ \t\s]+([0-9]+)[ \t\s]+([a-z0-9\-\_]+)$/i,m=/^[ \t\s]*(.+)[ \t\s]*$/,g=/Set\-cookie/i,v={each:i,parse:a,headerName:r};e.exports=v},function(e,t,n){(function(t){"use strict";function r(e,t){var n,r,o=this;for(i.array(e)||(e=[e]),n=-1,r=e.length;r--;)o.setRequestHeader(t,e[++n])}function o(){var e=this,t=[e];a.apply(e,arguments),s.run("after:instantiated",t),t=t[0]=null}var i=n(5),a=n(67),s=i.middleware("libdom-http.driver.xhr"),u=0,c=1,l=2,f=3,d=4,p=a.prototype;o.prototype=i.instantiate(a,{level:1,bindMethods:p.bindMethods.concat(["onReadyStateChange"]),constructor:o,onReadyStateChange:function(){var e,t=this,n=t.request,r=n.xhrTransport,o=s.run,i=[t,n],a=n.resolve,p=n.reject;if(!n.aborted&&a&&p){switch(o("before:readystatechange",i),r.readyState){case u:case c:case l:case f:break;case d:e=r.status,e<200||e>299?p(e):a(e)}o("after:statechange",i)}t=r=n=i=i[0]=i[1]=null},createTransportPromise:function(e){function t(t,n){var r=e;r.resolve=t,r.reject=n,r=null}return new Promise(t)},onSetup:function(e){var n=this,r=[n,e],o=s.run,i=new t.XMLHttpRequest;e.xhrTransport=i,o("before:setup",r),i.onreadystatechange=n.onReadyStateChange,i.open(e.method.toUpperCase(),e.getUrl(),!0),o("after:setup",r),i=r=r[0]=r[1]=null},onTransport:function(e){var t=this,n=i,o=e.xhrTransport,a=e.headers,u=[t,e];s.run("before:request",u),e.transportPromise=t.createTransportPromise(e),a=e.headers,n.object(a)&&n.each(a,r,o),o.send(e.body),s.run("after:request",u),o=u=u[0]=u[1]=null},onSuccess:function(e){var t=this,n=e.xhrTransport,r=e.response,o=[t,e],i=s.run;r.status=n.status,r.statusText=n.statusText,r.addHeaders(n.getAllResponseHeaders()),r.body=n.responseText,i("after:response",o),n=o=o[0]=o[1]=null},onCleanup:function(e){var t,n=this,r=e.xhrTransport;r&&(t=[n,e],s.run("after:cleanup",t),t=t[0]=t[1]=r=r.onreadystatechange=null),e.transportPromise=e.resolve=e.reject=e.xhrTransport=r=null}}),e.exports=o}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){function n(){return t.apply(e,arguments)}return n}function o(){for(var e,t=this,n=this.bindMethods,o=n.length,i=r;o--;)e=n[o],t[e]=i(t,t[e])}var i=n(5);o.prototype={bindMethods:["setup","transport","process","success","error"],aborted:!1,request:null,response:null,constructor:o,onSetup:function(e){},onTransport:function(e){},onCleanup:function(e){},onSuccess:function(e,t){},onError:function(e){},setup:function(e){var t=this;return t.request=e,t.onSetup(e),e.process(),t.response=e.response,e},transport:function(e){var t;return this.onTransport(e),t=e.transportPromise,t&&i.method(t.then)?(e.begin(),t):Promise.reject(610)},success:function(e){var t=this,n=t.request,r=n&&n.response;return 0===e||e<200&&e>299||!n||!r?t.error(e):(t.onSuccess(n,e),r.process(),n.end(),r.end(),n.transportPromise=null,t.onCleanup(n,r),delete t.request,r)},error:function(e){var t=this,n=t.request,r=n&&n.response;return t.onError(e),n&&(n.transportPromise=null,t.onCleanup(n),n.end()),r&&r.end(),delete t.request,Promise.reject(e)},abort:function(){}},e.exports=o},function(e,t,n){(function(t){"use strict";function r(e,t){var n=t.settings("timeout");c.number(n)&&n>10&&(t.xhrTransport.timeout=n)}function o(e,t){t.settings("withCredentials")===!0&&(t.xhrTransport.withCredentials=!0)}function i(e){var t,n=this,r=n.request,o=r.api;r&&e.lengthComputable&&(t=e.loaded/e.total,r.percentLoaded=t,o&&(o.percentLoaded=t))}function a(e,t){var n=t.api;n.percentLoaded=0,t&&(t.percentLoaded=0),l.on(t.xhrTransport,"progress",e.onProgress)}function s(e,t){b&&l.un(t.xhrTransport,"progress",e.onProgress)}function u(e,n){n.body instanceof t.FormData&&delete n.headers["Content-type"]}var c=n(5),l=n(3),f=n(54),d=c.middleware("libdom-http.driver.xhr"),p=d.register,h="before:request",m=n(66),g=m.prototype,v=g.bindMethods,y=v.length,b=f.xhrbytes,w=0;f.xhrx&&(w++,p(h,o)),f.formdata&&(w++,p(h,u)),b&&(w++,v[y++]="onProgress",g.onProgress=i,p(h,a)),f.xhrtime&&p(h,r),w&&(w>2&&(g.level=2),p("cleanup",s)),e.exports=m}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){var t=o;return t.number(e)&&(e=e.toString(10)),["Content-type: text/plain",t.string(e)?e:""]}var o=n(5);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t,n,r,o){var s,u,c,l,f=e.returnValue,d=i.string;if("field"===r){if("file"===o){for(s=n.files,u=-1,c=s.length;c--;)n=s[++u],l=n.name,d(l)?f.append(t,n,l):f.append(t,n);return void(f=null)}n=n.value}"number"==typeof n?n=isFinite(n)?n.toString(10):"":"string"!=typeof n&&(n=a.jsonify(n)),f.append(t,n),f=null}function o(e){return[null,a.each(e,r,{returnValue:new t.FormData})]}var i=n(5),a=n(59);e.exports=o}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";function r(e,n,r,i){var a,s=t.document,u="libdom-http-oldschool-form"+ ++m,c=s.createElement("div");return c.style.cssText=["visibility: hidden","position: fixed","top: -10px","left: -10px","overflow: hidden","height: 1px","width: 1px"].join(";"),c.innerHTML=['<form id="',u,'"',' method="',e.toUpperCase(),'"',' action="',encodeURI(n),'"',' target="',u,'-result"',' enctype="',r,'"',' encoding="',r,'"',' data-readystate="uninitialized">','<iframe name="',u,'-result"',' id="',u,'-result">',' src="'+i+'">',"</iframe>","</form>"].join(""),a=c.firstChild.firstChild,l.on(a,"load",o),s.body.appendChild(c),s=c=a=null,u}function o(e){var t=l,n=e.target,r=n.parentNode;t.un(n,"load",o),r.setAttribute("data-readystate","ready"),t.dispatch(r,"libdom-http-ready",{}),t=n=r=null}function i(e){return t.document.getElementById(e)}function a(e,t,n,r,o){var i,a=c,s=e.impostors,u=e.fragment,d="field"===r,p=d&&"file"===o,h=null;p&&n.value?(i=n.parentNode,i&&(h=n.cloneNode(),h.disabled=!0,h.readOnly=!0,s[s.length]=[n,h],l.replace(n,h)),h=n,e.files=!0):p||(d&&(n=n.value),"number"===n?n=isFinite(n)?n.toString(10):"":a.string(n)||(n=f.jsonify(n)),h=u.ownerDocument.createElement("input"),h.type="hidden",h.name=t,h.value=n),h&&u.appendChild(h),u=i=h=null}function s(e){var t,n,r,o,i;for(t=e.length;t--;)n=e[t],r=n[0],o=n[1],i=o.parentNode,i&&i.replaceChild(r,o),i=n=n[0]=n[1]=r=o=null}function u(){var e=this;d.apply(e,arguments)}var c=n(5),l=n(3),f=n(59),d=n(67),p=d.prototype,h=/(^<pre>|<\/pre>$)/gi,m=0;u.prototype=c.instantiate(d,{constructor:u,blankDocument:"about:blank",defaultType:"application/json",bindMethods:p.bindMethods.concat(["onFormReady","onFormDeferredSubmit","onRespond"]),createTransportPromise:function(e){function t(t,n){var r=e;r.resolve=t,r.reject=n}return new Promise(t)},onFormReady:function(){var e=this,t=l,n=e.request,r=n.form;t.un(r,"libdom-http-ready",e.onFormReady),r.enctype=r.encoding=n.contentType,n.deferredSubmit=setTimeout(e.onFormDeferredSubmit,10),r=null},onFormDeferredSubmit:function(){var e=this,t=e.request,n=t&&t.form;n?(l.on(t.iframe,"load",e.onRespond),n.submit()):t&&t.reject(408),t=n=null},onRespond:function(){var e=this,t=e.request,n=t.iframe,r=!1,o="";l.un(n,"load",e.onRespond);try{o=n.contentWindow.document.body.innerHTML,r=!0}catch(e){}r?(t.formResponse=o.replace(h,""),t.resolve(200)):t.reject(406),n=null},onSetup:function(e){var n=this,o=c,s=[],u=r(e.method,e.getUrl(),e.contentType,n.blankDocument),l=i(u),d={impostors:s,fragment:t.document.createDocumentFragment(),files:!1,driver:n,request:e},p=e.responseType;f.each(e.data,a,d),l.appendChild(d.fragment),e.form=l,e.iframe=l.firstChild,e.impostors=d.impostors,e.fileUpload=d.files,o.string(p)||(e.responseType=n.defaultType),o.clear(d),e.transportPromise=n.createTransportPromise(e),l=null},onTransport:function(e){var t=e.form,n="application/x-www-form-urlencoded";e.fileUpload&&(n="multipart/form-data"),e.addHeaders("Content-type: "+n),"ready"===t.getAttribute("data-readystate")?this.onFormReady():l.on(t,"libdom-http-ready",this.onFormReady)},onSuccess:function(e){var t=this,n=t.response,r=e.formResponse;c.string(r)&&(n.body=r)},onCleanup:function(e){var t=e.impostors,n=e.form;c.array(t)&&s(t),n&&l.remove(n.parentNode||n),e.transportPromise=e.resolve=e.reject=e.form=n=null}}),e.exports=u}).call(t,function(){return this}())}])});