!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("libcore")):"function"==typeof define&&define.amd?define(["exports","libcore"],r):r(e["libdom-ui"]={},e.libcore)}(this,function(e,r){"use strict";var t=function(e){this.id=":"+e,this.name=e,this.registered=!1,this.requires=[]},i=function(){this.names=[],this.packages={}};i.prototype.register=function(e,i){var n,a,o,s,f,c,d,l=r.string,g=this.names,u=this.packages,h=t;if(!l(e))throw new Error("Invalid Package [name] parameter.");if((c=":"+e)in u&&u[c].registered)throw new Error("Package "+e+" already exists.");if(g[g.length]=e,d=new h(e),u[c]=d,d.registered=!0,l(i)&&(i=[i]),r.array(i))for(s=d.requires,f=0,n=-1,a=i.length;a--;)l(o=i[++n])&&(s[f++]=o);return this},i.prototype.flatten=function(e){var t,i,n,a,o,s,f,c,d,l,g,u,h=this.packages,p=r.string,m=50,w=0;if(p(e)&&(e=[e]),r.array(e)){for(i=f=e.length;i--;){if(n=e[i],!p(n))throw new Error("Invalid [names] Package collection parameter.");if(!((a=":"+n)in h))throw new Error("Package "+n+" do not exist.");if(!h[a].registered)throw new Error("Package "+n+" is not registered.")}for(u={},o={},s=null,t=-1,i=f,l=[],g=0;i--&&--m;){if(n=e[++t],a=":"+n,c=h[a],d=c.requires,f=d.length,!(a in u)){if(f){u[a]=!0,s={rid:++w,parent:s,ender:n,c:t,l:i,items:e,rs:l},e=d,i=f,t=-1,l=[],g=0;continue}a in o||(l[g++]=o[a]=n)}if(!i)for(;s&&(i=s.l,n=s.ender,t=s.c,(e=s.rs).push.apply(e,l),l=e,e=s.items,g=l.length,s=s.parent,(a=":"+n)in o||(l[g++]=o[a]=n),!i););}}return l};var n=Object.freeze({Packager:i});e.default=n,e.Packager=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=libdom-ui.min.js.map
