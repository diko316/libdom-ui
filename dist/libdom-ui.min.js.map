{"version":3,"file":"libdom-ui.min.js","sources":["../node_modules/libcore/dist/libcore.es.js","../node_modules/rollup-plugin-node-globals/src/global.js","../src/lib/packager.js"],"sourcesContent":["var global$1 = typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {};\n\nvar ROOT = global$1;\nvar browser = isBrowser();\nvar nodeVersions = nodeVersion(browser);\nvar nodejs = nodeVersions && !!nodeVersions.node;\nvar userAgent = getUserAgent(browser,\n                             nodeVersions);\nvar validSignature = hasValidSignature();\nvar ajax = ROOT.XMLHttpRequest || null;\nvar indexOfSupport = typeof Array.prototype.indexOf !== \"undefined\";\n\n\n// detect browser\nfunction isBrowser() {\n    var G = ROOT,\n        win = G.document,\n        doc = G,\n        result = !!doc && !!win &&\n                win.self === (doc.defaultView || doc.parentWindow);\n    // cleanup\n    G = win = doc = null;\n    return result;\n}\n\n// detect nodejs info\nfunction nodeVersion(browser) {\n    var G = ROOT,\n        result = browser ?\n                    false :\n                    ('process' in G && G.process.versions) || false;\n    G = null;\n    \n    return result;\n}\n\n// detect userAgent\nfunction getUserAgent(browser, nodeVersions) {\n    var G = ROOT,\n        result = 'Unknown',\n        proc = null;\n    \n    if (browser) {\n        result = G.navigator.userAgent;\n        \n    }\n    else if (nodeVersions && 'process' in G) {\n        proc = G.process;\n        result = (['Node ',\n                    nodeVersions.node,\n                    '(',\n                        proc.platform,\n                        '; V8 ',\n                        nodeVersions.v8 || 'unknown',\n                        '; arch ',\n                        proc.arch,\n                    ')']).\n                    join('');\n    }\n    \n    G = proc = null;\n    \n    return result;       \n    \n}\n\nfunction hasValidSignature() {\n    var toString = Object.prototype.toString,\n        objectSignature = '[object Object]';\n        \n    return toString.call(null) !== objectSignature ||\n                        toString.call(void(0)) !== objectSignature;\n}\n\n\nROOT = null;\n\n\n\n\n\n\n\n\nvar detect = Object.freeze({\n\tbrowser: browser,\n\tnodeVersions: nodeVersions,\n\tnodejs: nodejs,\n\tuserAgent: userAgent,\n\tvalidSignature: validSignature,\n\tajax: ajax,\n\tindexOfSupport: indexOfSupport\n});\n\nvar OBJECT_SIGNATURE = '[object Object]';\nvar ARRAY_SIGNATURE = '[object Array]';\nvar NULL_SIGNATURE = '[object Null]';\nvar UNDEFINED_SIGNATURE = '[object Undefined]';\nvar NUMBER_SIGNATURE = '[object Number]';\nvar STRING_SIGNATURE = '[object String]';\nvar BOOLEAN_SIGNATURE = '[object Boolean]';\nvar METHOD_SIGNATURE = '[object Function]';\nvar DATE_SIGNATURE = '[object Date]';\nvar REGEX_SIGNATURE = '[object RegExp]';\nvar STRING = 'string';\nvar NUMBER = 'number';\nvar BOOLEAN = 'boolean';\nvar OBJECT = Object;\nvar O$1 = OBJECT.prototype;\nvar toString = O$1.toString;\n\n/** is object **/\nfunction w3cIsObject(subject) {\n    return toString.call(subject) === OBJECT_SIGNATURE;\n}\n\nfunction ieIsObject(subject) {\n    return subject !== null &&\n            subject !== void(0) &&\n            toString.call(subject) === OBJECT_SIGNATURE;\n}\n\nvar object = validSignature ?\n                        w3cIsObject : ieIsObject;\n\n/** is object signature **/\nfunction signature(subject) {\n        if (subject === undefined) {\n            return UNDEFINED_SIGNATURE;\n        }\n        \n        if (subject === null ||\n            (typeof subject === NUMBER && !isFinite(subject))) {\n            return NULL_SIGNATURE;\n        }\n        \n        return toString.call(subject);\n    }\n\n/** is native object **/\nfunction nativeObject(subject) {\n        var O = OBJECT;\n        var constructor, result;\n        \n        if (signature(subject) === OBJECT_SIGNATURE) {\n            constructor = subject.constructor;\n            \n            // check constructor\n            if (O.hasOwnProperty.call(subject, 'constructor')) {\n                delete subject.constructor;\n                result = subject.constructor === O;\n                subject.constructor = constructor;\n                return result;\n            }\n            return constructor === O;\n        }\n        \n        return false;\n    }\n    \n/** is string **/\nfunction string(subject, allowEmpty) {\n        return (typeof subject === STRING ||\n                O$1.toString.call(subject) === STRING_SIGNATURE) &&\n    \n                (allowEmpty === true || subject.length !== 0);\n    }\n    \n/** is number **/\nfunction number(subject) {\n        return typeof subject === NUMBER && isFinite(subject);\n    }\n    \n/** is scalar **/\nfunction scalar(subject) {\n        switch (typeof subject) {\n        case NUMBER: return isFinite(subject);\n        case BOOLEAN:\n        case STRING: return true;\n        }\n        return false;\n    }\n    \n/** is array **/\nfunction array(subject, notEmpty) {\n        return toString.call(subject) === ARRAY_SIGNATURE &&\n                (notEmpty !== true || subject.length !== 0);\n    }\n    \n/** is function **/\nfunction method(subject) {\n        return toString.call(subject) === METHOD_SIGNATURE;\n    }\n\n\n\n/** is date **/\nfunction date(subject) {\n        return toString.call(subject) === DATE_SIGNATURE;\n    }\n\n/** is regexp **/\nfunction regex(subject) {\n        return toString.call(subject) === REGEX_SIGNATURE;\n    }\n\n/** is promise or thenable **/\nfunction thenable(subject) {\n        // filter non-thenable scalar natives\n        switch (subject) {\n        case undefined:\n        case null:\n        case true:\n        case false:\n        case NaN: return false;\n        }\n        // filter scalar\n        switch (signature(subject)) {\n        case NUMBER_SIGNATURE:\n        case STRING_SIGNATURE:\n        case BOOLEAN_SIGNATURE: return false;\n        }\n        \n        return 'then' in subject && method(subject.then);\n    }\n    \n/** is array-like iterable **/\nfunction iterable(subject) {\n        var len;\n        \n        // filter non-iterable scalar natives\n        switch (subject) {\n        case undefined:\n        case null:\n        case true:\n        case false:\n        case NaN: return false;\n        }\n        \n        // try signature\n        switch (signature(subject)) {\n        case NUMBER_SIGNATURE:\n        case BOOLEAN_SIGNATURE:\n            // bogus js engines provides readonly \"length\" property to functions\n        case METHOD_SIGNATURE: return false;\n    \n        case STRING_SIGNATURE:\n        case ARRAY_SIGNATURE: return true;\n        }\n    \n        return 'length' in subject &&\n                number(len = subject.length) &&\n                len > -1;\n    }\n    \nfunction type(subject, isType) {\n        var len;\n        switch (isType) {\n        case \"scalar\":\n            switch (signature(subject)) {\n            case STRING_SIGNATURE:\n            case NUMBER_SIGNATURE:\n            case BOOLEAN_SIGNATURE: return true;\n            }\n            return false;\n        \n        case \"regexp\":\n        case \"regex\":\n            isType = \"RegExp\";\n            break;\n        \n        case \"method\":\n            isType = \"Function\";\n            break;\n        \n        case \"native\":\n        case \"nativeObject\":\n            return nativeObject(subject);\n        }\n        \n        if (typeof isType === STRING) {\n            len = isType.length;\n            if (len) {\n                return signature(subject) === '[object ' +\n                                            isType.charAt(0).toUpperCase() +\n                                            isType.substring(1, len) +\n                                            ']';\n            }\n        }\n        return false;\n    }\n\n/**\n * @external libcore\n */\n\nvar Obj = Object;\nvar O = Obj.prototype;\nvar EACH = typeof Obj.getOwnPropertyNames === 'function' ?\n                es5each : es3each;\nvar OHasOwn = O.hasOwnProperty;\nvar ARRAY_INDEX_RE = /^[1-9][0-9]*|0$/;\n    \n\nfunction empty() {\n    \n}\n\nfunction isValidObject(target) {\n    var signature$$1 = signature(target);\n    \n    switch (signature$$1) {\n    case REGEX_SIGNATURE:\n    case DATE_SIGNATURE:\n    case ARRAY_SIGNATURE:\n    case OBJECT_SIGNATURE:\n    case METHOD_SIGNATURE: return signature$$1;\n    }\n    return false;\n}\n\n/**\n * Assign properties of source Object to target Object\n * @alias module:libcore.assign\n * @param {Object} target - the target object\n * @param {Object} source - the source object containing properties\n *                          to be assigned to target object\n * @param {Object} [defaults] - object containing default properties\n *                          which will be assigned first to\n *                          target before source.\n * @param {Boolean} [ownedOnly] - only assign properties owned by \"source\"\n * @returns {Object} target object from first parameter\n */\n\n\nfunction apply(value, name) {\n    /*jshint validthis:true */\n    this[name] = value;\n}\n\n/**\n * Relocate and rename properties of source Object into target Object.\n * \n * @name libcore.rehash\n * @function\n * @param {Object|Function} target - the target object\n * @param {Object|Function} source - the source object containing properties\n *                                  to be relocated.\n * @param {Object} access - the rename map object containing \"renamed property\"\n *                          as map object's property name, and\n *                          \"source property name\" as map object's\n *                          property value. (e.g. { \"newname\": \"from source\" })\n * @returns {Object} target object from first parameter\n */\n\n\nfunction applyProperties(value, name) {\n    /*jshint validthis:true */\n    var target = this;\n    target[0][name] = target[1][value];\n    target = null;\n}\n\nfunction assignAll(target, source, defaults) {\n    var onAssign = apply,\n        eachProperty = EACH;\n        \n    if (defaults) {\n        eachProperty(defaults, onAssign, target, false);\n    }\n    \n    eachProperty(source, onAssign, target);\n    \n    return target;\n}\n\n\n/**\n * Iterates all iteratable property of an object calling \"handler\" parameter on\n *      each iteration.\n * @name libcore.each\n * @function\n * @param {Object} subject\n * @param {Function} handler - the callback of each iteration of\n *                          \"subject\" object's property.\n * @param {*} [scope] - \"this\" object to use inside the \"handler\" parameter\n * @param {boolean} [hasown] - performs checking to only include\n *                          source object property that is overridden\n *                          (Object.protototype.hasOwnProperty() returns true)\n *                          when this parameter is set to true.\n * @returns {Object} The subject parameter\n */\nfunction es3each(subject, handler, scope, hasown) {\n    var hasOwn = OHasOwn,\n        noChecking = hasown === false;\n    var name;\n    \n    if (!isValidObject(subject)) {\n        throw new Error(\"Invalid [subject] parameter.\");\n    }\n    \n    if (arguments.length > 3 && typeof hasown !== 'boolean') {\n        throw new Error(\"Invalid [hasown] hasOwnProperty parameter.\");\n    }\n    \n    if (scope === void(0)) {\n        scope = null;\n    }\n    \n    for (name in subject) {\n        if ((noChecking || hasOwn.call(subject, name)) &&\n            handler.call(scope, subject[name], name, subject) === false) {\n            break;\n        }\n    }\n    \n    return subject;\n}\n\nfunction es5each(subject, handler, scope, hasown) {\n    var hasOwn = OHasOwn,\n        noChecking = hasown === false;\n    var names, name, c, l;\n    \n    if (!isValidObject(subject)) {\n        throw new Error(\"Invalid [subject] parameter.\");\n    }\n    \n    if (arguments.length > 3 && typeof hasown !== 'boolean') {\n        throw new Error(\"Invalid [hasown] hasOwnProperty parameter.\");\n    }\n    \n    if (scope === void(0)) {\n        scope = null;\n    }\n    \n    names = Obj.getOwnPropertyNames(subject);\n    for (c = -1, l = names.length; l--;) {\n        name = names[++c];\n        if ((noChecking || hasOwn.call(subject, name)) &&\n            handler.call(scope, subject[name], name, subject) === false) {\n            break;\n        }\n    }\n    \n    return subject;\n}\n\n/**\n * Checks if \"subject\" Object contains overridden property.\n *      The same symantics of Object.prototype.hasOwnProperty.\n *      \n * @name libcore.contains\n * @function\n * @param {Object} subject\n * @param {String} property - Property Name to inspect\n * @returns {boolean} True if subject Object contains property and dirty.\n *                      False if subject Object's property do not exist or not\n *                      dirty.\n */\n\n\n\n\n/**\n * Clears Object properties. This method only deletes overridden properties and\n *      will not fill \"undefined\" to non-owned properties from its prototype.\n * @name libcore.clear\n * @function\n * @param {Object} subject\n * @returns {Object} subject parameter.\n */\n\nfunction applyClear() {\n    delete arguments[2][arguments[1]];\n}\n\nfunction applyFillin(value, name) {\n    /* jshint validthis:true */\n    var target = this;\n    if (!contains(target, name)) {\n        target[name] = value;\n    }\n    target = null;\n}\n\n/**\n * Builds instance of \"Class\" parameter without executing its constructor.\n * @name libcore.instantiate\n * @function\n * @param {Function} Class\n * @param {Object} overrides\n * @returns {Object} Instance created from Class without executing\n *                      its constructor.\n */\n\n\n/**\n * Deep compares two scalar, array, object, regex and date objects\n * @name libcore.compare\n * @function\n * @param {*} object1\n * @param {*} object2\n * @returns {boolean} True if scalar, regex, date, object properties, or array\n *                      items of object1 is identical to object2.\n */\n\n\nfunction compareLookback(object1, object2, references) {\n    var isObject = object,\n        isArray = array,\n        isRegex = regex,\n        isDate = date,\n        onCompare = onEachCompareObject,\n        each = EACH,\n        me = compareLookback,\n        depth = references.length;\n    var len, context;\n    \n    switch (true) {\n        \n    // prioritize same object, same type comparison\n    case object1 === object2: return true;\n    \n    // native object comparison\n    case isObject(object1):\n        if (!isObject(object2)) {\n            return false;\n        }\n        \n        // check if object is in references\n        if (references.lastIndexOf(object1) !== -1 &&\n            references.lastIndexOf(object2) !== -1) {\n            return true;\n        }\n        \n        // proceed\n        references[depth] = object1;\n        references[depth + 1] = object2;\n        \n        context = [object2, references, true];\n        each(object1, onCompare, context);\n        if (!context[2]) {\n            return false;\n        }\n        \n        context[0] = object1;\n        each(object2, onCompare, context);\n        if (!context[2]) {\n            return false;\n        }\n        \n        references.length = depth;\n        \n        return true;\n    \n    // array comparison\n    case isArray(object1):\n        if (!isArray(object2)) {\n            return false;\n        }\n        \n        // check references\n        if (references.lastIndexOf(object1) !== -1 &&\n            references.lastIndexOf(object2) !== -1) {\n            return true;\n        }\n        \n        len = object1.length;\n        \n        if (len !== object2.length) {\n            return false;\n        }\n        \n        // proceed\n        references[depth] = object1;\n        references[depth + 1] = object2;\n        \n        for (; len--;) {\n            if (!me(object1[len], object2[len], references)) {\n                return false;\n            }\n        }\n        \n        references.length = depth;\n        \n        return true;\n        \n    \n    // RegExp compare\n    case isRegex(object1):\n        return isRegex(object2) && object1.source === object2.source;\n    \n    // Date compare\n    case isDate(object1):\n        return isDate(object2) && object1.toString() === object2.toString();\n    }\n    \n    return false;\n}\n\nfunction onEachCompareObject(value, name) {\n    /* jshint validthis:true */\n    var context = this,\n        target = context[0],\n        result = name in target ?\n                    compareLookback(value, target[name], context[1]) :\n                    false;\n    context[2] = result;\n    \n    return result;\n}\n\n/**\n * Clones scalar, array, object, regex or date objects\n * @name libcore.clone\n * @function\n * @param {*} data - scalar, array, object, regex or date object to clone.\n * @param {boolean} [deep] - apply deep clone to object properties or\n *                          array items.\n * @returns {*} Cloned object based from data\n */\n\n\n\nfunction cloneObject(data, parents, cloned) {\n    var depth = parents.length,\n        recreated = {},\n        context = [recreated,\n                   parents,\n                   cloned];\n    \n    parents[depth] = data;\n    cloned[depth] = recreated;\n    \n    EACH(data, onEachClonedProperty, context);\n    \n    parents.length = cloned.length = depth;\n    \n    return recreated;\n}\n\nfunction cloneArray(data, parents, cloned) {\n    var depth = parents.length,\n        onProperty = onEachClonedProperty,\n        recreated = [],\n        context = [recreated,\n                   parents,\n                   cloned],\n        c = 0,\n        l = data.length;\n    \n    parents[depth] = data;\n    cloned[depth] = recreated;\n    \n    for (; l--; c++) {\n        onProperty.call(context,\n                        data[c],\n                        c,\n                        data);\n    }\n    \n    parents.length = cloned.length = depth;\n    \n    return recreated;\n}\n\nfunction onEachClonedProperty(value, name) {\n    var /* jshint validthis:true */\n        context = this,\n        isNative = nativeObject(value),\n        parents = context[1],\n        cloned = context[2];\n    var index;\n    \n    if (isNative || array(value)) {\n        index = parents.lastIndexOf(value);\n        value = index === -1 ?\n                    (isNative ?\n                        cloneObject :\n                        cloneArray)(value, parents, cloned) :\n                    \n                    cloned[index];\n    }\n    else {\n        value = clone(value, false);\n    }\n    \n    context[0][name] = value;\n}\n\nfunction onMaxNumericIndex(value, name, context) {\n    if (ARRAY_INDEX_RE.test(name)) {\n        context[0] = Math.max(1 * name, context[0]);\n    }\n}\n\n\n\nfunction assign(target, source, defaults, ownedOnly) {\n        var onAssign = apply,\n            is = isValidObject,\n            eachProperty = EACH,\n            len = arguments.length;\n        \n        if (!is(target)) {\n            throw new Error(\"Invalid [target] parameter.\");\n        }\n        \n        if (!is(source)) {\n            throw new Error(\"Invalid [source] parameter.\");\n        }\n        \n        if (typeof defaults === 'boolean') {\n            ownedOnly = defaults;\n            len = 2;\n        }\n        else {\n            ownedOnly = ownedOnly !== false;\n        }\n        \n        if (is(defaults)) {\n            eachProperty(defaults, onAssign, target, ownedOnly);\n        }\n        else if (len > 2) {\n            throw new Error(\"Invalid [defaults] parameter.\");\n        }\n        \n        eachProperty(source, onAssign, target, ownedOnly);\n        \n        return target;\n    }\n\nfunction rehash(target, source, access) {\n        var is = isValidObject,\n            context = [target, source];\n            \n        if (!is(target)) {\n            throw new Error(\"Invalid [target] parameter.\");\n        }\n        \n        if (!is(source)) {\n            throw new Error(\"Invalid [source] parameter.\");\n        }\n        \n        if (!object(access)) {\n            throw new Error(\"Invalid [access] parameter.\");\n        }\n        \n        EACH(access, applyProperties, context);\n        context = context[0] = context[1] =  null;\n        return target;\n    }\n\nfunction contains(subject, property) {\n    \n        if (!string(property) && !number(property)) {\n            throw new Error(\"Invalid [property] parameter.\");\n        }\n        \n        return OHasOwn.call(subject, property);\n    }\n\nfunction instantiate(Class, overrides) {\n        empty.prototype = Class.prototype;\n        \n        if (object(overrides)) {\n            return assign(new empty(), overrides);\n        }\n        return new empty();\n    }\n    \nfunction clone(data, deep) {\n        var isNative = nativeObject(data);\n        \n        deep = deep === true;\n        \n        if (isNative || array(data)) {\n            return deep ?\n                        \n                        (isNative ? cloneObject : cloneArray)(data, [], []) :\n                        \n                        (isNative ? assignAll({}, data) : data.slice(0));\n        }\n        \n        if (regex(data)) {\n            return new RegExp(data.source, data.flags);\n        }\n        else if (date(data)) {\n            return new Date(data.getFullYear(),\n                        data.getMonth(),\n                        data.getDate(),\n                        data.getHours(),\n                        data.getMinutes(),\n                        data.getSeconds(),\n                        data.getMilliseconds());\n        }\n        \n        return data;\n    }\n    \nfunction compare(object1, object2) {\n        return compareLookback(object1, object2, []);\n    }\n    \nfunction fillin(target, source, hasown) {\n        if (!isValidObject(target)) {\n            throw new Error(\"Invalid [target] parameter\");\n        }\n        EACH(source, applyFillin, target, hasown !== false);\n        return target;\n    }\n\nfunction clear(subject) {\n        EACH(subject, applyClear, null, true);\n        return subject;\n    }\n    \nfunction maxObjectIndex(subject) {\n        var context;\n        \n        if (array(subject)) {\n            return subject.length - 1;\n        }\n        \n        if (isValidObject(subject)) {\n            \n            context = [-1];\n            EACH(subject, onMaxNumericIndex, context);\n            return context[0];\n        }\n        return false;\n    }\n\nvar CHAIN = null;\n\nfunction use(chain) {\n        CHAIN = chain;\n    }\n    \nfunction getModule() {\n        return CHAIN;\n    }\n\nvar G = global$1;\nvar NAME_RE = /^(([^\\.]+\\.)*)((before|after)\\:)?([a-zA-Z0-9\\_\\-\\.]+)$/;\nvar POSITION_BEFORE = 1;\nvar POSITION_AFTER = 2;\nvar RUNNERS = {};\nvar NAMESPACES = {};\nvar INVALID_NAME = 'Invalid [name] parameter.';\nvar INVALID_HANDLER = 'Invalid [handler] parameter.';\nvar NATIVE_SET_IMMEDIATE = !!G.setImmediate;\nvar setAsync = NATIVE_SET_IMMEDIATE ?\n                    nativeSetImmediate : timeoutAsync;\nvar clearAsync = NATIVE_SET_IMMEDIATE ?\n                    nativeClearImmediate : clearTimeoutAsync;\n                    \nfunction empty$1() {\n}\n\nfunction get(name) {\n    var info = getRunners(name);\n    \n    if (info) {\n        return info[0][info[1]];\n    }\n    \n    return void(0);\n}\n\nfunction getRunners(name) {\n    var list = RUNNERS,\n        parsed = parseName(name);\n    var access, position;\n    \n    if (parsed) {\n        access = ':' + parsed[1];\n        \n        if (access in list) {\n            position = parsed[0];\n            return [list[access],\n                    getPositionAccess(position),\n                    position];\n            \n        }\n    }\n    \n    return void(0);\n}\n\nfunction purgeRunners(name, after) {\n    var info = getRunners(name);\n    var runners, access;\n    \n    if (info) {\n        access = info[1];\n        \n        switch (after) {\n        case true:\n            access = 'after';\n            break;\n        \n        case false:\n            access = 'before';\n            break;\n        \n        case null:\n        case undefined:\n            access = false;\n        }\n\n        if (!access || access === 'before') {\n            runners = info[0].before;\n            runners.splice(0, runners.length);\n        }\n        \n        if (!access || access === 'after') {\n            runners = info[0].after;\n            runners.splice(0, runners.length);\n        }\n        \n        \n    }\n    \n    return getModule();\n}\n\nfunction getPositionAccess(input) {\n    return input === POSITION_BEFORE ? 'before' : 'after';\n}\n\nfunction parseName(name) {\n    var match = string(name) && name.match(NAME_RE);\n    var position, namespace;\n    \n    if (match) {\n        namespace = match[1];\n        position = match[4] === 'before' ? POSITION_BEFORE : POSITION_AFTER;\n        return [position, (namespace || '') + match[5]];\n        \n    }\n    \n    return void(0);\n    \n}\n\nfunction timeoutAsync(handler) {\n    if (!method(handler)) {\n        throw new Error(INVALID_HANDLER);\n    }\n    return G.setTimeout(handler, 1);\n}\n\nfunction clearTimeoutAsync(id) {\n    try {\n        G.clearTimeout(id);\n    }\n    catch (e) {}\n    return getModule();\n}\n\nfunction nativeSetImmediate (handler) {\n    if (!method(handler)) {\n        throw new Error(INVALID_HANDLER);\n    }\n    return G.setImmediate(handler);\n}\n\nfunction nativeClearImmediate(id) {\n    try {\n        G.clearImmediate(id);\n    }\n    catch (e) {}\n    return getModule();\n}\n\nfunction BaseMiddleware() {\n}\n\nBaseMiddleware.prototype = {\n    constructor: BaseMiddleware,\n    \n    run: function (name, args, scope) {\n        return run(this.access + name, args, scope);\n    },\n    \n    register: function (name, handler) {\n        register(this.access + name, handler);\n        \n        return this;\n    },\n    \n    clear: function (name, after) {\n        var access = this.access;\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n        \n        if (arguments.length > 1) {\n            purgeRunners(access + name, after);\n        }\n        else {\n            purgeRunners(access + name);\n        }\n        return this;\n        \n    }\n};\n\nfunction run(name, args, scope) {\n        var c, l, runners, result;\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n        \n        runners = get(name);\n        \n        if (runners) {\n            \n            if (typeof scope === 'undefined') {\n                scope = null;\n            }\n            \n            args = iterable(args) ?\n                    Array.prototype.slice.call(args, 0) : [];\n            \n            for (c = -1, l = runners.length; l--;) {\n                result = runners[++c].apply(scope, args);\n                if (result !== undefined) {\n                    args = [result];\n                }\n            }\n            \n            args.splice(0, args.length);\n            \n            return result;\n        }\n        \n        return undefined;\n    }\n\nfunction register(name, handler) {\n        var list = RUNNERS;\n        var access, items, parsed;\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n        \n        parsed = parseName(name);\n        \n        if (!method(handler)) {\n            throw new Error(INVALID_HANDLER);\n        }\n        \n        if (parsed) {\n            \n            name = parsed[1];\n            access = ':' + name;\n            if (!(access in list)) {\n                \n                list[access] = {\n                    name: name,\n                    before: [],\n                    after: []\n                };\n            }\n            \n            items = list[access][getPositionAccess(parsed[0])];\n            \n            items[items.length] = handler;\n        }\n        \n        return getModule();\n    }\n    \nfunction clearRunner(name, after) {\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n        \n        if (arguments.length > 1) {\n            purgeRunners(name, after);\n        }\n        else {\n            purgeRunners(name);\n        }\n        \n        return getModule();\n    }\n\nfunction middleware(name) {\n        var list = NAMESPACES;\n        var access, registered, proto;\n        \n        function Middleware() {\n            BaseMiddleware.apply(this, arguments);\n        }\n        \n        if (!string(name)) {\n            throw new Error(INVALID_NAME);\n        }\n\n        access = name + '.';\n        if (!(access in list)) {\n            empty$1.prototype = BaseMiddleware.prototype;\n            proto = new empty$1(access);\n            proto.constructor = Middleware;\n            proto.access = access;\n            Middleware.prototype = proto;\n            \n            list[access] = registered = new Middleware();\n            \n            return registered;\n        }\n        \n        return list[access];\n    }\n\n// motivation of set operations:\n// https://www.probabilitycourse.com/chapter1/1_2_2_set_operations.php\n//DETECT = require('./detect.js'),\n    //OBJECT = require('./object.js'),\n    //TYPE = require('./type.js'),\n\nvar INVALID_ARRAY1 = 'Invalid [array1] parameter.';\nvar INVALID_ARRAY2 = 'Invalid [array2] parameter.';\nvar A = Array.prototype;\n\nfunction indexOf(subject) {\n    /*jshint validthis:true */\n    var array$$1 = this,\n        l = array$$1.length,\n        c = -1;\n    \n    for (; l--;) {\n        if (subject === array$$1[++c]) {\n            array$$1 = null;\n            return c;\n        }\n    }\n    \n    return -1;\n}\n\nfunction lastIndexOf(subject) {\n    /*jshint validthis:true */\n    var array$$1 = this,\n        l = array$$1.length;\n        \n    for (; l--;) {\n        if (subject === array$$1[l]) {\n            array$$1 = null;\n            return l;\n        }\n    }\n    \n    return -1;\n}\n\n// apply polyfill\nif (!indexOfSupport) {\n    assign(A, {\n        indexOf: indexOf,\n        lastIndexOf: lastIndexOf\n    });\n}\n\n/**\n * Creates a union of two arrays\n * @name libcore.unionList\n * @function\n * @param {Array} array1 - source array\n * @param {Array} array2 - array to merge\n * @param {boolean} [clone] - Filters array1 parameter with union of array2\n *                          if this parameter is false. It returns a new set\n *                          of array containing union of array1 and array2\n *                          otherwise.\n * @returns {Array} union of first two array parameters\n */\nfunction unionList(array1, array2, clone$$1) {\n        var isarray = array;\n        var subject, l, len, total;\n        \n        if (!isarray(array1)) {\n            throw new Error(INVALID_ARRAY1);\n        }\n        \n        if (!isarray(array2)) {\n            throw new Error(INVALID_ARRAY2);\n        }\n        \n        array1 = clone$$1 === true ? array1.slice(0) : array1;\n        \n        // apply\n        array1.push.apply(array1, array2);\n        total = array1.length;\n        \n        // apply unique\n        found: for (l = total; l--;) {\n            subject = array1[l];\n            \n            // remove if not unique\n            for (len = total; len--;) {\n                if (l !== len && subject === array1[len]) {\n                    total--;\n                    array1.splice(l, 1);\n                    continue found;\n                }\n            }\n        }\n        \n        return array1;\n    }\n\n/**\n * Creates an intersection of two arrays\n * @name libcore.intersect\n * @function\n * @param {Array} array1 - source array \n * @param {Array} array2 - array to intersect\n * @param {boolean} [clone] - Filters array1 parameter with intersection of\n *                          array2 if this parameter is false. It returns a\n *                          new set of array containing intersection of\n *                          array1 and array2 otherwise.\n * @returns {Array} intersection of first two array parameters\n */\nfunction intersectList(array1, array2, clone$$1) {\n        var isarray = array;\n        var subject, l1, l2, total1, total2;\n        \n        if (!isarray(array1)) {\n            throw new Error(INVALID_ARRAY1);\n        }\n        \n        if (!isarray(array2)) {\n            throw new Error(INVALID_ARRAY2);\n        }\n        \n        total1 = array1.length;\n        total2 = array2.length;\n            \n        // create a copy\n        array1 = clone$$1 === true ? array1.slice(0) : array1;\n        \n        found: for (l1 = total1; l1--;) {\n            subject = array1[l1];\n            foundSame: for (l2 = total2; l2--;) {\n                if (subject === array2[l2]) {\n                    // intersect must be unique\n                    for (l2 = total1; l2--;) {\n                        if (l2 !== l1 && subject === array1[l2]) {\n                            break foundSame;\n                        }\n                    }\n                    continue found;\n                }\n            }\n            array1.splice(l1, 1);\n            total1--;\n        }\n        \n        return array1;\n    }\n\n\n/**\n * Creates a difference of two arrays\n * @name libcore.differenceList\n * @function\n * @param {Array} array1 - source array \n * @param {Array} array2 - array to be applied as difference of array1\n * @param {boolean} [clone] - Filters array1 parameter with difference of array2\n *                          if this parameter is false. It returns a new set\n *                          of array containing difference of\n *                          array1 and array2 otherwise.\n * @returns {Array} difference of first two array parameters\n */\nfunction differenceList(array1, array2, clone$$1) {\n        var isarray = array;\n        var subject, l1, l2, total1, total2;\n        \n        if (!isarray(array1)) {\n            throw new Error(INVALID_ARRAY1);\n        }\n        \n        if (!isarray(array2)) {\n            throw new Error(INVALID_ARRAY2);\n        }\n        \n        total1 = array1.length;\n        total2 = array2.length;\n            \n        // create a copy\n        array1 = clone$$1 === true ? array1.slice(0) : array1;\n        \n        found: for (l1 = total1; l1--;) {\n            subject = array1[l1];\n            \n            // remove if found\n            for (l2 = total2; l2--;) {\n                if (subject === array2[l2]) {\n                    array1.splice(l1, 1);\n                    total1--;\n                    continue found;\n                }\n            }\n            \n            // diff must be unique\n            for (l2 = total1; l2--;) {\n                if (l2 !== l1 && subject === array1[l2]) {\n                    array1.splice(l1, 1);\n                    total1--;\n                    continue found;\n                }\n            }\n        }\n        \n        return array1;\n    }\n\nvar HALF_BYTE = 0x80;\nvar SIX_BITS = 0x3f;\nvar ONE_BYTE = 0xff;\nvar fromCharCode = String.fromCharCode;\nvar BASE64_MAP =\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar NOT_BASE64_RE = /[^a-zA-Z0-9\\+\\/\\=]/g;\nvar BASE64_EXCESS_REMOVE_RE = /[^a-zA-Z0-9\\+\\/]/;\nvar CAMEL_RE = /[^a-z]+[a-z]/ig;\nvar UNCAMEL_RE = /\\-*[A-Z]/g;\nvar TRIM_RE = /^\\s+|\\s+$/g;\nvar INVALID_SUBJECT = 'Invalid [subject] parameter.';\n\nfunction applyCamelize(all) {\n    return all.charAt(all.length - 1).toUpperCase();\n}\n\nfunction applyUncamelize(all) {\n    return '-' + all.charAt(all.length -1).toLowerCase();\n}\n\n\nfunction camelize(subject) {\n        return subject.replace(CAMEL_RE, applyCamelize);\n    }\n    \nfunction uncamelize(subject) {\n        return subject.replace(UNCAMEL_RE, applyUncamelize);\n    }\n    \n\nfunction utf2bin(subject) {\n        var half = HALF_BYTE,\n            sixBits = SIX_BITS,\n            code2char = fromCharCode,\n            utf8 = [],\n            ul = 0;\n        var code, c, l;\n        \n        if (!string(subject, true)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n        \n        for (c = -1, l = subject.length; l--;) {\n            code = subject.charCodeAt(++c);\n            \n            if (code < half) {\n                utf8[ul++] = code2char(code);\n            }\n            else if (code < 0x800) {\n                utf8[ul++] = code2char(0xc0 | (code >> 6));\n                utf8[ul++] = code2char(half | (code & sixBits));\n            }\n            else if (code < 0xd800 || code > 0xdfff) {\n                utf8[ul++] = code2char(0xe0 | (code >> 12));\n                utf8[ul++] = code2char(half | ((code >> 6) & sixBits));\n                utf8[ul++] = code2char(half | (code  & sixBits));\n            }\n            else {\n                l--;\n                code = 0x10000 + (((code & 0x3ff)<<10)\n                          | (subject.charCodeAt(++c) & 0x3ff));\n                \n                utf8[ul++] = code2char(0xf0 | (code >> 18));\n                utf8[ul++] = code2char(half | ((code >> 12) & sixBits));\n                utf8[ul++] = code2char(half | ((code >> 6) & sixBits));\n                utf8[ul++] = code2char(half | (code >> sixBits));\n                \n            }\n        }\n        \n        return utf8.join('');\n    }\n\n\n// based from https://gist.github.com/weishuaiwang/4221687\nfunction bin2utf(subject) {\n        var code2char = fromCharCode;\n        var utf16, ul, c, l, code;\n        \n        if (!string(subject, true)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n        \n        utf16 = [];\n        ul = 0;\n        for (c = -1, l = subject.length; l--;) {\n            code = subject.charCodeAt(++c);\n            switch (code >> 4) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n            case 4:\n            case 5:\n            case 6:\n            case 7:\n                // 0xxxxxxx\n                utf16[ul++] = subject.charAt(c);\n                break;\n            case 12:\n            case 13:\n                // 110x xxxx 10xx xxxx\n                l--;\n                utf16[ul++] = code2char(((code & 0x1F) << 6) |\n                                        (subject.charCodeAt(++c) & 0x3F));\n                break;\n            case 14:\n                // 1110 xxxx10xx xxxx10xx xxxx\n                utf16[ul++] = code2char(((code & 0x0F) << 12) |\n                                        ((subject.charCodeAt(++c) & 0x3F) << 6) |\n                                        ((subject.charCodeAt(++c) & 0x3F) << 0));\n                l -= 2;\n                break;\n            }\n        }\n        \n        return utf16.join(\"\");\n    }\n\nfunction encode64(subject) {\n        var map = BASE64_MAP,\n            buffer = [],\n            bl = 0,\n            c = -1,\n            excess = false,\n            pad = map.charAt(64);\n        var l, total, code, flag, end, chr;\n        \n        if (!string(subject, true)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n\n        // decode to ascii\n        subject = utf2bin(subject);\n        l = total = subject.length;\n        \n        for (; l--;) {\n            code = subject.charCodeAt(++c);\n            flag = c % 3;\n            \n            switch (flag) {\n            case 0:\n                chr = map.charAt((code & 0xfc) >> 2);\n                excess = (code & 0x03) << 4;\n                break;\n            case 1:\n                chr = map.charAt(excess | (code & 0xf0) >> 4);\n                excess = (code & 0x0f) << 2;\n                break;\n            case 2:\n                chr = map.charAt(excess | (code & 0xc0) >> 6);\n                excess = code & 0x3f;\n            }\n            buffer[bl++] = chr;\n            \n            end = !l;\n            if ((end || flag === 2)) {\n                buffer[bl++] = map.charAt(excess);\n            }\n            \n            if (!l) {\n                l = bl % 4;\n                for (l = l && 4 - l; l--;) {\n                    buffer[bl++] = pad;\n                }\n                break;\n            }\n        }\n        \n        return buffer.join('');\n        \n    }\n\nfunction decode64(subject) {\n        var map = BASE64_MAP,\n            oneByte = ONE_BYTE,\n            buffer = [],\n            bl = 0,\n            c = -1,\n            code2str = fromCharCode;\n        var l, code, excess, chr, flag;\n        \n        if (!string(subject, true) || NOT_BASE64_RE.test(subject)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n        \n        subject = subject.replace(BASE64_EXCESS_REMOVE_RE, '');\n        l = subject.length;\n        \n        for (; l--;) {\n            code = map.indexOf(subject.charAt(++c));\n            flag = c % 4;\n            \n            switch (flag) {\n            case 0:\n                chr = 0;\n                break;\n            case 1:\n                chr = ((excess << 2) | (code >> 4)) & oneByte;\n                break;\n            case 2:\n                chr = ((excess << 4) | (code >> 2)) & oneByte;\n                break;\n            case 3:\n                chr = ((excess << 6) | code) & oneByte;\n            }\n            \n            excess = code;\n            \n            if (!l && flag < 3 && chr < 64) {\n                break;\n            }\n    \n            if (flag) {\n                buffer[bl++] = code2str(chr);\n            }\n        }\n        \n        return bin2utf(buffer.join(\"\"));\n    }\n\nfunction trim(subject) {\n        if (!string(subject, true)) {\n            throw new Error(INVALID_SUBJECT);\n        }\n\n        return subject ? subject.replace(TRIM_RE, \"\") : subject;\n    }\n\n//TYPE = require(\"./type.js\"),\n//    OBJECT = require(\"./object.js\"),\n\n\nvar NUMERIC_RE = /^([1-9][0-9]*|0)$/;\nvar ARRAY_INDEX_RE$1 = /^([1-9][0-9]*|0|)$/;\nvar ERROR_NATIVE_OBJECT = \"Root [subject] requires native Object to accept \" +\n                            \"non-numeric property name.\";\nvar ERROR_PATH_INVALID = 'Invalid [path] parameter.';\nvar START = \"start\";\nvar START_ESCAPED = \"start_escaped\";\nvar QUEUE = \"queue\";\nvar END = \"end\";\nvar END_EMPTY = \"end_empty\";\nvar STATE = {\n        \"start\": {\n            \"[\": \"bracket_start\",\n            \"'\": \"any_sq_start\",\n            '\"': \"any_dq_start\",\n            \"default\": \"any\",\n            \"\\\\\": \"any_escape\"\n        },\n        \n        \"bracket_start\": {\n            \"]\": \"property_end\",\n            \"'\": \"sq_start\",\n            '\"': \"dq_start\",\n            \"default\": \"bracket_any\"\n        },\n        \n        \"any_sq_start\": {\n            \"'\": \"property_end\",\n            \"\\\\\": \"any_sq_escape\",\n            \"default\": \"any_sq\"\n        },\n        \n        \"any_sq\": {\n            \"'\": \"property_end\",\n            \"\\\\\": \"any_sq_escape\",\n            \"default\": \"any_sq\"\n        },\n        \n        \"any_sq_escape\": {\n            \"default\": \"any_sq\"\n        },\n        \n        \"any_dq_start\": {\n            '\"': \"property_end\",\n            \"\\\\\": \"any_dq_escape\",\n            \"default\": \"any_dq\"\n        },\n        \n        \"any_dq\": {\n            '\"': \"property_end\",\n            \"\\\\\": \"any_dq_escape\",\n            \"default\": \"any_dq\"\n        },\n        \n        \"any_dq_escape\": {\n            \"default\": \"any_dq\"\n        },\n        \n        \"sq_start\": {\n            \"'\": \"bracket_end\",\n            \"\\\\\": \"sq_escape\",\n            \"default\": \"sq\"\n        },\n        \"sq\": {\n            \"'\": \"bracket_end\",\n            \"\\\\\": \"sq_escape\",\n            \"default\": \"sq\"\n        },\n        \"sq_escape\": {\n            \"default\": \"sq\"\n        },\n        \"dq_start\": {\n            '\"': \"bracket_end\",\n            \"\\\\\": \"dq_escape\",\n            \"default\": \"dq\"\n        },\n        \"dq\": {\n            '\"': \"bracket_end\",\n            \"\\\\\": \"dq_escape\",\n            \"default\": \"dq\"\n        },\n        \"dq_escape\": {\n            \"default\": \"dq\"\n        },\n        \n        \"bracket_any\": {\n            \"]\": \"property_end\",\n            \"\\\\\": \"bracket_any_escape\",\n            \"default\": \"bracket_any\"\n        },\n        \n        \"bracket_any_escape\": {\n            \"default\": \"bracket_any\"\n        },\n        \n        \"bracket_end\": {\n            \"]\": \"property_end\"\n        },\n        \n        \"any\": {\n            \".\": \"start\",\n            \"\\\\\": \"any_escape\",\n            \"[\": \"bracket_start\",\n            \"default\": \"any\"\n        },\n        \"any_escape\": {\n            \"default\": \"any\"\n        },\n        \n        \"property_end\": {\n            \"[\": \"bracket_start\",\n            \".\": \"start\"\n        }\n    };\nvar STATE_ACTION = {\n        \"start\": {\n            \"any\": START,\n            \"any_escape\": START_ESCAPED\n        },\n        \n        \"any_sq_start\": {\n            \"any_sq\": START,\n            \"property_end\": END_EMPTY\n            \n        },\n        \n        \"any_sq\": {\n            \"any_sq\": QUEUE,\n            \"property_end\": END\n        },\n        \n        \"any_sq_escape\": {\n            \"any_sq\": QUEUE\n        },\n        \n        \"any_dq_start\": {\n            \"any_dq\": START,\n            \"property_end\": END_EMPTY\n            \n        },\n        \n        \"any_dq\": {\n            \"any_dq\": QUEUE,\n            \"property_end\": END\n        },\n        \n        \"any_dq_escape\": {\n            \"any_dq\": QUEUE\n        },\n        \n        \"any\": {\n            \"any\": QUEUE,\n            \"start\": END,\n            \"bracket_start\": END\n        },\n        \"any_escape\": {\n            \"any\": QUEUE,\n            \"bracket_start\": END,\n            \"start\": START\n        },\n        \n        \"bracket_start\": {\n            \"bracket_any\": START,\n            \"property_end\": END_EMPTY\n        },\n        \n        \"bracket_any\": {\n            \"bracket_any\": QUEUE,\n            \"property_end\": END\n        },\n        \n        \"bracket_any_escape\": {\n            \"bracket_any\": QUEUE\n        },\n        \n        \"sq_start\": {\n            \"sq\": START,\n            \"bracket_end\": END_EMPTY\n        },\n        \"sq\": {\n            \"sq\": QUEUE,\n            \"bracket_end\": END\n        },\n        \"sq_escape\": {\n            \"sq\": QUEUE\n        },\n        \n        \"dq_start\": {\n            \"dq\": START,\n            \"bracket_end\": END_EMPTY\n        },\n        \"dq\": {\n            \"dq\": QUEUE,\n            \"bracket_end\": END\n        },\n        \"dq_escape\": {\n            \"dq\": QUEUE\n        }\n    };\n\n\n\n\nfunction onParsePath(property, last, context) {\n    context[context.length] = property;\n}\n\n\n\nfunction isAccessible(subject, item) {\n    var signature$$1 = signature(subject);\n    \n    switch (signature$$1) {\n    case NUMBER_SIGNATURE:\n        return isFinite(subject) && item in Number.prototype && signature$$1;\n        \n    case STRING_SIGNATURE:\n        return item in String.prototype && signature$$1;\n    \n    case BOOLEAN_SIGNATURE:\n        return item in Boolean.prototype && signature$$1;\n    \n    case REGEX_SIGNATURE:\n    case DATE_SIGNATURE:\n    case ARRAY_SIGNATURE:\n    case OBJECT_SIGNATURE:\n    case METHOD_SIGNATURE:\n        if (item in subject) {\n            return signature$$1;\n        }\n    }\n    return false;\n}\n\nfunction isWritable(subject) {\n    var signature$$1 = signature(subject);\n    \n    switch (signature$$1) {\n    case REGEX_SIGNATURE:\n    case DATE_SIGNATURE:\n    case ARRAY_SIGNATURE:\n    case OBJECT_SIGNATURE:\n    case METHOD_SIGNATURE:\n        return signature$$1;\n    }\n    return false;\n}\n\nfunction isJSONWritable(subject) {\n    var signature$$1 = signature(subject);\n    \n    switch (signature$$1) {\n    case ARRAY_SIGNATURE:\n    case OBJECT_SIGNATURE:\n        return signature$$1;\n    }\n    return false;\n}\n\nfunction findCallback(item, last, operation) {\n    var subject = operation[1];\n    \n    if (!isAccessible(subject, item)) {\n        operation[0] = void(0);\n        return false;\n    }\n    \n    operation[last ? 0 : 1] = subject[item];\n    return true;\n}\n\n\n\n\n\n\n\nfunction onPopulatePath(item, last, context) {\n    var subject = context[1],\n        iswritable = isWritable,\n        writable = iswritable(subject),\n        U = void(0),\n        success = false;\n        \n    // populate\n    if (!last) {\n        // populate\n        if (writable) {\n            // set object\n            if (!(item in subject)) {\n                subject[item] = {};\n                success = true;\n                \n            }\n            // allow only when writable\n            else if (iswritable(subject[item])) {\n                success = true;\n            }\n        }\n    \n        context[1] = success ? subject[item] : U;\n        \n    }\n    // end it with writable state?\n    else {\n        success = writable;\n        context[2] = success && item;\n        \n    }\n   \n    return success;\n\n}\n\n\n\n\nfunction onRemovePath(item, last, context) {\n    var subject = context[1],\n        iswritable = isWritable,\n        writable = iswritable(subject),\n        U = void(0),\n        success = false;\n        \n    // populate\n    if (!last) {\n        if (writable && item in subject) {\n            \n            // go to next\n            if (iswritable(subject[item])) {\n                success = true;\n            }\n            // still a success, nothing to remove\n            else {\n                context[3] = true;\n            }\n\n        }\n    \n        context[1] = success ? subject[item] : U;\n        \n    }\n    // end it with writable state?\n    else {\n        success = writable;\n        context[2] = success && item;\n        context[3] = true;\n    }\n    \n    return success;\n}\n\n\n\n\n\n\n\nfunction existsCallback(item, last, context) {\n    var subject = context[0],\n        exists = isAccessible(subject, item);\n    \n    if (exists) {\n        context[0] = subject[item];\n    }\n    \n    if (last) {\n        context[1] = !!exists;\n    }\n    \n    return exists;\n}\n\n\n\n\nfunction jsonParsePath(path) {\n        var items = [];\n        \n        return jsonEach(path, onParsePath, items) && items.length ?\n                    items : null;\n        \n    }\n    \nfunction jsonFind(path, object$$1) {\n        var operation = [void(0), object$$1];\n        jsonEach(path, findCallback, operation);\n        operation[1] = null;\n        return operation[0];\n    }\n    \nfunction jsonCompare(path, object1, object2) {\n        return compare(jsonFind(path, object1), object2);\n    }\n\nfunction jsonClone(path, object$$1, deep) {\n        return clone(jsonFind(path, object$$1), deep === true);\n    }\n    \nfunction jsonEach(path, callback, arg1, arg2, arg3, arg4, arg5) {\n        var map = STATE,\n            action = STATE_ACTION,\n            start = START,\n            start_escaped = START_ESCAPED,\n            queue = QUEUE,\n            end = END,\n            end_empty = END_EMPTY,\n            DEFAULT = \"default\";\n        var c, l, chr, state, stateObject, items, len, last,\n            next, actionObject, buffer, bl, buffered, pending,\n            start_queue, restart;\n        \n        if (!string(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        if (!method(callback)) {\n            throw new Error(\"Invalid [callback] parameter\");\n        }\n        \n        buffer = bl = false;\n        state = \"start\";\n        stateObject = map.start;\n        \n        items = [];\n        len = pending = 0;\n        \n        for (c = -1, l = path.length; l--;) {\n            buffered = false;\n            chr = path.charAt(++c);\n            last = !l;\n            \n            // find next state\n            if (chr in stateObject) {\n                next = stateObject[chr];\n            }\n            else if (DEFAULT in stateObject) {\n                next = stateObject[DEFAULT];\n            }\n            else {\n                return null;\n            }\n            \n            // check for actions\n            if (state in action) {\n                actionObject = action[state];\n                if (next in actionObject) {\n                    start_queue = restart = false;\n                    \n                    switch (actionObject[next]) {\n                    \n                    case start:\n                        start_queue = true;\n                    /* falls through */\n                    case start_escaped:\n                            if (buffer !== false) {\n                                return false;\n                            }\n                            \n                            if (start_queue && !last) {\n                                buffer = [chr];\n                                bl = 1;\n                            }\n                            else {\n                                buffer = [];\n                                bl = 0;\n                            }\n                            \n                            // exit if not last\n                            if (!last) {\n                                break;\n                            }\n                    /* falls through */\n                    case queue:\n                            if (buffer === false) {\n                                return false;\n                            }\n                            buffer[bl++] = chr;\n                            // exit if not last\n                            if (!last) {\n                                break;\n                            }\n                    /* falls through */\n                    case end:\n                            if (buffer === false) {\n                                return false;\n                            }\n                            items[len++] = buffer.join('');\n                            buffer = bl = false;\n                        break;\n                    case end_empty:\n                            if (buffer !== false) {\n                                return false;\n                            }\n                            items[len++] = '';\n    \n                        break;\n                    }\n                }\n            }\n            \n            \n            state = next;\n            stateObject = map[state];\n            \n            if (pending < len - 1) {\n                if (callback(items[pending++],\n                            false,\n                            arg1,\n                            arg2,\n                            arg3,\n                            arg4,\n                            arg5) === false) {\n                    return true;\n                }\n            }\n            // last\n            if (last) {\n                l = len - pending;\n                for (; l--;) {\n                    if (callback(items[pending++],\n                                !l,\n                                arg1,\n                                arg2,\n                                arg3,\n                                arg4,\n                                arg5) === false) {\n                        return true;\n                    }\n                }\n                break;\n            }\n    \n        }\n        \n        return true;\n    \n    }\n    \nfunction jsonSet(path, subject, value, overwrite) {\n        var typeArray = ARRAY_SIGNATURE,\n            apply = assign,\n            writable = isWritable;\n        var context, name, current, valueSignature, currentSignature,\n            arrayOperation, arrayPush, canApply;\n        \n        if (!string(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        // main subject should be accessible and native object\n        context = [void(0), subject, false];\n        jsonEach(path, onPopulatePath, context);\n        name = context[2];\n        \n        if (name !== false) {\n            subject = context[1];\n            valueSignature = writable(value);\n            arrayOperation = array(subject) && NUMERIC_RE.test(name);\n            \n            if (name in subject) {\n                current = subject[name];\n                currentSignature = writable(current);\n            }\n            else {\n                current = undefined;\n                currentSignature = null;\n            }\n            \n            canApply = valueSignature && !!currentSignature;\n            arrayPush = canApply &&\n                            valueSignature === typeArray &&\n                            currentSignature === typeArray;\n                            \n            \n            // finalize overwrite type\n            switch (overwrite) {\n            // only available if subject is array and name is numeric index\n            case 'insert':\n                overwrite = !arrayOperation;\n                if (arrayOperation) {\n                    subject.splice(name * 1, 0, value);\n                }\n                break;\n            \n            // only available if subject canApply\n            case 'apply':\n                overwrite = !canApply;\n                if (canApply) {\n                    apply(current, value);\n                }\n                break;\n            \n            // only available if current is array and value is array\n            case 'push':\n                overwrite = !arrayPush;\n                if (arrayPush) {\n                    current.push.apply(current, value);\n                }\n                break;\n            \n            // only available if current is array and value is array\n            case 'unshift':\n                overwrite = !arrayPush;\n                if (arrayPush) {\n                    current.splice.apply(current, [0, 0].concat(value));\n                }\n                break;\n            \n            // default is no overwrite if possible\n            case false:\n            /* falls through */\n            default:\n                // can apply or push only if non-scalar current and value\n                overwrite = !canApply;\n                if (canApply) {\n                    if (arrayPush) {\n                        current.push.apply(current, value);\n                    }\n                    else {\n                        apply(current, value);\n                    }\n                }\n            }\n            \n            // plain overwrite!\n            if (overwrite === true) {\n                subject[name] = value;\n            }\n            \n            return true;\n        \n        }\n        return false;\n    }\n    \nfunction jsonUnset(path, subject) {\n        var context, name, returnValue;\n        \n        if (!string(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        // main subject should be accessible and native object\n        context = [void(0), subject, false, false];\n        jsonEach(path, onRemovePath, context);\n        \n        name = context[2];\n        returnValue = context[3];\n        \n        // found! and must be removed\n        if (returnValue && name !== false) {\n            \n            subject = context[1];\n            \n            if (!(name in subject)) {\n                \n                returnValue = false;\n            }\n            else {\n            \n                // remove item\n                if (array(subject) && NUMERIC_RE.test(name)) {\n                    subject.splice(name * 1, 1);\n                    \n                }\n                else {\n                    \n                    delete subject[name];\n                    // check if removable\n                    returnValue = !(name in subject);\n                    \n                }\n                \n            }\n        }\n        \n        return returnValue;\n    }\n\nfunction jsonFill(path, subject, value) { //, overwrite) {\n        var typeArray = ARRAY_SIGNATURE,\n            getMax = maxObjectIndex,\n            apply = assign,\n            has = contains,\n            arrayIndexRe = ARRAY_INDEX_RE$1,\n            iswritable = isJSONWritable,\n            isSubjectArray = array(subject);\n            \n        var parent, c, l, item, parentIndex,\n            property, arrayIndex, writable;\n            \n        \n        \n        if (!string(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        // root subject should be an object\n        if (!object(subject) && !isSubjectArray) {\n            return false;\n        }\n        \n        // unable to create items from path\n        path = jsonParsePath(path);\n        if (!path || !path.length) {\n            return false;\n        }\n        \n        parent = subject;\n        parentIndex = path[0];\n        \n        // finalize parent index\n        if (!parentIndex) {\n            parentIndex = getMax(parent) + 1;\n        }\n        \n        l = path.length -1;\n        \n        for (c = 0; l--;) {\n            item = path[++c];\n            \n            // only determine if arrayIndex or not,\n            //      resolve this later if it will turn into parentIndex\n            arrayIndex = arrayIndexRe.test(item);\n            \n            // finalize property\n            if (has(parent, parentIndex)) {\n                property = parent[parentIndex];\n                writable = iswritable(property);\n                \n                // recreate array into object to support \"named\" property\n                if (writable === typeArray && !arrayIndex) {\n                    property = apply({}, property);\n                    delete property.length;\n                    \n                }\n                // contain current property\n                else if (!writable) {\n                    property = arrayIndex ?\n                        [property] : {\"\": property};\n                }\n    \n            }\n            // error! unable to replace root object\n            else if (isSubjectArray && parent === subject && !arrayIndex) {\n                throw new Error(ERROR_NATIVE_OBJECT);\n            }\n            // populate\n            else {\n                property = arrayIndex ? [] : {};\n            }\n            \n            parent = parent[parentIndex] = property;\n            parentIndex = item;\n            \n            // resolve empty parentIndex\n            if (!item) {\n                parentIndex = getMax(parent) + 1;\n            }\n            \n        }\n        \n        // if not overwrite, then fill-in value in array or object\n        //if (overwrite !== true && has(parent, parentIndex)) {\n        //    property = parent[parentIndex];\n        //    \n        //    // append\n        //    if (T.array(property)) {\n        //        parent = property;\n        //        parentIndex = parent.length;\n        //    }\n        //    else {\n        //        parent = parent[parentIndex] = [property];\n        //        parentIndex = 1;\n        //    }\n        //}\n        \n        parent[parentIndex] = value;\n        \n        return true;\n        \n    }\n    \nfunction jsonExists(path, subject) {\n        var operation = [subject, false];\n        \n        jsonEach(path, existsCallback, operation);\n        operation[0] = null;\n        \n        return operation[1];\n    }\n\nvar ERROR_NAME = 'Invalid [name] parameter.';\nvar ERROR_PATH = 'Invalid [path] parameter.';\n\nfunction create() {\n    return new Registry();\n}\n\nfunction isIndex(name) {\n    switch (signature(name)) {\n    case STRING_SIGNATURE:\n    case NUMBER_SIGNATURE: return true;\n    }\n    return false;\n}\n\nfunction Registry() {\n    this.data = {};\n}\n\nRegistry.prototype = {\n    constructor: Registry,\n    \n    onApply: function (value) {\n        assign(this.data, value, true);\n    },\n    \n    onSet: function (name, value) {\n        this.data[name] = value;\n    },\n    \n    get: function (name) {\n        var list = this.data;\n        \n        if (!isIndex(name)) {\n            throw new Error(ERROR_NAME);\n        }\n        \n        if (contains(list, name)) {\n            return list[name];\n        }\n        \n        return void(0);\n    },\n    \n    set: function (name, value) {\n        switch (signature(name)) {\n        case OBJECT_SIGNATURE:\n        case ARRAY_SIGNATURE:\n            this.onApply(name);\n            break;\n        \n        case STRING_SIGNATURE:\n        case NUMBER_SIGNATURE:\n            this.onSet(name, value);\n            break;\n            \n        default:\n            throw new Error(ERROR_NAME);\n        }\n        \n        return this;\n    },\n    \n    unset: function (name) {\n        var list = this.data;\n        \n        if (!isIndex(name)) {\n            throw new Error(ERROR_NAME);\n        }\n        \n        if (contains(list, name)) {\n            delete list[name];\n        }\n        \n        return this;\n    },\n    \n    find: function (path) {\n        if (!string(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        return jsonFind(path, this.data);\n    },\n    \n    insert: function (path, value) {\n        if (!string(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        jsonFill(path, this.data, value, true);\n        \n        return this;\n    \n    },\n    \n    remove: function (path) {\n        if (!string(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        jsonUnset(path, this.data);\n        \n        return this;\n    },\n    \n    exists: function (name) {\n        if (!isIndex(name)) {\n            throw new Error(ERROR_NAME);\n        }\n        \n        return contains(this.data, name);\n    },\n    \n    pathExists: function (path) {\n        if (!string(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        return jsonExists(path, this.data);\n    },\n    \n    assign: function(value) {\n        switch (signature(value)) {\n        case OBJECT_SIGNATURE:\n        case ARRAY_SIGNATURE:\n            this.onApply(value);\n            return this;\n        \n        default:\n            throw new Error(\"Invalid [value] parameter\");\n        }\n        \n    },\n    \n    clear: function () {\n        clear(this.data);\n        return this;\n    },\n    \n    clone: function () {\n        var list = this.data;\n        return clone(list, true);\n    }\n    \n};\n\nvar slice = Array.prototype.slice;\nvar G$1 = global$1;\nvar ERROR_ITERABLE = 'Invalid [iterable] parameter.';\nvar INDEX_STATUS = 0;\nvar INDEX_DATA = 1;\nvar INDEX_PENDING = 2;\n\nfunction createPromise(instance) {\n    var Class = Promise;\n    \n    if (!(instance instanceof Class)) {\n        instance = instantiate(Class);\n    }\n    \n    instance.__state = [null,\n                        void(0),\n                        [],\n                        null,\n                        null];\n    return instance;\n}\n\nfunction resolveValue(data, callback) {\n    function resolve(data) {\n        try {\n            callback(true, data);\n        }\n        catch (error) {\n            callback(false, error);\n        }\n    }\n    \n    if (thenable(data)) {\n        data.then(resolve,\n                  function (error) {\n                        callback(false, error);\n                    });\n    }\n    else {\n        resolve(data);\n    }\n}\n\nfunction finalizeValue(promise, success, data) {\n    var state = promise.__state,\n        list = state[INDEX_PENDING];\n        \n    state[INDEX_STATUS] = success;\n    state[INDEX_DATA] = data;\n    \n    // notify callbacks\n    for (; list.length; ) {\n        list[0](success, data);\n        list.splice(0, 1);\n    }\n}\n\nfunction Promise(resolver) {\n    var finalized = false;\n    var instance;\n    \n    function onFinalize(success, data) {\n        finalizeValue(instance, success, data);\n    }\n    \n    function resolve(data) {\n        if (!finalized) {\n            finalized = true;\n            resolveValue(data, onFinalize);\n        }\n    }\n    \n    function reject(error) {\n        if (!finalized) {\n            finalized = true;\n            onFinalize(false, error);\n        }\n    }\n    \n    if (!method(resolver)) {\n        throw new Error('Promise resolver is not a function.');\n    }\n    \n    instance = createPromise(this);\n    \n    try {\n        resolver(resolve, reject);\n    }\n    catch (error) {\n        reject(error);\n    }\n    \n    return instance;\n}\n\nfunction resolve(data) {\n    return new Promise(function (resolve) {\n        resolve(data);\n    });\n}\n\nfunction reject(reason) {\n    return new Promise(function () {\n        arguments[1](reason);\n    });\n}\n\nfunction all(iterable$$1) {\n    var total;\n    \n    function resolver(resolve, reject) {\n        var list = iterable$$1,\n            remaining = total,\n            stopped = false,\n            l = remaining,\n            c = 0,\n            result = [];\n\n        function process(index, item) {\n            function finalize(success, data) {\n                var found = result;\n                \n                if (stopped) { return; }\n                \n                if (!success) {\n                    reject(data);\n                    stopped = true;\n                    return;\n                }\n                \n                found[index] = data;\n                \n                if (!--remaining) {\n                    resolve(found);\n                }\n            }\n            resolveValue(item, finalize);\n        }\n        \n        for (result.length = l; l--; c++) {\n            process(c, list[c]);\n        }\n    }\n    \n    if (!iterable(iterable$$1)) {\n        throw new TypeError(ERROR_ITERABLE);\n    }\n    \n    iterable$$1 = slice.call(iterable$$1, 0);\n    total = iterable$$1.length;\n    \n    if (!total) {\n        return resolve([]);\n    }\n    \n    return new Promise(resolver);\n}\n\nfunction race(iterable$$1) {\n    function resolver(resolve, reject) {\n        var stopped = false,\n            tryResolve = resolveValue,\n            list = iterable$$1,\n            c = -1,\n            l = list.length;\n        \n        function onFulfill(success, data) {\n            if (!stopped) {\n                stopped = true;\n                (success ? resolve : reject)(data);\n            }\n        }\n        \n        for (; l--;) {\n            tryResolve(list[++c], onFulfill);\n        }\n    }\n    \n    if (!iterable(iterable$$1)) {\n        throw new TypeError(ERROR_ITERABLE);\n    }\n    \n    iterable$$1 = slice.call(iterable$$1, 0);\n    \n    return new Promise(resolver);\n}\n\nPromise.prototype = {\n    constructor: Promise,\n    then: function (onFulfill, onReject) {\n        var me = this,\n            state = me.__state,\n            success = state[INDEX_STATUS],\n            list = state[INDEX_PENDING],\n            instance = createPromise();\n            \n        function run$$1(success, data) {\n            var finalize = finalizeValue,\n                handle = success ? onFulfill : onReject;\n            \n            if (method(handle)) {\n                try {\n                    data = handle(data);\n                    resolveValue(data,\n                                function (success, data) {\n                                    finalize(instance,\n                                             success,\n                                             data);\n                                });\n                    return;\n                }\n                catch (error) {\n                    data = error;\n                    success = false;\n                }\n            }\n            finalize(instance, success, data);\n        }\n        \n        if (success === null) {\n            list[list.length] = run$$1;\n        }\n        else {\n            setAsync(function () {\n                run$$1(success, state[INDEX_DATA]);\n            });\n        }\n        \n        return instance;\n    },\n    \n    \"catch\": function (onReject) {\n        return this.then(null, onReject);\n    }\n};\n\n// static methods\nassign(Promise, {\n    all: all,\n    race: race,\n    reject: reject,\n    resolve: resolve\n});\n\n// Polyfill if promise is not supported\nif (!method(G$1.Promise)) {\n    G$1.Promise = Promise;\n}\n\nG$1 = null;\n\n\n\nvar BUNDLE$1 = Object.freeze({\n\tenv: detect,\n\tcreateRegistry: create,\n\tPromise: Promise,\n\teach: EACH,\n\tassign: assign,\n\trehash: rehash,\n\tcontains: contains,\n\tinstantiate: instantiate,\n\tclone: clone,\n\tcompare: compare,\n\tfillin: fillin,\n\tclear: clear,\n\tmaxObjectIndex: maxObjectIndex,\n\tsetAsync: setAsync,\n\tclearAsync: clearAsync,\n\trun: run,\n\tregister: register,\n\tclearRunner: clearRunner,\n\tmiddleware: middleware,\n\tobject: object,\n\tOBJECT: OBJECT_SIGNATURE,\n\tARRAY: ARRAY_SIGNATURE,\n\tNULL: NULL_SIGNATURE,\n\tUNDEFINED: UNDEFINED_SIGNATURE,\n\tNUMBER: NUMBER_SIGNATURE,\n\tSTRING: STRING_SIGNATURE,\n\tBOOLEAN: BOOLEAN_SIGNATURE,\n\tMETHOD: METHOD_SIGNATURE,\n\tFUNCTION: METHOD_SIGNATURE,\n\tDATE: DATE_SIGNATURE,\n\tREGEX: REGEX_SIGNATURE,\n\tsignature: signature,\n\tnativeObject: nativeObject,\n\tstring: string,\n\tnumber: number,\n\tscalar: scalar,\n\tarray: array,\n\tmethod: method,\n\tdate: date,\n\tregex: regex,\n\tthenable: thenable,\n\titerable: iterable,\n\ttype: type,\n\tunionList: unionList,\n\tintersectList: intersectList,\n\tdifferenceList: differenceList,\n\tcamelize: camelize,\n\tuncamelize: uncamelize,\n\tutf2bin: utf2bin,\n\tbin2utf: bin2utf,\n\tencode64: encode64,\n\tdecode64: decode64,\n\ttrim: trim,\n\tjsonParsePath: jsonParsePath,\n\tjsonFind: jsonFind,\n\tjsonCompare: jsonCompare,\n\tjsonClone: jsonClone,\n\tjsonEach: jsonEach,\n\tjsonSet: jsonSet,\n\tjsonUnset: jsonUnset,\n\tjsonFill: jsonFill,\n\tjsonExists: jsonExists\n});\n\nuse(BUNDLE$1);\n\nexport { detect as env, create as createRegistry, Promise, EACH as each, assign, rehash, contains, instantiate, clone, compare, fillin, clear, maxObjectIndex, setAsync, clearAsync, run, register, clearRunner, middleware, object, OBJECT_SIGNATURE as OBJECT, ARRAY_SIGNATURE as ARRAY, NULL_SIGNATURE as NULL, UNDEFINED_SIGNATURE as UNDEFINED, NUMBER_SIGNATURE as NUMBER, STRING_SIGNATURE as STRING, BOOLEAN_SIGNATURE as BOOLEAN, METHOD_SIGNATURE as METHOD, METHOD_SIGNATURE as FUNCTION, DATE_SIGNATURE as DATE, REGEX_SIGNATURE as REGEX, signature, nativeObject, string, number, scalar, array, method, date, regex, thenable, iterable, type, unionList, intersectList, differenceList, camelize, uncamelize, utf2bin, bin2utf, encode64, decode64, trim, jsonParsePath, jsonFind, jsonCompare, jsonClone, jsonEach, jsonSet, jsonUnset, jsonFill, jsonExists };\nexport default BUNDLE$1;\n//# sourceMappingURL=libcore.es.js.map\n","export default typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {}\n","'use strict';\n\nimport {\n            string,\n            array\n        } from \"libcore\";\n\nconst INVALID_NAME = \"Invalid Package [name] parameter.\",  \n    INVALID_NAMES = \"Invalid [names] Package collection parameter.\";\n\n\nclass Package {\n    constructor(name) {\n        this.id = ':' + name;\n        this.name = name;\n        \n        this.registered = false;\n        this.requires = [];\n\n    }\n}\n\n\nexport default\n    class Packager {\n        constructor() {\n            this.names = [];\n            this.packages = {};\n        }\n\n        register(name, dependencies) {\n\n            var isString = string,\n                names = this.names,\n                list = this.packages,\n                PackageClass = Package;\n            var c, l, dependency, items, il, id, packageObject;\n            \n            if (!isString(name)) {\n                throw new Error(INVALID_NAME);\n            }\n\n            id = ':' + name;\n\n            if (id in list && list[id].registered) {\n                throw new Error(`Package ${name} already exists.`);\n            }\n\n            names[names.length] = name;\n\n            packageObject = new PackageClass(name);\n            \n            list[id] = packageObject;\n            packageObject.registered = true;\n            \n\n            if (isString(dependencies)) {\n                dependencies = [dependencies];\n            }\n\n            if (array(dependencies)) {\n                items = packageObject.requires;\n                il = 0;\n\n                for (c = -1, l = dependencies.length; l--;) {\n                    dependency = dependencies[++c];\n                    if (isString(dependency)) {\n                        items[il++] = dependency;\n                    }\n\n                }\n\n            }\n\n            return this;\n\n        }\n\n        flatten(names) {\n            var list = this.packages,\n                isString = string;\n            var position, len, name, id, inserted, stack, total,\n                pack, requires, resolved, rl;\n\n            if (isString(names)) {\n                names = [names];\n            }\n\n            if (array(names)) {\n                total = names.length;\n\n                // validate names\n                for (len = total; len--;) {\n                    name = names[len];\n\n                    if (!isString(name)) {\n                        throw new Error(INVALID_NAMES);\n                    }\n\n                    id = ':' + name;\n                    if (!(id in list)) {\n                        throw new Error(`Package ${name} do not exist.`);\n                    }\n                    else if (!list[id].registered) {\n                        throw new Error(`Package ${name} is not registered.`);\n                    }\n\n                }\n\n                inserted = {};\n                stack = null;\n                position = -1;\n                len = total;\n                resolved = [];\n                rl = 0;\n\n                for (; len--;) {\n                    name = names[++position];\n                    id = ':' + name;\n                    pack = list[id];\n\n                    requires = pack.requires;\n                    total = requires.length;\n                    \n                    // should recurse\n                    if (total) {\n                        stack = {\n                            parent: stack,\n                            ender: name,\n                            c: position,\n                            l: len,\n                            items: names,\n                            rs: resolved\n                        };\n                        names = requires;\n                        len = total;\n                        position = -1;\n                        continue;\n                    }\n\n                    // leaf\n                    if (!(id in inserted)) {\n                        resolved[rl++] =\n                            inserted[id] = name;\n                    }\n\n                    // end?\n                    if (!len) {\n                        // pop\n                        for (; stack; stack = stack.parent) {\n                            len = stack.l;\n                            name = stack.ender;\n\n                            // included ender\n                            resolved[rl++] = \n                                inserted[':' + name] = name;\n\n                            // break to continue\n                            if (len) {\n                                position = stack.c;\n                                names = stack.rs;\n                                names.push.apply(names, resolved);\n                                resolved = names;\n                                names = stack.items;\n                                rl = resolved.length;\n                                break;\n\n                            }\n\n                        }\n\n                    }\n\n\n                }\n\n\n\n            }\n\n            \n\n        }\n    }"],"names":["signature","subject","undefined","UNDEFINED_SIGNATURE","NUMBER","isFinite","NULL_SIGNATURE","toString","call","nativeObject","constructor","result","O","OBJECT","OBJECT_SIGNATURE","hasOwnProperty","string","allowEmpty","STRING","O$1","STRING_SIGNATURE","length","number","array","notEmpty","ARRAY_SIGNATURE","method","METHOD_SIGNATURE","date","DATE_SIGNATURE","regex","REGEX_SIGNATURE","thenable","NaN","NUMBER_SIGNATURE","BOOLEAN_SIGNATURE","then","iterable","len","empty","isValidObject","target","signature$$1","apply","value","name","this","applyProperties","assignAll","source","defaults","onAssign","eachProperty","EACH","applyClear","arguments","applyFillin","contains","compareLookback","object1","object2","references","context","isObject","object","isArray","isRegex","isDate","onCompare","onEachCompareObject","each","me","depth","lastIndexOf","cloneObject","data","parents","cloned","recreated","onEachClonedProperty","cloneArray","onProperty","c","l","index","isNative","clone","onMaxNumericIndex","ARRAY_INDEX_RE","test","Math","max","assign","ownedOnly","is","Error","property","OHasOwn","instantiate","Class","overrides","prototype","deep","slice","RegExp","flags","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","compare","clear","maxObjectIndex","getModule","CHAIN","empty$1","get","info","getRunners","access","position","list","RUNNERS","parsed","parseName","getPositionAccess","purgeRunners","after","runners","before","splice","input","POSITION_BEFORE","namespace","match","NAME_RE","POSITION_AFTER","BaseMiddleware","run","args","scope","INVALID_NAME","Array","register","handler","items","INVALID_HANDLER","applyCamelize","all","charAt","toUpperCase","applyUncamelize","toLowerCase","utf2bin","code","half","HALF_BYTE","sixBits","SIX_BITS","code2char","fromCharCode","utf8","ul","INVALID_SUBJECT","charCodeAt","join","bin2utf","utf16","onParsePath","last","isAccessible","item","Number","String","Boolean","isWritable","isJSONWritable","findCallback","operation","onPopulatePath","iswritable","writable","success","onRemovePath","existsCallback","exists","jsonParsePath","path","jsonEach","jsonFind","object$$1","callback","arg1","arg2","arg3","arg4","arg5","chr","state","stateObject","next","actionObject","buffer","bl","pending","start_queue","map","STATE","action","STATE_ACTION","start","START","start_escaped","START_ESCAPED","queue","QUEUE","end","END","end_empty","END_EMPTY","ERROR_PATH_INVALID","jsonUnset","returnValue","NUMERIC_RE","jsonFill","parent","parentIndex","arrayIndex","typeArray","getMax","has","arrayIndexRe","ARRAY_INDEX_RE$1","isSubjectArray","ERROR_NATIVE_OBJECT","jsonExists","isIndex","Registry","createPromise","instance","Promise","__state","resolveValue","resolve","error","finalizeValue","promise","INDEX_PENDING","INDEX_STATUS","INDEX_DATA","resolver","onFinalize","reject","finalized","global","self","window","global$1","ROOT","browser","G","win","document","doc","defaultView","parentWindow","isBrowser","nodeVersions","process","versions","nodeVersion","nodejs","node","userAgent","proc","navigator","platform","v8","arch","getUserAgent","validSignature","Object","hasValidSignature","ajax","XMLHttpRequest","indexOfSupport","indexOf","detect","freeze","BOOLEAN","Obj","getOwnPropertyNames","hasown","names","hasOwn","noChecking","NAMESPACES","NATIVE_SET_IMMEDIATE","setImmediate","setAsync","setTimeout","clearAsync","id","clearImmediate","e","clearTimeout","INVALID_ARRAY1","INVALID_ARRAY2","A","array$$1","ONE_BYTE","BASE64_MAP","NOT_BASE64_RE","BASE64_EXCESS_REMOVE_RE","CAMEL_RE","UNCAMEL_RE","TRIM_RE","[","'","\"","default","\\","bracket_start","]","any_sq_start","any_sq","any_sq_escape","any_dq_start","any_dq","any_dq_escape","sq_start","sq","sq_escape","dq_start","dq","dq_escape","bracket_any","bracket_any_escape","bracket_end","any",".","any_escape","property_end","ERROR_NAME","ERROR_PATH","onApply","onSet","set","unset","find","insert","remove","pathExists","G$1","ERROR_ITERABLE","onFulfill","onReject","run$$1","finalize","handle","catch","iterable$$1","total","TypeError","remaining","stopped","found","race","tryResolve","reason","chain","use","env","createRegistry","rehash","fillin","clearRunner","middleware","Middleware","registered","proto","ARRAY","NULL","UNDEFINED","METHOD","FUNCTION","DATE","REGEX","scalar","type","isType","substring","unionList","array1","array2","clone$$1","isarray","push","intersectList","l1","l2","total1","total2","foundSame","differenceList","camelize","replace","uncamelize","encode64","flag","excess","pad","decode64","oneByte","code2str","trim","jsonCompare","jsonClone","jsonSet","overwrite","current","valueSignature","currentSignature","arrayOperation","arrayPush","canApply","concat","const","Package","requires","Packager","packages","dependencies","dependency","il","packageObject","isString","PackageClass","flatten","inserted","stack","pack","resolved","rl","ender","rs"],"mappings":"+LAgIA,SAASA,EAAUC,GACX,YAAgBC,IAAZD,EACOE,GAGK,OAAZF,UACQA,IAAYG,KAAWC,SAASJ,GACjCK,GAGJC,GAASC,KAAKP,GAI7B,SAASQ,EAAaR,GACd,IACIS,EAAaC,EADbC,EAAIC,GAGR,OAAIb,EAAUC,KAAaa,KACvBJ,EAAcT,EAAQS,YAGlBE,EAAEG,eAAeP,KAAKP,EAAS,uBACxBA,EAAQS,YACfC,EAASV,EAAQS,cAAgBE,EACjCX,EAAQS,YAAcA,EACfC,GAEJD,IAAgBE,GAOnC,SAASI,EAAOf,EAASgB,GACjB,eAAehB,IAAYiB,IACnBC,GAAIZ,SAASC,KAAKP,KAAamB,KAEf,IAAfH,GAA0C,IAAnBhB,EAAQoB,QAIhD,SAASC,EAAOrB,GACR,cAAcA,IAAYG,IAAUC,SAASJ,GAcrD,SAASsB,EAAMtB,EAASuB,GAChB,OAAOjB,GAASC,KAAKP,KAAawB,MACZ,IAAbD,GAAwC,IAAnBvB,EAAQoB,QAI9C,SAASK,EAAOzB,GACR,OAAOM,GAASC,KAAKP,KAAa0B,GAM1C,SAASC,EAAK3B,GACN,OAAOM,GAASC,KAAKP,KAAa4B,GAI1C,SAASC,EAAM7B,GACP,OAAOM,GAASC,KAAKP,KAAa8B,GAI1C,SAASC,EAAS/B,GAEV,OAAQA,GACR,UAAKC,EACL,KAAK,KACL,KAAK,EACL,KAAK,EACL,KAAK+B,IAAK,OAAO,EAGjB,OAAQjC,EAAUC,IAClB,KAAKiC,GACL,KAAKd,GACL,KAAKe,GAAmB,OAAO,EAG/B,MAAO,SAAUlC,GAAWyB,EAAOzB,EAAQmC,MAInD,SAASC,EAASpC,GACV,IAAIqC,EAGJ,OAAQrC,GACR,UAAKC,EACL,KAAK,KACL,KAAK,EACL,KAAK,EACL,KAAK+B,IAAK,OAAO,EAIjB,OAAQjC,EAAUC,IAClB,KAAKiC,GACL,KAAKC,GAEL,KAAKR,GAAkB,OAAO,EAE9B,KAAKP,GACL,KAAKK,GAAiB,OAAO,EAG7B,MAAO,WAAYxB,GACXqB,EAAOgB,EAAMrC,EAAQoB,SACrBiB,GAAO,EAoDvB,SAASC,KAIT,SAASC,EAAcC,GACnB,IAAIC,EAAe1C,EAAUyC,GAE7B,OAAQC,GACR,KAAKX,GACL,KAAKF,GACL,KAAKJ,GACL,KAAKX,GACL,KAAKa,GAAkB,OAAOe,EAE9B,OAAO,EAiBX,SAASC,EAAMC,EAAOC,GAElBC,KAAKD,GAAQD,EAmBjB,SAASG,EAAgBH,EAAOC,GAE5B,IAAIJ,EAASK,KACbL,EAAO,GAAGI,GAAQJ,EAAO,GAAGG,GAC5BH,EAAS,KAGb,SAASO,EAAUP,EAAQQ,EAAQC,GAC/B,IAAIC,EAAWR,EACXS,EAAeC,GAQnB,OANIH,GACAE,EAAaF,EAAUC,EAAUV,GAAQ,GAG7CW,EAAaH,EAAQE,EAAUV,GAExBA,EAoGX,SAASa,WACEC,UAAU,GAAGA,UAAU,IAGlC,SAASC,EAAYZ,EAAOC,GAExB,IAAIJ,EAASK,KACRW,EAAShB,EAAQI,KAClBJ,EAAOI,GAAQD,GAEnBH,EAAS,KAyBb,SAASiB,EAAgBC,EAASC,EAASC,GACvC,IAQIvB,EAAKwB,EARLC,EAAWC,GACXC,EAAU1C,EACV2C,EAAUpC,EACVqC,EAASvC,EACTwC,EAAYC,EACZC,EAAOjB,GACPkB,EAAKb,EACLc,EAAQX,EAAWxC,OAGvB,QAAQ,GAGR,KAAKsC,IAAYC,EAAS,OAAO,EAGjC,KAAKG,EAASJ,GACV,QAAKI,EAASH,MAK2B,IAArCC,EAAWY,YAAYd,KACc,IAArCE,EAAWY,YAAYb,KAK3BC,EAAWW,GAASb,EACpBE,EAAWW,EAAQ,GAAKZ,EAExBE,GAAWF,EAASC,GAAY,GAChCS,EAAKX,EAASS,EAAWN,KACpBA,EAAQ,KAIbA,EAAQ,GAAKH,EACbW,EAAKV,EAASQ,EAAWN,KACpBA,EAAQ,KAIbD,EAAWxC,OAASmD,GAEb,MAGX,KAAKP,EAAQN,GACT,IAAKM,EAAQL,GACT,OAAO,EAIX,IAAyC,IAArCC,EAAWY,YAAYd,KACc,IAArCE,EAAWY,YAAYb,GACvB,OAAO,EAKX,IAFAtB,EAAMqB,EAAQtC,UAEFuC,EAAQvC,OAChB,OAAO,EAOX,IAHAwC,EAAWW,GAASb,EACpBE,EAAWW,EAAQ,GAAKZ,EAEjBtB,KACH,IAAKiC,EAAGZ,EAAQrB,GAAMsB,EAAQtB,GAAMuB,GAChC,OAAO,EAMf,OAFAA,EAAWxC,OAASmD,GAEb,EAIX,KAAKN,EAAQP,GACT,OAAOO,EAAQN,IAAYD,EAAQV,SAAWW,EAAQX,OAG1D,KAAKkB,EAAOR,GACR,OAAOQ,EAAOP,IAAYD,EAAQpD,aAAeqD,EAAQrD,WAG7D,OAAO,EAGX,SAAS8D,EAAoBzB,EAAOC,GAEhC,IAAIiB,EAAUhB,KACVL,EAASqB,EAAQ,GACjBnD,EAASkC,KAAQJ,GACLiB,EAAgBd,EAAOH,EAAOI,GAAOiB,EAAQ,IAI7D,OAFAA,EAAQ,GAAKnD,EAENA,EAeX,SAAS+D,EAAYC,EAAMC,EAASC,GAChC,IAAIL,EAAQI,EAAQvD,OAChByD,KACAhB,GAAWgB,EACAF,EACAC,GASf,OAPAD,EAAQJ,GAASG,EACjBE,EAAOL,GAASM,EAEhBzB,GAAKsB,EAAMI,EAAsBjB,GAEjCc,EAAQvD,OAASwD,EAAOxD,OAASmD,EAE1BM,EAGX,SAASE,EAAWL,EAAMC,EAASC,GAC/B,IAAIL,EAAQI,EAAQvD,OAChB4D,EAAaF,EACbD,KACAhB,GAAWgB,EACAF,EACAC,GACXK,EAAI,EACJC,EAAIR,EAAKtD,OAKb,IAHAuD,EAAQJ,GAASG,EACjBE,EAAOL,GAASM,EAETK,IAAKD,IACRD,EAAWzE,KAAKsD,EACAa,EAAKO,GACLA,EACAP,GAKpB,OAFAC,EAAQvD,OAASwD,EAAOxD,OAASmD,EAE1BM,EAGX,SAASC,EAAqBnC,EAAOC,GACjC,IAKIuC,EAJAtB,EAAUhB,KACVuC,EAAW5E,EAAamC,GACxBgC,EAAUd,EAAQ,GAClBe,EAASf,EAAQ,GAKjBlB,EAFAyC,GAAY9D,EAAMqB,IAEC,KADnBwC,EAAQR,EAAQH,YAAY7B,KAEfyC,EACGX,EACAM,GAAYpC,EAAOgC,EAASC,GAEhCA,EAAOO,GAGXE,EAAM1C,GAAO,GAGzBkB,EAAQ,GAAGjB,GAAQD,EAGvB,SAAS2C,EAAkB3C,EAAOC,EAAMiB,GAChC0B,GAAeC,KAAK5C,KACpBiB,EAAQ,GAAK4B,KAAKC,IAAI,EAAI9C,EAAMiB,EAAQ,KAMhD,SAAS8B,EAAOnD,EAAQQ,EAAQC,EAAU2C,GAClC,IAAI1C,EAAWR,EACXmD,EAAKtD,EACLY,EAAeC,GACff,EAAMiB,UAAUlC,OAEpB,IAAKyE,EAAGrD,GACJ,MAAM,IAAIsD,MAAM,+BAGpB,IAAKD,EAAG7C,GACJ,MAAM,IAAI8C,MAAM,+BAWpB,GARwB,kBAAb7C,GACP2C,EAAY3C,EACZZ,EAAM,GAGNuD,GAA0B,IAAdA,EAGZC,EAAG5C,GACHE,EAAaF,EAAUC,EAAUV,EAAQoD,QAExC,GAAIvD,EAAM,EACX,MAAM,IAAIyD,MAAM,iCAKpB,OAFA3C,EAAaH,EAAQE,EAAUV,EAAQoD,GAEhCpD,EAwBf,SAASgB,EAASxD,EAAS+F,GAEnB,IAAKhF,EAAOgF,KAAc1E,EAAO0E,GAC7B,MAAM,IAAID,MAAM,iCAGpB,OAAOE,GAAQzF,KAAKP,EAAS+F,GAGrC,SAASE,EAAYC,EAAOC,GAGpB,OAFA7D,EAAM8D,UAAYF,EAAME,UAEpBrC,GAAOoC,GACAR,EAAO,IAAIrD,EAAS6D,GAExB,IAAI7D,EAGnB,SAAS+C,EAAMX,EAAM2B,GACb,IAAIjB,EAAW5E,EAAakE,GAI5B,OAFA2B,GAAgB,IAATA,EAEHjB,GAAY9D,EAAMoD,GACX2B,GAEMjB,EAAWX,EAAcM,GAAYL,SAErCU,EAAWrC,KAAc2B,GAAQA,EAAK4B,MAAM,GAGzDzE,EAAM6C,GACC,IAAI6B,OAAO7B,EAAK1B,OAAQ0B,EAAK8B,OAE/B7E,EAAK+C,GACH,IAAI+B,KAAK/B,EAAKgC,cACThC,EAAKiC,WACLjC,EAAKkC,UACLlC,EAAKmC,WACLnC,EAAKoC,aACLpC,EAAKqC,aACLrC,EAAKsC,mBAGdtC,EAGf,SAASuC,EAAQvD,EAASC,GAClB,OAAOF,EAAgBC,EAASC,MAWxC,SAASuD,EAAMlH,GAEP,OADAoD,GAAKpD,EAASqD,EAAY,MAAM,GACzBrD,EAGf,SAASmH,EAAenH,GAChB,IAAI6D,EAEJ,OAAIvC,EAAMtB,GACCA,EAAQoB,OAAS,IAGxBmB,EAAcvC,KAEd6D,IAAY,GACZT,GAAKpD,EAASsF,EAAmBzB,GAC1BA,EAAQ,IAW3B,SAASuD,IACD,OAAOC,GAiBf,SAASC,KAGT,SAASC,EAAI3E,GACT,IAAI4E,EAAOC,EAAW7E,GAEtB,GAAI4E,EACA,OAAOA,EAAK,GAAGA,EAAK,IAM5B,SAASC,EAAW7E,GAChB,IAEI8E,EAAQC,EAFRC,EAAOC,GACPC,EAASC,EAAUnF,GAGvB,GAAIkF,IACAJ,EAAS,IAAMI,EAAO,MAERF,EAEV,OADAD,EAAWG,EAAO,IACVF,EAAKF,GACLM,EAAkBL,GAClBA,GAQpB,SAASM,EAAarF,EAAMsF,GACxB,IACIC,EAAST,EADTF,EAAOC,EAAW7E,GAGtB,GAAI4E,EAAM,CAGN,OAFAE,EAASF,EAAK,GAENU,GACR,KAAK,EACDR,EAAS,QACT,MAEJ,KAAK,EACDA,EAAS,SACT,MAEJ,KAAK,KACL,UAAKzH,EACDyH,GAAS,EAGRA,GAAqB,WAAXA,IACXS,EAAUX,EAAK,GAAGY,QACVC,OAAO,EAAGF,EAAQ/G,QAGzBsG,GAAqB,UAAXA,IACXS,EAAUX,EAAK,GAAGU,OACVG,OAAO,EAAGF,EAAQ/G,QAMlC,OAAOgG,IAGX,SAASY,EAAkBM,GACvB,OAAOA,IAAUC,GAAkB,SAAW,QAGlD,SAASR,EAAUnF,GACf,IACI+E,EAAUa,EADVC,EAAQ1H,EAAO6B,IAASA,EAAK6F,MAAMC,IAGvC,GAAID,EAGA,OAFAD,EAAYC,EAAM,GAClBd,EAAwB,WAAbc,EAAM,GAAkBF,GAAkBI,IAC7ChB,GAAWa,GAAa,IAAMC,EAAM,IAsCpD,SAASG,KAkCT,SAASC,EAAIjG,EAAMkG,EAAMC,GACjB,IAAI9D,EAAGC,EAAGiD,EAASzH,EAEnB,IAAKK,EAAO6B,GACR,MAAM,IAAIkD,MAAMkD,IAKpB,GAFAb,EAAUZ,EAAI3E,GAED,CAST,SAPqB,IAAVmG,IACPA,EAAQ,MAGZD,EAAO1G,EAAS0G,GACRG,MAAM7C,UAAUE,MAAM/F,KAAKuI,EAAM,MAEpC7D,GAAK,EAAGC,EAAIiD,EAAQ/G,OAAQ8D,UAEdjF,KADfS,EAASyH,IAAUlD,GAAGvC,MAAMqG,EAAOD,MAE/BA,GAAQpI,IAMhB,OAFAoI,EAAKT,OAAO,EAAGS,EAAK1H,QAEbV,GAMnB,SAASwI,EAAStG,EAAMuG,GAChB,IACIzB,EAAQ0B,EAAOtB,EADfF,EAAOC,GAGX,IAAK9G,EAAO6B,GACR,MAAM,IAAIkD,MAAMkD,IAKpB,GAFAlB,EAASC,EAAUnF,IAEdnB,EAAO0H,GACR,MAAM,IAAIrD,MAAMuD,IAqBpB,OAlBIvB,KAGAJ,EAAS,KADT9E,EAAOkF,EAAO,OAEEF,IAEZA,EAAKF,IACD9E,KAAMA,EACNwF,UACAF,YAIRkB,EAAQxB,EAAKF,GAAQM,EAAkBF,EAAO,MAExCsB,EAAMhI,QAAU+H,GAGnB/B,IAsQf,SAASkC,EAAcC,GACnB,OAAOA,EAAIC,OAAOD,EAAInI,OAAS,GAAGqI,cAGtC,SAASC,EAAgBH,GACrB,MAAO,IAAMA,EAAIC,OAAOD,EAAInI,OAAQ,GAAGuI,cAa3C,SAASC,EAAQ5J,GACT,IAKI6J,EAAM5E,EAAGC,EALT4E,EAAOC,GACPC,EAAUC,GACVC,EAAYC,GACZC,KACAC,EAAK,EAGT,IAAKtJ,EAAOf,GAAS,GACjB,MAAM,IAAI8F,MAAMwE,IAGpB,IAAKrF,GAAK,EAAGC,EAAIlF,EAAQoB,OAAQ8D,MAC7B2E,EAAO7J,EAAQuK,aAAatF,IAEjB6E,EACPM,EAAKC,KAAQH,EAAUL,GAElBA,EAAO,MACZO,EAAKC,KAAQH,EAAU,IAAQL,GAAQ,GACvCO,EAAKC,KAAQH,EAAUJ,EAAQD,EAAOG,IAEjCH,EAAO,OAAUA,EAAO,OAC7BO,EAAKC,KAAQH,EAAU,IAAQL,GAAQ,IACvCO,EAAKC,KAAQH,EAAUJ,EAASD,GAAQ,EAAKG,GAC7CI,EAAKC,KAAQH,EAAUJ,EAAQD,EAAQG,KAGvC9E,IACA2E,EAAO,QAAoB,KAAPA,IAAe,GACI,KAA1B7J,EAAQuK,aAAatF,IAElCmF,EAAKC,KAAQH,EAAU,IAAQL,GAAQ,IACvCO,EAAKC,KAAQH,EAAUJ,EAASD,GAAQ,GAAMG,GAC9CI,EAAKC,KAAQH,EAAUJ,EAASD,GAAQ,EAAKG,GAC7CI,EAAKC,KAAQH,EAAUJ,EAAQD,GAAQG,IAK/C,OAAOI,EAAKI,KAAK,IAKzB,SAASC,EAAQzK,GACT,IACI0K,EAAOL,EAAIpF,EAAGC,EAAG2E,EADjBK,EAAYC,GAGhB,IAAKpJ,EAAOf,GAAS,GACjB,MAAM,IAAI8F,MAAMwE,IAKpB,IAFAI,KACAL,EAAK,EACApF,GAAK,EAAGC,EAAIlF,EAAQoB,OAAQ8D,KAE7B,QADA2E,EAAO7J,EAAQuK,aAAatF,KACZ,GAChB,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EAEDyF,EAAML,KAAQrK,EAAQwJ,OAAOvE,GAC7B,MACJ,KAAK,GACL,KAAK,GAEDC,IACAwF,EAAML,KAAQH,GAAmB,GAAPL,IAAgB,EACS,GAA1B7J,EAAQuK,aAAatF,IAC9C,MACJ,KAAK,GAEDyF,EAAML,KAAQH,GAAmB,GAAPL,IAAgB,IACU,GAA1B7J,EAAQuK,aAAatF,KAAc,GACT,GAA1BjF,EAAQuK,aAAatF,KAAc,GAC7DC,GAAK,EAKb,OAAOwF,EAAMF,KAAK,IAgU1B,SAASG,EAAY5E,EAAU6E,EAAM/G,GACjCA,EAAQA,EAAQzC,QAAU2E,EAK9B,SAAS8E,EAAa7K,EAAS8K,GAC3B,IAAIrI,EAAe1C,EAAUC,GAE7B,OAAQyC,GACR,KAAKR,GACD,OAAO7B,SAASJ,IAAY8K,KAAQC,OAAO3E,WAAa3D,EAE5D,KAAKtB,GACD,OAAO2J,KAAQE,OAAO5E,WAAa3D,EAEvC,KAAKP,GACD,OAAO4I,KAAQG,QAAQ7E,WAAa3D,EAExC,KAAKX,GACL,KAAKF,GACL,KAAKJ,GACL,KAAKX,GACL,KAAKa,GACD,GAAIoJ,KAAQ9K,EACR,OAAOyC,EAGf,OAAO,EAGX,SAASyI,EAAWlL,GAChB,IAAIyC,EAAe1C,EAAUC,GAE7B,OAAQyC,GACR,KAAKX,GACL,KAAKF,GACL,KAAKJ,GACL,KAAKX,GACL,KAAKa,GACD,OAAOe,EAEX,OAAO,EAGX,SAAS0I,EAAenL,GACpB,IAAIyC,EAAe1C,EAAUC,GAE7B,OAAQyC,GACR,KAAKjB,GACL,KAAKX,GACD,OAAO4B,EAEX,OAAO,EAGX,SAAS2I,EAAaN,EAAMF,EAAMS,GAC9B,IAAIrL,EAAUqL,EAAU,GAExB,OAAKR,EAAa7K,EAAS8K,IAK3BO,EAAUT,EAAO,EAAI,GAAK5K,EAAQ8K,IAC3B,IALHO,EAAU,QAAK,GACR,GAaf,SAASC,EAAeR,EAAMF,EAAM/G,GAChC,IAAI7D,EAAU6D,EAAQ,GAClB0H,EAAaL,EACbM,EAAWD,EAAWvL,GAEtByL,GAAU,EA4Bd,OAzBKb,GAoBDa,EAAUD,EACV3H,EAAQ,GAAK4H,GAAWX,IAnBpBU,IAEMV,KAAQ9K,EAMLuL,EAAWvL,EAAQ8K,MACxBW,GAAU,IANVzL,EAAQ8K,MACRW,GAAU,IASlB5H,EAAQ,GAAK4H,EAAUzL,EAAQ8K,QAnB3B,GA6BDW,EAOX,SAASC,EAAaZ,EAAMF,EAAM/G,GAC9B,IAAI7D,EAAU6D,EAAQ,GAClB0H,EAAaL,EACbM,EAAWD,EAAWvL,GAEtByL,GAAU,EA2Bd,OAxBKb,GAmBDa,EAAUD,EACV3H,EAAQ,GAAK4H,GAAWX,EACxBjH,EAAQ,IAAK,IApBT2H,GAAYV,KAAQ9K,IAGhBuL,EAAWvL,EAAQ8K,IACnBW,GAAU,EAIV5H,EAAQ,IAAK,GAKrBA,EAAQ,GAAK4H,EAAUzL,EAAQ8K,QAlB3B,GA4BDW,EASX,SAASE,EAAeb,EAAMF,EAAM/G,GAChC,IAAI7D,EAAU6D,EAAQ,GAClB+H,EAASf,EAAa7K,EAAS8K,GAUnC,OARIc,IACA/H,EAAQ,GAAK7D,EAAQ8K,IAGrBF,IACA/G,EAAQ,KAAO+H,GAGZA,EAMX,SAASC,EAAcC,GACf,IAAI1C,KAEJ,OAAO2C,GAASD,EAAMnB,EAAavB,IAAUA,EAAMhI,OACvCgI,EAAQ,KAI5B,SAAS4C,GAASF,EAAMG,GAChB,IAAIZ,QAAa,EAASY,GAG1B,OAFAF,GAASD,EAAMV,EAAcC,GAC7BA,EAAU,GAAK,KACRA,EAAU,GAWzB,SAASU,GAASD,EAAMI,EAAUC,EAAMC,EAAMC,EAAMC,EAAMC,GAClD,IAQItH,EAAGC,EAAGsH,EAAKC,EAAOC,EAAatD,EAAO/G,EAAKuI,EAC3C+B,EAAMC,EAAcC,EAAQC,EAAcC,EAC1CC,EAVAC,EAAMC,GACNC,EAASC,GACTC,EAAQC,GACRC,EAAgBC,GAChBC,EAAQC,GACRC,EAAMC,GACNC,EAAYC,GAMhB,IAAK/M,EAAO+K,GACR,MAAM,IAAIhG,MAAMiI,IAGpB,IAAKtM,EAAOyK,GACR,MAAM,IAAIpG,MAAM,gCAUpB,IAPA+G,EAASC,GAAK,EACdL,EAAQ,QACRC,EAAcO,EAAII,MAElBjE,KACA/G,EAAM0K,EAAU,EAEX9H,GAAK,EAAGC,EAAI4G,EAAK1K,OAAQ8D,KAAM,CAMhC,IALW,EACXsH,EAAMV,EAAKtC,SAASvE,GACpB2F,GAAQ1F,EAGJsH,KAAOE,EACPC,EAAOD,EAAYF,OAElB,CAAA,KA7BK,YA6BUE,GAIhB,OAAO,KAHPC,EAAOD,EAAmB,QAO9B,GAAID,KAASU,IACTP,EAAeO,EAAOV,GAClBE,KAAQC,GAGR,OAFAI,GAAwB,EAEhBJ,EAAaD,IAErB,KAAKU,EACDL,GAAc,EAElB,KAAKO,EACG,IAAe,IAAXV,EACA,OAAO,EAaX,GAVIG,IAAgBpC,GAChBiC,GAAUL,GACVM,EAAK,IAGLD,KACAC,EAAK,IAIJlC,EACD,MAGZ,KAAK6C,EACG,IAAe,IAAXZ,EACA,OAAO,EAIX,GAFAA,EAAOC,KAAQN,GAEV5B,EACD,MAGZ,KAAK+C,EACG,IAAe,IAAXd,EACA,OAAO,EAEXzD,EAAM/G,KAASwK,EAAOrC,KAAK,IAC3BqC,EAASC,GAAK,EAClB,MACJ,KAAKe,EACG,IAAe,IAAXhB,EACA,OAAO,EAEXzD,EAAM/G,KAAS,GAW/B,GAHAoK,EAAQE,EACRD,EAAcO,EAAIR,GAEdM,EAAU1K,EAAM,IAOM,IANlB6J,EAAS9C,EAAM2D,MACP,EACAZ,EACAC,EACAC,EACAC,EACAC,GACR,OAAO,EAIf,GAAI3B,EAAM,CAEN,IADA1F,EAAI7C,EAAM0K,EACH7H,KACH,IAMsB,IANlBgH,EAAS9C,EAAM2D,MACN7H,EACDiH,EACAC,EACAC,EACAC,EACAC,GACR,OAAO,EAGf,OAKR,OAAO,EAqGf,SAASyB,GAAUlC,EAAM9L,GACjB,IAAI6D,EAASjB,EAAMqL,EAEnB,IAAKlN,EAAO+K,GACR,MAAM,IAAIhG,MAAMiI,IAqCpB,OAjCAlK,QAAW,EAAS7D,GAAS,GAAO,GACpC+L,GAASD,EAAMJ,EAAc7H,GAE7BjB,EAAOiB,EAAQ,IACfoK,EAAcpK,EAAQ,MAGM,IAATjB,IAITA,KAFN5C,EAAU6D,EAAQ,IASVvC,EAAMtB,IAAYkO,GAAW1I,KAAK5C,GAClC5C,EAAQqI,OAAc,EAAPzF,EAAU,WAKlB5C,EAAQ4C,GAEfqL,IAAgBrL,KAAQ5C,IAb5BiO,GAAc,GAoBfA,EAGf,SAASE,GAASrC,EAAM9L,EAAS2C,GACzB,IAQIyL,EAAQnJ,EAAGC,EAAG4F,EAAMuD,EACpBtI,EAAUuI,EAAY9C,EATtB+C,EAAY/M,GACZgN,EAASrH,EACTzE,EAAQiD,EACR8I,EAAMjL,EACNkL,EAAeC,GACfpD,EAAaJ,EACbyD,EAAiBtN,EAAMtB,GAO3B,IAAKe,EAAO+K,GACR,MAAM,IAAIhG,MAAMiI,IAIpB,IAAKhK,GAAO/D,KAAa4O,EACrB,OAAO,EAKX,KADA9C,EAAOD,EAAcC,MACPA,EAAK1K,OACf,OAAO,EAaX,IAVAgN,EAASpO,GACTqO,EAAcvC,EAAK,MAIfuC,EAAcG,EAAOJ,GAAU,GAGnClJ,EAAI4G,EAAK1K,OAAQ,EAEZ6D,EAAI,EAAGC,KAAM,CAQd,GAPA4F,EAAOgB,IAAO7G,GAIdqJ,EAAaI,EAAalJ,KAAKsF,GAG3B2D,EAAIL,EAAQC,IAEZ7C,EAAWD,EADXxF,EAAWqI,EAAOC,OAIDE,GAAcD,EAMrB9C,IACNzF,EAAWuI,GACNvI,IAAa,GAAIA,WAPtBA,EAAWrD,KAAUqD,IACL3E,WAWnB,CAAA,GAAIwN,GAAkBR,IAAWpO,IAAYsO,EAC9C,MAAM,IAAIxI,MAAM+I,IAIhB9I,EAAWuI,QAGfF,EAASA,EAAOC,GAAetI,EAC/BsI,EAAcvD,EAGTA,IACDuD,EAAcG,EAAOJ,GAAU,GAsBvC,OAFAA,EAAOC,GAAe1L,GAEf,EAIf,SAASmM,GAAWhD,EAAM9L,GAClB,IAAIqL,GAAarL,GAAS,GAK1B,OAHA+L,GAASD,EAAMH,EAAgBN,GAC/BA,EAAU,GAAK,KAERA,EAAU,GAUzB,SAAS0D,GAAQnM,GACb,OAAQ7C,EAAU6C,IAClB,KAAKzB,GACL,KAAKc,GAAkB,OAAO,EAE9B,OAAO,EAGX,SAAS+M,KACLnM,KAAK6B,QA0IT,SAASuK,GAAcC,GACnB,IAAIhJ,EAAQiJ,GAWZ,OATMD,aAAoBhJ,IACtBgJ,EAAWjJ,EAAYC,IAG3BgJ,EAASE,SAAW,UACA,KAEA,KACA,MACbF,EAGX,SAASG,GAAa3K,EAAMwH,GACxB,SAASoD,EAAQ5K,GACb,IACIwH,GAAS,EAAMxH,GAEnB,MAAO6K,GACHrD,GAAS,EAAOqD,IAIpBxN,EAAS2C,GACTA,EAAKvC,KAAKmN,EACA,SAAUC,GACJrD,GAAS,EAAOqD,KAIhCD,EAAQ5K,GAIhB,SAAS8K,GAAcC,EAAShE,EAAS/G,GACrC,IAAI+H,EAAQgD,EAAQL,QAChBxH,EAAO6E,EAAMiD,IAMjB,IAJAjD,EAAMkD,IAAgBlE,EACtBgB,EAAMmD,IAAclL,EAGbkD,EAAKxG,QACRwG,EAAK,GAAG6D,EAAS/G,GACjBkD,EAAKS,OAAO,EAAG,GAIvB,SAAS8G,GAAQU,GAIb,SAASC,EAAWrE,EAAS/G,GACzB8K,GAAcN,EAAUzD,EAAS/G,GAUrC,SAASqL,EAAOR,GACPS,IACDA,GAAY,EACZF,GAAW,EAAOP,IAjB1B,IACIL,EADAc,GAAY,EAqBhB,IAAKvO,EAAOoO,GACR,MAAM,IAAI/J,MAAM,uCAGpBoJ,EAAWD,GAAcpM,MAEzB,IACIgN,EArBJ,SAAiBnL,GACRsL,IACDA,GAAY,EACZX,GAAa3K,EAAMoL,KAkBLC,GAEtB,MAAOR,GACHQ,EAAOR,GAGX,OAAOL,EAGX,SAASI,GAAQ5K,GACb,OAAO,IAAIyK,GAAQ,SAAUG,GACzBA,EAAQ5K,KCtiFhB,OAAiC,oBAAXuL,OAAyBA,OACnB,oBAATC,KAAuBA,KACZ,oBAAXC,OAAyBA,UDFxCC,QAA6B,IAAXH,GAAyBA,GACnB,oBAATC,KAAuBA,KACZ,oBAAXC,OAAyBA,UAExCE,GAAOD,GACPE,GAWJ,WACI,IAAIC,EAAIF,GACJG,EAAMD,EAAEE,SACRC,EAAMH,EACN7P,IAAWgQ,KAASF,GACZA,EAAIN,QAAUQ,EAAIC,aAAeD,EAAIE,cAGjD,OADAL,EAAIC,EAAME,EAAM,KACThQ,EAnBGmQ,GACVC,GAsBJ,SAAqBR,GACjB,IAAIC,EAAIF,GACJ3P,GAAS4P,IAEI,YAAaC,GAAKA,EAAEQ,QAAQC,WAAa,GAG1D,OAFAT,EAAI,KAEG7P,EA7BQuQ,CAAYX,IAC3BY,GAASJ,MAAkBA,GAAaK,KACxCC,GA+BJ,SAAsBd,EAASQ,GAC3B,IAAIP,EAAIF,GACJ3P,EAAS,UACT2Q,EAAO,KAsBX,OApBIf,EACA5P,EAAS6P,EAAEe,UAAUF,UAGhBN,GAAgB,YAAaP,IAClCc,EAAOd,EAAEQ,QACTrQ,GAAW,QACCoQ,EAAaK,KACb,IACIE,EAAKE,SACL,QACAT,EAAaU,IAAM,UACnB,UACAH,EAAKI,KACT,KACAjH,KAAK,KAGrB+F,EAAIc,EAAO,KAEJ3Q,EAxDKgR,CAAapB,GACAQ,IACzBa,GA0DJ,WACI,IAAIrR,EAAWsR,OAAOxL,UAAU9F,SAGhC,MAFsB,oBAEfA,EAASC,KAAK,OAFC,oBAGFD,EAASC,UAAK,GA/DjBsR,GACjBC,GAAOzB,GAAK0B,gBAAkB,KAC9BC,QAAoD,IAA5B/I,MAAM7C,UAAU6L,QAiE5C5B,GAAO,KASP,IAAI6B,GAASN,OAAOO,QACnB7B,QAASA,GACTQ,aAAcA,GACdI,OAAQA,GACRE,UAAWA,GACXO,eAAgBA,GAChBG,KAAMA,GACNE,eAAgBA,KAGbnR,GAAmB,kBACnBW,GAAkB,iBAClBnB,GAAiB,gBACjBH,GAAsB,qBACtB+B,GAAmB,kBACnBd,GAAmB,kBACnBe,GAAoB,mBACpBR,GAAmB,oBACnBE,GAAiB,gBACjBE,GAAkB,kBAClBb,GAAS,SACTd,GAAS,SACTiS,GAAU,UACVxR,GAASgR,OACT1Q,GAAMN,GAAOwF,UACb9F,GAAWY,GAAIZ,SAafyD,GAAS4N,GAVb,SAAqB3R,GACjB,OAAOM,GAASC,KAAKP,KAAaa,IAGtC,SAAoBb,GAChB,OAAmB,OAAZA,QACa,IAAZA,GACAM,GAASC,KAAKP,KAAaa,IAiLnCwR,GAAMT,OACNjR,GAAI0R,GAAIjM,UACRhD,GAA0C,mBAA5BiP,GAAIC,oBAyHtB,SAAiBtS,EAASmJ,EAASJ,EAAOwJ,GACtC,IAEIC,EAAO5P,EAAMqC,EAAGC,EAFhBuN,EAASzM,GACT0M,GAAwB,IAAXH,EAGjB,IAAKhQ,EAAcvC,GACf,MAAM,IAAI8F,MAAM,gCAGpB,GAAIxC,UAAUlC,OAAS,GAAuB,kBAAXmR,EAC/B,MAAM,IAAIzM,MAAM,8CAQpB,SALc,IAAViD,IACAA,EAAQ,MAIP9D,GAAK,EAAGC,GADbsN,EAAQH,GAAIC,oBAAoBtS,IACToB,OAAQ8D,MAC3BtC,EAAO4P,IAAQvN,IACVyN,IAAcD,EAAOlS,KAAKP,EAAS4C,KACkB,IAAtDuG,EAAQ5I,KAAKwI,EAAO/I,EAAQ4C,GAAOA,EAAM5C,MAKjD,OAAOA,GArDX,SAAiBA,EAASmJ,EAASJ,EAAOwJ,GACtC,IAEI3P,EAFA6P,EAASzM,GACT0M,GAAwB,IAAXH,EAGjB,IAAKhQ,EAAcvC,GACf,MAAM,IAAI8F,MAAM,gCAGpB,GAAIxC,UAAUlC,OAAS,GAAuB,kBAAXmR,EAC/B,MAAM,IAAIzM,MAAM,mDAGN,IAAViD,IACAA,EAAQ,MAGZ,IAAKnG,KAAQ5C,EACT,IAAK0S,GAAcD,EAAOlS,KAAKP,EAAS4C,MACkB,IAAtDuG,EAAQ5I,KAAKwI,EAAO/I,EAAQ4C,GAAOA,EAAM5C,GACzC,MAIR,OAAOA,GApHPgG,GAAUrF,GAAEG,eACZyE,GAAiB,kBAqhBjB8B,GAAQ,KAURkJ,GAAIH,GACJ1H,GAAU,yDACVH,GAAkB,EAClBI,GAAiB,EACjBd,MACA8K,MACA3J,GAAe,4BACfK,GAAkB,+BAClBuJ,KAAyBrC,GAAEsC,aAC3BC,GAAWF,GA6Gf,SAA6BzJ,GACzB,IAAK1H,EAAO0H,GACR,MAAM,IAAIrD,MAAMuD,IAEpB,OAAOkH,GAAEsC,aAAa1J,IAnB1B,SAAsBA,GAClB,IAAK1H,EAAO0H,GACR,MAAM,IAAIrD,MAAMuD,IAEpB,OAAOkH,GAAEwC,WAAW5J,EAAS,IAhG7B6J,GAAaJ,GAkHjB,SAA8BK,GAC1B,IACI1C,GAAE2C,eAAeD,GAErB,MAAOE,IACP,OAAO/L,KApBX,SAA2B6L,GACvB,IACI1C,GAAE6C,aAAaH,GAEnB,MAAOE,IACP,OAAO/L,KAqBXwB,EAAexC,WACX3F,YAAamI,EAEbC,IAAK,SAAUjG,EAAMkG,EAAMC,GACvB,OAAOF,EAAIhG,KAAK6E,OAAS9E,EAAMkG,EAAMC,IAGzCG,SAAU,SAAUtG,EAAMuG,GAGtB,OAFAD,EAASrG,KAAK6E,OAAS9E,EAAMuG,GAEtBtG,MAGXqE,MAAO,SAAUtE,EAAMsF,GACnB,IAAIR,EAAS7E,KAAK6E,OAElB,IAAK3G,EAAO6B,GACR,MAAM,IAAIkD,MAAMkD,IASpB,OANI1F,UAAUlC,OAAS,EACnB6G,EAAaP,EAAS9E,EAAMsF,GAG5BD,EAAaP,EAAS9E,GAEnBC,OA2Hf,IAAIwQ,GAAiB,8BACjBC,GAAiB,8BACjBC,GAAItK,MAAM7C,UAkCT4L,IACDrM,EAAO4N,IACHtB,QAlCR,SAAiBjS,GAMb,IAJA,IAAIwT,EAAW3Q,KACXqC,EAAIsO,EAASpS,OACb6D,GAAK,EAEFC,KACH,GAAIlF,IAAYwT,IAAWvO,GAEvB,OADAuO,EAAW,KACJvO,EAIf,OAAQ,GAsBJT,YAnBR,SAAqBxE,GAKjB,IAHA,IAAIwT,EAAW3Q,KACXqC,EAAIsO,EAASpS,OAEV8D,KACH,GAAIlF,IAAYwT,EAAStO,GAErB,OADAsO,EAAW,KACJtO,EAIf,OAAQ,KAoKZ,IAAI6E,GAAY,IACZE,GAAW,GACXwJ,GAAW,IACXtJ,GAAea,OAAOb,aACtBuJ,GACI,oEACJC,GAAgB,sBAChBC,GAA0B,mBAC1BC,GAAW,iBACXC,GAAa,YACbC,GAAU,aACVzJ,GAAkB,+BA+NlB4D,GAAa,oBACbS,GAAmB,qBACnBE,GAAsB,6EAEtBd,GAAqB,4BACrBT,GAAQ,QACRE,GAAgB,gBAChBE,GAAQ,QACRE,GAAM,MACNE,GAAY,YACZZ,IACIG,OACI2G,IAAK,gBACLC,IAAK,eACLC,IAAK,eACLC,QAAW,MACXC,KAAM,cAGVC,eACIC,IAAK,eACLL,IAAK,WACLC,IAAK,WACLC,QAAW,eAGfI,cACIN,IAAK,eACLG,KAAM,gBACND,QAAW,UAGfK,QACIP,IAAK,eACLG,KAAM,gBACND,QAAW,UAGfM,eACIN,QAAW,UAGfO,cACIR,IAAK,eACLE,KAAM,gBACND,QAAW,UAGfQ,QACIT,IAAK,eACLE,KAAM,gBACND,QAAW,UAGfS,eACIT,QAAW,UAGfU,UACIZ,IAAK,cACLG,KAAM,YACND,QAAW,MAEfW,IACIb,IAAK,cACLG,KAAM,YACND,QAAW,MAEfY,WACIZ,QAAW,MAEfa,UACId,IAAK,cACLE,KAAM,YACND,QAAW,MAEfc,IACIf,IAAK,cACLE,KAAM,YACND,QAAW,MAEfe,WACIf,QAAW,MAGfgB,aACIb,IAAK,eACLF,KAAM,qBACND,QAAW,eAGfiB,oBACIjB,QAAW,eAGfkB,aACIf,IAAK,gBAGTgB,KACIC,IAAK,QACLnB,KAAM,aACNJ,IAAK,gBACLG,QAAW,OAEfqB,YACIrB,QAAW,OAGfsB,cACIzB,IAAK,gBACLuB,IAAK,UAGbnI,IACIC,OACIiI,IAAOhI,GACPkI,WAAchI,IAGlB+G,cACIC,OAAUlH,GACVmI,aAAgB3H,IAIpB0G,QACIA,OAAU9G,GACV+H,aAAgB7H,IAGpB6G,eACID,OAAU9G,IAGdgH,cACIC,OAAUrH,GACVmI,aAAgB3H,IAIpB6G,QACIA,OAAUjH,GACV+H,aAAgB7H,IAGpBgH,eACID,OAAUjH,IAGd4H,KACIA,IAAO5H,GACPL,MAASO,GACTyG,cAAiBzG,IAErB4H,YACIF,IAAO5H,GACP2G,cAAiBzG,GACjBP,MAASC,IAGb+G,eACIc,YAAe7H,GACfmI,aAAgB3H,IAGpBqH,aACIA,YAAezH,GACf+H,aAAgB7H,IAGpBwH,oBACID,YAAezH,IAGnBmH,UACIC,GAAMxH,GACN+H,YAAevH,IAEnBgH,IACIA,GAAMpH,GACN2H,YAAezH,IAEnBmH,WACID,GAAMpH,IAGVsH,UACIC,GAAM3H,GACN+H,YAAevH,IAEnBmH,IACIA,GAAMvH,GACN2H,YAAezH,IAEnBsH,WACID,GAAMvH,KAqlBdgI,GAAa,4BACbC,GAAa,4BAkBjB3G,GAAS5I,WACL3F,YAAauO,GAEb4G,QAAS,SAAUjT,GACfgD,EAAO9C,KAAK6B,KAAM/B,GAAO,IAG7BkT,MAAO,SAAUjT,EAAMD,GACnBE,KAAK6B,KAAK9B,GAAQD,GAGtB4E,IAAK,SAAU3E,GACX,IAAIgF,EAAO/E,KAAK6B,KAEhB,IAAKqK,GAAQnM,GACT,MAAM,IAAIkD,MAAM4P,IAGpB,GAAIlS,EAASoE,EAAMhF,GACf,OAAOgF,EAAKhF,IAMpBkT,IAAK,SAAUlT,EAAMD,GACjB,OAAQ5C,EAAU6C,IAClB,KAAK/B,GACL,KAAKW,GACDqB,KAAK+S,QAAQhT,GACb,MAEJ,KAAKzB,GACL,KAAKc,GACDY,KAAKgT,MAAMjT,EAAMD,GACjB,MAEJ,QACI,MAAM,IAAImD,MAAM4P,IAGpB,OAAO7S,MAGXkT,MAAO,SAAUnT,GACb,IAAIgF,EAAO/E,KAAK6B,KAEhB,IAAKqK,GAAQnM,GACT,MAAM,IAAIkD,MAAM4P,IAOpB,OAJIlS,EAASoE,EAAMhF,WACRgF,EAAKhF,GAGTC,MAGXmT,KAAM,SAAUlK,GACZ,IAAK/K,EAAO+K,GACR,MAAM,IAAIhG,MAAM6P,IAGpB,OAAO3J,GAASF,EAAMjJ,KAAK6B,OAG/BuR,OAAQ,SAAUnK,EAAMnJ,GACpB,IAAK5B,EAAO+K,GACR,MAAM,IAAIhG,MAAM6P,IAKpB,OAFAxH,GAASrC,EAAMjJ,KAAK6B,KAAM/B,GAEnBE,MAIXqT,OAAQ,SAAUpK,GACd,IAAK/K,EAAO+K,GACR,MAAM,IAAIhG,MAAM6P,IAKpB,OAFA3H,GAAUlC,EAAMjJ,KAAK6B,MAEd7B,MAGX+I,OAAQ,SAAUhJ,GACd,IAAKmM,GAAQnM,GACT,MAAM,IAAIkD,MAAM4P,IAGpB,OAAOlS,EAASX,KAAK6B,KAAM9B,IAG/BuT,WAAY,SAAUrK,GAClB,IAAK/K,EAAO+K,GACR,MAAM,IAAIhG,MAAM6P,IAGpB,OAAO7G,GAAWhD,EAAMjJ,KAAK6B,OAGjCiB,OAAQ,SAAShD,GACb,OAAQ5C,EAAU4C,IAClB,KAAK9B,GACL,KAAKW,GAED,OADAqB,KAAK+S,QAAQjT,GACNE,KAEX,QACI,MAAM,IAAIiD,MAAM,+BAKxBoB,MAAO,WAEH,OADAA,EAAMrE,KAAK6B,MACJ7B,MAGXwC,MAAO,WAEH,OAAOA,EADIxC,KAAK6B,MACG,KAK3B,IAAI4B,GAAQ2C,MAAM7C,UAAUE,MACxB8P,GAAMhG,GACNiG,GAAiB,gCACjB1G,GAAe,EACfC,GAAa,EACbF,GAAgB,EAsLpBP,GAAQ/I,WACJ3F,YAAa0O,GACbhN,KAAM,SAAUmU,EAAWC,GAOvB,SAASC,EAAO/K,EAAS/G,GACrB,IAAI+R,EAAWjH,GACXkH,EAASjL,EAAU6K,EAAYC,EAEnC,GAAI9U,EAAOiV,GACP,IAQI,OAPAhS,EAAOgS,EAAOhS,QACd2K,GAAa3K,EACD,SAAU+G,EAAS/G,GACf+R,EAASvH,EACAzD,EACA/G,KAI7B,MAAO6K,GACH7K,EAAO6K,EACP9D,GAAU,EAGlBgL,EAASvH,EAAUzD,EAAS/G,GA1BhC,IACI+H,EADK5J,KACMuM,QACX3D,EAAUgB,EAAMkD,IAChB/H,EAAO6E,EAAMiD,IACbR,EAAWD,KAkCf,OATgB,OAAZxD,EACA7D,EAAKA,EAAKxG,QAAUoV,EAGpB1D,GAAS,WACL0D,EAAO/K,EAASgB,EAAMmD,OAIvBV,GAGXyH,MAAS,SAAUJ,GACf,OAAO1T,KAAKV,KAAK,KAAMoU,KAK/B5Q,EAAOwJ,IACH5F,IAnIJ,SAAaqN,GACT,IAAIC,EAoCJ,IAAKzU,EAASwU,GACV,MAAM,IAAIE,UAAUT,IAMxB,OAHAO,EAActQ,GAAM/F,KAAKqW,EAAa,IACtCC,EAAQD,EAAYxV,QAMb,IAAI+N,GA7CX,SAAkBG,EAASS,GACvB,IAAInI,EAAOgP,EACPG,EAAYF,EACZG,GAAU,EACV9R,EAAI6R,EACJ9R,EAAI,EACJvE,KAuBJ,IAAKA,EAAOU,OAAS8D,EAAGA,IAAKD,KArB7B,SAAiBE,EAAO2F,GAkBpBuE,GAIWzH,EAAK3C,GArBhB,SAAkBwG,EAAS/G,GACvB,IAAIuS,EAAQvW,EAEZ,IAAIsW,EAAJ,CAEA,IAAKvL,EAGD,OAFAsE,EAAOrL,QACPsS,GAAU,GAIdC,EAAM9R,GAAST,IAERqS,GACHzH,EAAQ2H,MAOhBlG,CAAQ9L,KAYLqK,QAuFX4H,KAjFJ,SAAcN,GAoBV,IAAKxU,EAASwU,GACV,MAAM,IAAIE,UAAUT,IAKxB,OAFAO,EAActQ,GAAM/F,KAAKqW,EAAa,GAE/B,IAAIzH,GAzBX,SAAkBG,EAASS,GAcvB,IAbA,IAAIiH,GAAU,EACVG,EAAa9H,GACbzH,EAAOgP,EACP3R,GAAK,EACLC,EAAI0C,EAAKxG,OASN8D,KACHiS,EAAWvP,IAAO3C,GARtB,SAAmBwG,EAAS/G,GACnBsS,IACDA,GAAU,GACTvL,EAAU6D,EAAUS,GAAQrL,SAuEzCqL,OA3IJ,SAAgBqH,GACZ,OAAO,IAAIjI,GAAQ,WACf7L,UAAU,GAAG8T,MA0IjB9H,QAASA,KAIR7N,EAAO2U,GAAIjH,WACZiH,GAAIjH,QAAUA,IAGlBiH,GAAM,KAx3DN,SAAaiB,GACLhQ,GAAQgQ,EA47DhBC,CAjEe1F,OAAOO,QACrBoF,IAAKrF,GACLsF,eA/YD,WACI,OAAO,IAAIxI,IA+YdG,QAASA,GACT9K,KAAMjB,GACNuC,OAAQA,EACR8R,OAz+DD,SAAgBjV,EAAQQ,EAAQ0E,GACxB,IAAI7B,EAAKtD,EACLsB,GAAWrB,EAAQQ,GAEvB,IAAK6C,EAAGrD,GACJ,MAAM,IAAIsD,MAAM,+BAGpB,IAAKD,EAAG7C,GACJ,MAAM,IAAI8C,MAAM,+BAGpB,IAAK/B,GAAO2D,GACR,MAAM,IAAI5B,MAAM,+BAKpB,OAFA1C,GAAKsE,EAAQ5E,EAAiBe,GAC9BA,EAAUA,EAAQ,GAAKA,EAAQ,GAAM,KAC9BrB,GAw9DdgB,SAAUA,EACVyC,YAAaA,EACbZ,MAAOA,EACP4B,QAASA,EACTyQ,OAt6DD,SAAgBlV,EAAQQ,EAAQuP,GACxB,IAAKhQ,EAAcC,GACf,MAAM,IAAIsD,MAAM,8BAGpB,OADA1C,GAAKJ,EAAQO,EAAaf,GAAmB,IAAX+P,GAC3B/P,GAk6Dd0E,MAAOA,EACPC,eAAgBA,EAChB2L,SAAUA,GACVE,WAAYA,GACZnK,IAAKA,EACLK,SAAUA,EACVyO,YA3pDD,SAAqB/U,EAAMsF,GAEnB,IAAKnH,EAAO6B,GACR,MAAM,IAAIkD,MAAMkD,IAUpB,OAPI1F,UAAUlC,OAAS,EACnB6G,EAAarF,EAAMsF,GAGnBD,EAAarF,GAGVwE,KA+oDdwQ,WA5oDD,SAAoBhV,GAIZ,SAASiV,IACLjP,EAAelG,MAAMG,KAAMS,WAJ/B,IACIoE,EAAQoQ,EAAYC,EADpBnQ,EAAO+K,GAOX,IAAK5R,EAAO6B,GACR,MAAM,IAAIkD,MAAMkD,IAIpB,OADAtB,EAAS9E,EAAO,OACAgF,EAYTA,EAAKF,IAXRJ,EAAQlB,UAAYwC,EAAexC,UACnC2R,EAAQ,IAAIzQ,EAAQI,GACpBqQ,EAAMtX,YAAcoX,EACpBE,EAAMrQ,OAASA,EACfmQ,EAAWzR,UAAY2R,EAEvBnQ,EAAKF,GAAUoQ,EAAa,IAAID,EAEzBC,IAunDlB/T,OAAQA,GACRnD,OAAQC,GACRmX,MAAOxW,GACPyW,KAAM5X,GACN6X,UAAWhY,GACXC,OAAQ8B,GACRhB,OAAQE,GACRiR,QAASlQ,GACTiW,OAAQzW,GACR0W,SAAU1W,GACV2W,KAAMzW,GACN0W,MAAOxW,GACP/B,UAAWA,EACXS,aAAcA,EACdO,OAAQA,EACRM,OAAQA,EACRkX,OAtjFD,SAAgBvY,GACR,cAAeA,GACf,KAAKG,GAAQ,OAAOC,SAASJ,GAC7B,KAAKoS,GACL,KAAKnR,GAAQ,OAAO,EAEpB,OAAO,GAijFdK,MAAOA,EACPG,OAAQA,EACRE,KAAMA,EACNE,MAAOA,EACPE,SAAUA,EACVK,SAAUA,EACVoW,KA5+ED,SAAcxY,EAASyY,GACf,IAAIpW,EACJ,OAAQoW,GACR,IAAK,SACD,OAAQ1Y,EAAUC,IAClB,KAAKmB,GACL,KAAKc,GACL,KAAKC,GAAmB,OAAO,EAE/B,OAAO,EAEX,IAAK,SACL,IAAK,QACDuW,EAAS,SACT,MAEJ,IAAK,SACDA,EAAS,WACT,MAEJ,IAAK,SACL,IAAK,eACD,OAAOjY,EAAaR,GAGxB,eAAWyY,IAAWxX,MAClBoB,EAAMoW,EAAOrX,UAEFrB,EAAUC,KAAa,WACFyY,EAAOjP,OAAO,GAAGC,cACjBgP,EAAOC,UAAU,EAAGrW,GACpB,KA88E3CsW,UA5kDD,SAAmBC,EAAQC,EAAQC,GAC3B,IACI9Y,EAASkF,EAAG7C,EAAKwU,EADjBkC,EAAUzX,EAGd,IAAKyX,EAAQH,GACT,MAAM,IAAI9S,MAAMuN,IAGpB,IAAK0F,EAAQF,GACT,MAAM,IAAI/S,MAAMwN,KAGpBsF,GAAsB,IAAbE,EAAoBF,EAAOtS,MAAM,GAAKsS,GAGxCI,KAAKtW,MAAMkW,EAAQC,GAI1B5B,EAAO,IAAK/R,EAHZ2R,EAAQ+B,EAAOxX,OAGQ8D,KAInB,IAHAlF,EAAU4Y,EAAO1T,GAGZ7C,EAAMwU,EAAOxU,KACd,GAAI6C,IAAM7C,GAAOrC,IAAY4Y,EAAOvW,GAAM,CACtCwU,IACA+B,EAAOvQ,OAAOnD,EAAG,GACjB,SAAS+R,EAKrB,OAAO2B,GA6iDdK,cA9hDD,SAAuBL,EAAQC,EAAQC,GAC/B,IACI9Y,EAASkZ,EAAIC,EAAIC,EAAQC,EADzBN,EAAUzX,EAGd,IAAKyX,EAAQH,GACT,MAAM,IAAI9S,MAAMuN,IAGpB,IAAK0F,EAAQF,GACT,MAAM,IAAI/S,MAAMwN,IAGpB8F,EAASR,EAAOxX,OAChBiY,EAASR,EAAOzX,OAGhBwX,GAAsB,IAAbE,EAAoBF,EAAOtS,MAAM,GAAKsS,EAE/C3B,EAAO,IAAKiC,EAAKE,EAAQF,KAAO,CAC5BlZ,EAAU4Y,EAAOM,GACjBI,EAAW,IAAKH,EAAKE,EAAQF,KACzB,GAAInZ,IAAY6Y,EAAOM,GAAK,CAExB,IAAKA,EAAKC,EAAQD,KACd,GAAIA,IAAOD,GAAMlZ,IAAY4Y,EAAOO,GAChC,MAAMG,EAGd,SAASrC,EAGjB2B,EAAOvQ,OAAO6Q,EAAI,GAClBE,IAGJ,OAAOR,GA4/CdW,eA5+CD,SAAwBX,EAAQC,EAAQC,GAChC,IACI9Y,EAASkZ,EAAIC,EAAIC,EAAQC,EADzBN,EAAUzX,EAGd,IAAKyX,EAAQH,GACT,MAAM,IAAI9S,MAAMuN,IAGpB,IAAK0F,EAAQF,GACT,MAAM,IAAI/S,MAAMwN,IAGpB8F,EAASR,EAAOxX,OAChBiY,EAASR,EAAOzX,OAGhBwX,GAAsB,IAAbE,EAAoBF,EAAOtS,MAAM,GAAKsS,EAE/C3B,EAAO,IAAKiC,EAAKE,EAAQF,KAAO,CAI5B,IAHAlZ,EAAU4Y,EAAOM,GAGZC,EAAKE,EAAQF,KACd,GAAInZ,IAAY6Y,EAAOM,GAAK,CACxBP,EAAOvQ,OAAO6Q,EAAI,GAClBE,IACA,SAASnC,EAKjB,IAAKkC,EAAKC,EAAQD,KACd,GAAIA,IAAOD,GAAMlZ,IAAY4Y,EAAOO,GAAK,CACrCP,EAAOvQ,OAAO6Q,EAAI,GAClBE,IACA,SAASnC,GAKrB,OAAO2B,GAq8CdY,SA56CD,SAAkBxZ,GACV,OAAOA,EAAQyZ,QAAQ5F,GAAUvK,IA46CxCoQ,WAz6CD,SAAoB1Z,GACZ,OAAOA,EAAQyZ,QAAQ3F,GAAYpK,IAy6C1CE,QAASA,EACTa,QAASA,EACTkP,SA90CD,SAAkB3Z,GACV,IAMIkF,EAAU2E,EAAM+P,EAAWpN,EAN3BS,EAAMyG,GACN7G,KACAC,EAAK,EACL7H,GAAK,EACL4U,GAAS,EACTC,EAAM7M,EAAIzD,OAAO,IAGrB,IAAKzI,EAAOf,GAAS,GACjB,MAAM,IAAI8F,MAAMwE,IAOpB,IAFApF,GADAlF,EAAU4J,EAAQ5J,IACEoB,OAEb8D,KAAM,CAIT,OAHA2E,EAAO7J,EAAQuK,aAAatF,GAC5B2U,EAAO3U,EAAI,GAGX,KAAK,EACDuH,EAAMS,EAAIzD,QAAe,IAAPK,IAAgB,GAClCgQ,GAAiB,EAAPhQ,IAAgB,EAC1B,MACJ,KAAK,EACD2C,EAAMS,EAAIzD,OAAOqQ,GAAiB,IAAPhQ,IAAgB,GAC3CgQ,GAAiB,GAAPhQ,IAAgB,EAC1B,MACJ,KAAK,EACD2C,EAAMS,EAAIzD,OAAOqQ,GAAiB,IAAPhQ,IAAgB,GAC3CgQ,EAAgB,GAAPhQ,EASb,GAPAgD,EAAOC,KAAQN,IAERtH,GACc,IAAT0U,KACR/M,EAAOC,KAAQG,EAAIzD,OAAOqQ,KAGzB3U,EAAG,CAEJ,IAAKA,GADLA,EAAI4H,EAAK,IACK,EAAI5H,EAAGA,KACjB2H,EAAOC,KAAQgN,EAEnB,OAIR,OAAOjN,EAAOrC,KAAK,KA6xC1BuP,SAzxCD,SAAkB/Z,GACV,IAMIkF,EAAG2E,EAAMgQ,EAAQrN,EAAKoN,EANtB3M,EAAMyG,GACNsG,EAAUvG,GACV5G,KACAC,EAAK,EACL7H,GAAK,EACLgV,EAAW9P,GAGf,IAAKpJ,EAAOf,GAAS,IAAS2T,GAAcnO,KAAKxF,GAC7C,MAAM,IAAI8F,MAAMwE,IAMpB,IAFApF,GADAlF,EAAUA,EAAQyZ,QAAQ7F,GAAyB,KACvCxS,OAEL8D,KAAM,CAIT,OAHA2E,EAAOoD,EAAIgF,QAAQjS,EAAQwJ,SAASvE,IACpC2U,EAAO3U,EAAI,GAGX,KAAK,EACDuH,EAAM,EACN,MACJ,KAAK,EACDA,GAAQqN,GAAU,EAAMhQ,GAAQ,GAAMmQ,EACtC,MACJ,KAAK,EACDxN,GAAQqN,GAAU,EAAMhQ,GAAQ,GAAMmQ,EACtC,MACJ,KAAK,EACDxN,GAAQqN,GAAU,EAAKhQ,GAAQmQ,EAKnC,GAFAH,EAAShQ,GAEJ3E,GAAK0U,EAAO,GAAKpN,EAAM,GACxB,MAGAoN,IACA/M,EAAOC,KAAQmN,EAASzN,IAIhC,OAAO/B,EAAQoC,EAAOrC,KAAK,MA6uClC0P,KA1uCD,SAAcla,GACN,IAAKe,EAAOf,GAAS,GACjB,MAAM,IAAI8F,MAAMwE,IAGpB,OAAOtK,EAAUA,EAAQyZ,QAAQ1F,GAAS,IAAM/T,GAsuCvD6L,cAAeA,EACfG,SAAUA,GACVmO,YA11BD,SAAqBrO,EAAMpI,EAASC,GAC5B,OAAOsD,EAAQ+E,GAASF,EAAMpI,GAAUC,IA01B/CyW,UAv1BD,SAAmBtO,EAAMG,EAAW5F,GAC5B,OAAOhB,EAAM2G,GAASF,EAAMG,IAAqB,IAAT5F,IAu1B/C0F,SAAUA,GACVsO,QAzsBD,SAAiBvO,EAAM9L,EAAS2C,EAAO2X,GAC/B,IAGIzW,EAASjB,EAAM2X,EAASC,EAAgBC,EACxCC,EAAgBC,EAAWC,EAJ3BrM,EAAY/M,GACZkB,EAAQiD,EACR6F,EAAWN,EAIf,IAAKnK,EAAO+K,GACR,MAAM,IAAIhG,MAAMiI,IAQpB,GAJAlK,QAAW,EAAS7D,GAAS,GAC7B+L,GAASD,EAAMR,EAAgBzH,IAGlB,KAFbjB,EAAOiB,EAAQ,IAEK,CAqBhB,OApBA7D,EAAU6D,EAAQ,GAClB2W,EAAiBhP,EAAS7I,GAC1B+X,EAAiBpZ,EAAMtB,IAAYkO,GAAW1I,KAAK5C,GAE/CA,KAAQ5C,EAERya,EAAmBjP,EADnB+O,EAAUva,EAAQ4C,KAIlB2X,OAAUta,EACVwa,EAAmB,MAGvBG,EAAWJ,KAAoBC,EAC/BE,EAAYC,GACIJ,IAAmBjM,GACnBkM,IAAqBlM,EAI7B+L,GAER,IAAK,SACDA,GAAaI,EACTA,GACA1a,EAAQqI,OAAc,EAAPzF,EAAU,EAAGD,GAEhC,MAGJ,IAAK,QACD2X,GAAaM,EACTA,GACAlY,EAAM6X,EAAS5X,GAEnB,MAGJ,IAAK,OACD2X,GAAaK,EACTA,GACAJ,EAAQvB,KAAKtW,MAAM6X,EAAS5X,GAEhC,MAGJ,IAAK,UACD2X,GAAaK,EACTA,GACAJ,EAAQlS,OAAO3F,MAAM6X,GAAU,EAAG,GAAGM,OAAOlY,IAEhD,MAGJ,KAAK,EAEL,QAEI2X,GAAaM,EACTA,IACID,EACAJ,EAAQvB,KAAKtW,MAAM6X,EAAS5X,GAG5BD,EAAM6X,EAAS5X,IAU3B,OAJkB,IAAd2X,IACAta,EAAQ4C,GAAQD,IAGb,EAGX,OAAO,GA4mBdqL,UAAWA,GACXG,SAAUA,GACVW,WAAYA,MEzvFbgM,IAIMC,GAAQ,SACEnY,GACZC,KAASoQ,GAAK,IAAMrQ,EACpBC,KAASD,KAAOA,EAEhBC,KAASiV,YAAa,EACtBjV,KAASmY,aAOHC,GAAS,WAEXpY,KAAS2P,SACT3P,KAASqY,aAGbD,aAAI/R,kBAAStG,EAAMuY,GAEf,IAIQlW,EAAGC,EAAGkW,EAAYhS,EAAOiS,EAAIpI,EAAIqI,EAJjCC,EAAWxa,EACfyR,EAAY3P,KAAK2P,MACjB5K,EAAW/E,KAAKqY,SAChBM,EAAmBT,GAGvB,IAASQ,EAAS3Y,GACd,MAAU,IAAIkD,MAhCL,qCAqCb,IAFAmN,EAAS,IAAMrQ,KAEDgF,GAAQA,EAAKqL,GAAI6E,WAC3B,MAAU,IAAIhS,MAAM,WAAWlD,sBAenC,GAZA4P,EAAUA,EAAMpR,QAAUwB,EAE1B0Y,EAAoB,IAAIE,EAAa5Y,GAErCgF,EAASqL,GAAMqI,EACfA,EAAkBxD,YAAa,EAGvByD,EAASJ,KACbA,GAAoBA,IAGhB7Z,EAAM6Z,GAIV,IAHA/R,EAAYkS,EAAcN,SAC1BK,EAAS,EAEApW,GAAK,EAAGC,EAAIiW,EAAa/Z,OAAQ8D,KAE9BqW,EADRH,EAAiBD,IAAelW,MAE5BmE,EAAUiS,KAAQD,GAO9B,OAAWvY,MAIfoY,aAAIQ,iBAAQjJ,GACR,IAEQ7K,EAAUtF,EAAKO,EAAMqQ,EAAIyI,EAAUC,EAAO9E,EAC9C+E,EAAUZ,EAAUa,EAAUC,EAH1BlU,EAAO/E,KAAKqY,SAChBK,EAAexa,EAQnB,GAJQwa,EAAS/I,KACbA,GAAaA,IAGTlR,EAAMkR,GAAQ,CAIlB,IAASnQ,EAHTwU,EAAYrE,EAAMpR,OAGIiB,KAAQ,CAG1B,GAFAO,EAAW4P,EAAMnQ,IAERkZ,EAAS3Y,GACd,MAAU,IAAIkD,MAxFd,iDA4FJ,MADAmN,EAAS,IAAMrQ,KACCgF,GACZ,MAAU,IAAI9B,MAAM,WAAWlD,oBAE1B,IAAKgF,EAAKqL,GAAI6E,WACnB,MAAU,IAAIhS,MAAM,WAAWlD,yBAYvC,IAPA8Y,KACAC,EAAY,KACZhU,GAAgB,EAChBtF,EAAUwU,EACVgF,KACAC,EAAS,EAEEzZ,KASP,GARAO,EAAW4P,IAAQ7K,GACnBsL,EAAS,IAAMrQ,EACfgZ,EAAWhU,EAAKqL,GAEhB+H,EAAeY,EAAKZ,SACpBnE,EAAYmE,EAAS5Z,OAIjBua,GACIvN,OAAYuN,EACZI,MAAWnZ,EACXqC,EAAO0C,EACPzC,EAAO7C,EACP+G,MAAWoJ,EACXwJ,GAAQH,GAEZrJ,EAAYwI,EACZ3Y,EAAUwU,EACVlP,GAAgB,OAWpB,GANUsL,KAAMyI,IACZG,EAAaC,KACTJ,EAAazI,GAAMrQ,IAIlBP,EAEL,KAAWsZ,EAAOA,EAAQA,EAAMvN,OAS5B,GARA/L,EAAUsZ,EAAMzW,EAChBtC,EAAW+Y,EAAMI,MAGjBF,EAAaC,KACTJ,EAAa,IAAM9Y,GAAQA,EAGvBP,EAAK,CACTsF,EAAegU,EAAM1W,GACrBuN,EAAYmJ,EAAMK,IACRhD,KAAKtW,MAAM8P,EAAOqJ,GAC5BA,EAAerJ,EACfA,EAAYmJ,EAAMvS,MAClB0S,EAASD,EAASza,OAClB"}